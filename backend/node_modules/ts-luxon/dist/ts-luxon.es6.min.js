class e extends Error{}class t extends e{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class r extends e{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class s extends e{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class n extends e{constructor(e){super(`Invalid unit ${e}`),Object.setPrototypeOf(this,n.prototype)}}class i extends e{constructor(e){super(`${e} is an invalid or unknown zone specifier`),Object.setPrototypeOf(this,i.prototype)}}class a extends e{constructor(e){super(e),Object.setPrototypeOf(this,a.prototype)}}class o extends e{constructor(e){super(e),Object.setPrototypeOf(this,o.prototype)}}class u extends e{constructor(){super("Zone is an abstract class"),Object.setPrototypeOf(this,u.prototype)}}var c=Intl;function l(e){return void 0!==e}function h(e){return void 0===e}function d(e){return"number"==typeof e}function m(e){return d(e)&&e%1==0}function f(){try{return void 0!==c&&!!c.RelativeTimeFormat}catch(e){return!1}}function y(e,t,r){if(0!==e.length)return e.reduce(((e,s)=>(s=[t(s),s],r(e[0],s[0])===e[0]?e:s)),[t(e[0]),e[0]])[1]}function _(e,t,r){return m(e)&&t<=e&&e<=r}function g(e,t=2){var r=e<0?"-":"";const s=r?-1*+e:e;let n;return n=s.toString().length<t?("0".repeat(t)+s).slice(-t):s.toString(),`${r}${n}`}function v(e){if(e)return parseInt(e,10)}function p(e){if(e)return parseFloat(e)}function w(e){if(!h(e)&&null!==e&&""!==e)return e=1e3*parseFloat("0."+e),Math.floor(e)}function O(e,t,r=!1){const s=Math.pow(10,t);return(r?Math.trunc:Math.round)(e*s)/s}function b(e){return e%4==0&&(e%100!=0||e%400==0)}function T(e){return b(e)?366:365}function S(e,t){var r=function(e,t){return e-t*Math.floor(e/t)}(t-1,12)+1;return[31,b(e+(t-r)/12)?29:28,31,30,31,30,31,31,30,31,30,31][r-1]}function k(e){var t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);if(_(e.year,0,99)){const e=new Date(t);return e.setUTCFullYear(e.getUTCFullYear()-1900),e.getTime()}return t}function M(e){var t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7;e=((e=e-1)+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7;return 4==t||3==e?53:52}function N(e){return 99<e?e:60<e?1900+e:2e3+e}function D(e,t,r,s){return e=new Date(e),s=Object.assign({timeZoneName:t},{hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",timeZone:s}),(e=new c.DateTimeFormat(r,s).formatToParts(e).find((e=>"timezonename"===e.type.toLowerCase())))?e.value:null}function E(e,t){let r=parseInt(e,10);return Number.isNaN(r)&&(r=0),t=parseInt(t,10)||0,60*r+(t=r<0||Object.is(r,-0)?-t:t)}function j(e){var t=Number(e);if("boolean"==typeof e||""===e||Number.isNaN(t))throw new o(`Invalid unit value ${e}`);return t}function x(e,t){return Object.keys(e).reduce(((r,s)=>(void 0!==e[s]&&null!==e[s]&&(r[t(s)]=j(e[s])),r)),{})}function I(e,t){var r=Math.trunc(Math.abs(e/60)),s=Math.trunc(Math.abs(e%60)),n=0<=e?"+":"-";switch(t){case"short":return`${n}${g(r,2)}:${g(s,2)}`;case"narrow":return`${n}${r}${0<s?`:${s}`:""}`;case"techie":return`${n}${g(r,2)}${g(s,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function V(e){return function(e,t){return t.reduce(((t,r)=>(t[r]=e[r],t)),{})}(e,["hour","minute","second","millisecond"])}const C=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,F=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],$=F.slice(0).reverse(),Z=["years","months","days","hours","minutes","seconds","milliseconds"];const L="numeric",z="short",q="long",A={year:L,month:L,day:L},U={year:L,month:z,day:L},W={year:L,month:z,day:L,weekday:z},P={year:L,month:q,day:L},H={year:L,month:q,day:L,weekday:q},R={hour:L,minute:L},J={hour:L,minute:L,second:L},Y={hour:L,minute:L,second:L,timeZoneName:z},G={hour:L,minute:L,second:L,timeZoneName:q},B={hour:L,minute:L,hourCycle:"h23"},Q={hour:L,minute:L,second:L,hourCycle:"h23"},K={hour:L,minute:L,second:L,hourCycle:"h23",timeZoneName:z},X={hour:L,minute:L,second:L,hourCycle:"h23",timeZoneName:q},ee={year:L,month:L,day:L,hour:L,minute:L},te={year:L,month:L,day:L,hour:L,minute:L,second:L},re={year:L,month:z,day:L,hour:L,minute:L},se={year:L,month:z,day:L,hour:L,minute:L,second:L},ne={year:L,month:z,day:L,weekday:z,hour:L,minute:L},ie={year:L,month:q,day:L,hour:L,minute:L,timeZoneName:z},ae={year:L,month:q,day:L,hour:L,minute:L,second:L,timeZoneName:z},oe={year:L,month:q,day:L,weekday:q,hour:L,minute:L,timeZoneName:q},ue={year:L,month:q,day:L,weekday:q,hour:L,minute:L,second:L,timeZoneName:q},ce=["January","February","March","April","May","June","July","August","September","October","November","December"],le=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],he=["J","F","M","A","M","J","J","A","S","O","N","D"];function de(e){switch(e){case"narrow":return[...he];case"short":return[...le];case"long":return[...ce];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"]}}const me=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],fe=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ye=["M","T","W","T","F","S","S"];function _e(e){switch(e){case"narrow":return[...ye];case"short":return[...fe];case"long":return[...me];case"numeric":return["1","2","3","4","5","6","7"]}}const ge=["AM","PM"],ve=["Before Christ","Anno Domini"],pe=["BC","AD"],we=["B","A"];function Oe(e){switch(e){case"narrow":return[...we];case"short":return[...pe];case"long":return[...ve]}}function be(...e){e.length}class Te{get type(){throw new u}get ianaName(){return this.name}get name(){throw new u}get isUniversal(){throw new u}offsetName(e,t){throw be(e,t),new u}formatOffset(e,t){throw be(e,t),new u}offset(e){throw be(e),new u}equals(e){throw be(e),new u}get isValid(){throw new u}}let Se={};const ke={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Me(e,t){var r=e.format(t).replace(/\u200E/g,""),[,s,n,i,a,e,t,r]=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r);return[i,s,n,a,e,t,r]}function Ne(e,t){var r=e.formatToParts(t);const s=[];for(let e=0;e<r.length;e++){var{type:n,value:i}=r[e],a=ke[n];"era"===n?s[a]=i:h(a)||(s[a]=parseInt(i,10))}return s}let De={};class Ee extends Te{constructor(e){super(),this._zoneName=e,this._valid=Ee.isValidZone(e)}static create(e){return De[e]||(De[e]=new Ee(e)),De[e]}static resetCache(){De={},Se={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new c.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(e){return!1}}get type(){return"iana"}get name(){return this._zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:r}={}){return D(e,t,r,this.name)}formatOffset(e,t){return I(this.offset(e),t)}offset(e){var t=new Date(e);if(isNaN(+t))return NaN;var r=function(e){if(!Se[e])try{Se[e]=new c.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})}catch(t){throw new i(e)}return Se[e]}(this.name);let s;var[n,a,o,u,l,e,r]=(typeof r.formatToParts==typeof isNaN?Ne:Me)(r,t);return"BC"===u&&(s=1-Math.abs(+n)),t=(u=+t)%1e3,(k({year:s||+n,month:+a,day:+o,hour:+(24===l?0:l),minute:+e,second:+r,millisecond:0})-(u-=0<=t?t:1e3+t))/6e4}equals(e){return"iana"===e.type&&e.name===this.name}get isValid(){return this._valid}}let je=null;class xe extends Te{constructor(e){super(),this._fixed=e}static get utcInstance(){return null===je&&(je=new xe(0)),je}get isValid(){return!0}get ianaName(){return 0===this._fixed?"Etc/UTC":`Etc/GMT${I(-this._fixed,"narrow")}`}get name(){return 0===this._fixed?"UTC":`UTC${I(this._fixed,"narrow")}`}get type(){return"fixed"}get isUniversal(){return!0}static instance(e){return 0===e?xe.utcInstance:new xe(e)}static parseSpecifier(e){return e&&(e=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i))?new xe(E(e[1],e[2])):null}offsetName(){return this.name}formatOffset(e,t){return I(this._fixed,t)}offset(){return this._fixed}equals(e){return"fixed"===e.type&&e._fixed===this._fixed}}class Ie extends Te{constructor(e){super(),this._zoneName=e,Object.setPrototypeOf(this,Ie.prototype)}get type(){return"invalid"}get name(){return this._zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}const Ve=(e,t)=>{if(h(e)||null===e)return t;if(e instanceof Te)return e;if(function(e){return"string"==typeof e}(e)){var r=e.toLowerCase();return"local"===r||"system"===r?t:"utc"===r||"gmt"===r?xe.utcInstance:xe.parseSpecifier(r)||Ee.create(e)}return d(e)?xe.instance(e):"object"==typeof e&&e.offset&&"number"==typeof e.offset?e:new Ie(e)};let Ce=null;class Fe extends Te{static get instance(){return null===Ce&&(Ce=new Fe),Ce}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:r}){return D(e,t,r)}formatOffset(e,t){return I(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return"system"===e.type}get isValid(){return!0}}let $e,Ze,Le,ze=()=>Date.now(),qe="system",Ae=!1;class Ue{static get now(){return ze}static set now(e){ze=e}static set defaultZoneLike(e){qe=e}static set defaultZone(e){qe=e}static get defaultZone(){return Ve(qe,Fe.instance)}static get defaultLocale(){return $e}static set defaultLocale(e){$e=e}static get defaultNumberingSystem(){return Ze}static set defaultNumberingSystem(e){Ze=e}static get defaultOutputCalendar(){return Le}static set defaultOutputCalendar(e){Le=e}static get throwOnInvalid(){return Ae}static set throwOnInvalid(e){Ae=e}static resetCaches(){Xe.resetCache(),Ee.resetCache()}}let We={};let Pe={};function He(e,t={}){var r=JSON.stringify([e,t]);let s=Pe[r];return s||(s=new c.DateTimeFormat(e,t),Pe[r]=s),s}let Re={};let Je,Ye={};function Ge(e,t,r,s){return("en"===e.listingMode()?r:s)(t)}class Be{constructor(e,t,r){this._padTo=r.padTo||0,this._floor=r.floor||!1;var s=function(e,t){var r={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}(r,["padTo","floor"]);if(!t||0<Object.keys(s).length){const t=Object.assign({useGrouping:!1},r);0<this._padTo&&(t.minimumIntegerDigits=r.padTo),this._inf=function(e,t){var r=JSON.stringify([e,t]);let s=Re[r];return s||(s=new c.NumberFormat(e,t),Re[r]=s),s}(e,t)}}format(e){if(this._inf){var t=this._floor?Math.floor(e):e;return this._inf.format(t)}return g(this._floor?Math.floor(e):O(e,3),this._padTo)}}class Qe{constructor(e,t,r){let s;var n;this._opts=r,e.zone.isUniversal?(n=0<=(n=e.offset/60*-1)?`Etc/GMT+${n}`:`Etc/GMT${n}`,0!==e.offset&&Ee.create(n).isValid?(s=n,this._dt=e):(s="UTC",r.timeZoneName?this._dt=e:this._dt=0===e.offset?e:Hr.fromMillis(e.ts+60*e.offset*1e3))):"system"===e.zone.type?this._dt=e:(this._dt=e,s=e.zone.name);const i=Object.assign({},this._opts);s&&(i.timeZone=s),this._dtf=He(t,i)}format(){return this._dtf.format(this._dt.toJSDate())}formatToParts(){return this._dtf.formatToParts(this._dt.toJSDate())}resolvedOptions(){return this._dtf.resolvedOptions()}}class Ke{constructor(e,t,r){this._opts=Object.assign({style:"long"},r),!t&&f()&&(this._rtf=function(e,t={}){var r=JSON.stringify([e,t]);let s=Ye[r];return s||(s=new c.RelativeTimeFormat(e,t),Ye[r]=s),s}(e,r))}format(e,t){return this._rtf?this._rtf.format(e,t):function(e,t,r="always",s=!1){var n=Yt.normalizeUnit(e),i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."],milliseconds:[]}[n];if(e=-1===["hours","minutes","seconds"].indexOf(n),"auto"===r&&e){var a="days"===n;switch(t){case 1:return a?"tomorrow":`next ${i[0]}`;case-1:return a?"yesterday":`last ${i[0]}`;case 0:return a?"today":`this ${i[0]}`}}return r=Object.is(t,-0)||t<0,t=1===(e=Math.abs(t)),n=s?!t&&i[2]||i[1]:t?i[0]:n,r?`${e} ${n} ago`:`in ${e} ${n}`}(t,e,this._opts.numeric,"long"!==this._opts.style)}formatToParts(e,t){return this._rtf?this._rtf.formatToParts(e,t):[]}}class Xe{constructor(e,t,r,s){var[n,i,e]=function(e){var t;if(-1===(t=e.indexOf("-u-")))return[e];{let s;var r=e.substring(0,t);try{s=He(e).resolvedOptions()}catch(e){s=He(r).resolvedOptions()}var{numberingSystem:t,calendar:e}=s;return[r,t,e]}}(e);this.locale=n,this.numberingSystem=t||i,this.outputCalendar=r||e,this._intl=function(e,t,r){return(r||t)&&(e+="-u",r&&(e+=`-ca-${r}`),t&&(e+=`-nu-${t}`)),e}(this.locale,this.numberingSystem,this.outputCalendar),this._weekdaysCache={format:{},standalone:{}},this._monthsCache={format:{},standalone:{}},this._meridiemCache=void 0,this._eraCache={},this._specifiedLocale=s,this._fastNumbersCached=void 0}get fastNumbers(){return void 0===this._fastNumbersCached&&(this._fastNumbersCached=this._supportsFastNumbers()),this._fastNumbersCached}static fromOpts(e){return Xe.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,t,r,s=!1){return s=(e=e||Ue.defaultLocale)||(s?"en-US":(Je=Je||(new c.DateTimeFormat).resolvedOptions().locale,Je)),t=t||Ue.defaultNumberingSystem,r=r||Ue.defaultOutputCalendar,new Xe(s,t,r,e)}static resetCache(){Je=void 0,We={},Pe={},Re={},Ye={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:r}={}){return Xe.create(e,t,r)}listingMode(){var e=this.isEnglish(),t=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return e&&t?"en":"intl"}clone(e){return e&&0!==Object.getOwnPropertyNames(e).length?Xe.create(e.locale||this._specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1):this}redefaultToEN(e={}){return this.clone(Object.assign(Object.assign({},e),{defaultToEN:!0}))}redefaultToSystem(e={}){return this.clone(Object.assign(Object.assign({},e),{defaultToEN:!1}))}months(e,t=!1){return Ge(this,e,de,(e=>{const r=t?{month:e,day:"numeric"}:{month:e},s=t?"format":"standalone";return this._monthsCache[s][e]||(this._monthsCache[s][e]=function(e){const t=[];for(let s=1;s<=12;s++){var r=Hr.utc(2016,s,1);t.push(e(r))}return t}((e=>this.extract(e,r,"month")))),this._monthsCache[s][e]}))}weekdays(e,t=!1){return Ge(this,e,_e,(e=>{const r=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e};var s=t?"format":"standalone";return this._weekdaysCache[s][e]||(this._weekdaysCache[s][e]=function(e){const t=[];for(let s=1;s<=7;s++){var r=Hr.utc(2016,11,13+s);t.push(e(r))}return t}((e=>this.extract(e,r,"weekday")))),this._weekdaysCache[s][e]}))}meridiems(){return Ge(this,"long",(()=>ge),(()=>(void 0===this._meridiemCache&&(this._meridiemCache=[Hr.utc(2016,11,13,9),Hr.utc(2016,11,13,19)].map((e=>this.extract(e,{hour:"numeric",hourCycle:"h12"},"dayPeriod")))),this._meridiemCache)))}eras(e){return Ge(this,e,Oe,(e=>{const t={era:e};return this._eraCache[e]||(this._eraCache[e]=[Hr.utc(-40,1,1),Hr.utc(2017,1,1)].map((e=>this.extract(e,t,"era")))),this._eraCache[e]}))}extract(e,t,r){const s=this.dtFormatter(e,t).formatToParts().find((e=>e.type.toLowerCase()===r.toLowerCase()));if(!s)throw new Error(`Invalid extract field ${r}`);return s.value}numberFormatter(e={}){return new Be(this._intl,this.fastNumbers,e)}dtFormatter(e,t={}){return new Qe(e,this._intl,t)}relFormatter(e={}){return new Ke(this._intl,this.isEnglish(),e)}listFormatter(e={}){return function(e,t={}){var r=JSON.stringify([e,t]);let s=We[r];return s||(s=new c.ListFormat(e,t),We[r]=s),s}(this._intl,e)}isEnglish(){return!!~["en","en-us"].indexOf(this.locale.toLowerCase())||new c.DateTimeFormat(this._intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}_supportsFastNumbers(){return(!this.numberingSystem||"latn"===this.numberingSystem)&&("latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===c.DateTimeFormat(this._intl).resolvedOptions().numberingSystem)}}function et(e,t){let r="";for(const s of e)s.literal?r+=s.val:r+=t(s.val);return r}const tt={D:A,DD:U,DDD:P,DDDD:H,t:R,tt:J,ttt:Y,tttt:G,T:B,TT:Q,TTT:K,TTTT:X,f:ee,ff:re,fff:ie,ffff:oe,F:te,FF:se,FFF:ae,FFFF:ue};class rt{constructor(e,t){this._opts=t,this._loc=e,this._systemLoc=void 0}static create(e,t={}){return new rt(e,t)}static parseFormat(e){let t=null,r="",s=!1;const n=[];for(let a=0;a<e.length;a++){var i=e.charAt(a);"'"===i?(0<r.length&&n.push({literal:s,val:r}),t=null,r="",s=!s):s||i===t?r+=i:(0<r.length&&n.push({literal:!1,val:r}),r=i,t=i)}return 0<r.length&&n.push({literal:s,val:r}),n}static macroTokenToFormatOpts(e){return tt[e]}formatWithSystemDefault(e,t){void 0===this._systemLoc&&(this._systemLoc=this._loc.redefaultToSystem());return this._systemLoc.dtFormatter(e,Object.assign(Object.assign({},this._opts),t)).format()}formatDateTime(e,t={}){return this._loc.dtFormatter(e,Object.assign(Object.assign({},this._opts),t)).format()}formatDateTimeParts(e,t={}){return this._loc.dtFormatter(e,Object.assign(Object.assign({},this._opts),t)).formatToParts()}resolvedOptions(e,t={}){return this._loc.dtFormatter(e,Object.assign(Object.assign({},this._opts),t)).resolvedOptions()}num(e,t=0){if(this._opts.forceSimple)return g(e,t);const r=Object.assign({},this._opts);return 0<t&&(r.padTo=t),this._loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,t){const r="en"===this._loc.listingMode(),s=this._loc.outputCalendar&&"gregory"!==this._loc.outputCalendar,n=(t,r)=>this._loc.extract(e,t,r),i=t=>e.isOffsetFixed&&0===e.offset&&t.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,t.format):"",a=()=>r?function(e){return ge[e.hour<12?0:1]}(e):n({hour:"numeric",hourCycle:"h12"},"dayPeriod"),o=(t,s)=>r?function(e,t){return de(t)[e.month-1]}(e,t):n(s?{month:t}:{month:t,day:"numeric"},"month"),u=(t,s)=>r?function(e,t){return _e(t)[e.weekday-1]}(e,t):n(s?{weekday:t}:{weekday:t,month:"long",day:"numeric"},"weekday"),c=t=>{var r=rt.macroTokenToFormatOpts(t);return r?this.formatWithSystemDefault(e,r):t},l=t=>r?function(e,t){return Oe(t)[e.year<0?0:1]}(e,t):n({era:t},"era");return et(rt.parseFormat(t),(t=>{switch(t){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12==0?12:e.hour%12);case"hh":return this.num(e.hour%12==0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return i({format:"narrow",allowZ:this._opts.allowZ});case"ZZ":return i({format:"short",allowZ:this._opts.allowZ});case"ZZZ":return i({format:"techie",allowZ:this._opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this._loc.locale})||"";case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this._loc.locale})||"";case"z":return e.zoneName||"";case"a":return a();case"d":return s?n({day:"numeric"},"day"):this.num(e.day);case"dd":return s?n({day:"2-digit"},"day"):this.num(e.day,2);case"c":case"E":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return s?n({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return s?n({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return o("short",!0);case"LLLL":return o("long",!0);case"LLLLL":return o("narrow",!0);case"M":return s?n({month:"numeric"},"month"):this.num(e.month);case"MM":return s?n({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return o("short",!1);case"MMMM":return o("long",!1);case"MMMMM":return o("narrow",!1);case"y":return s?n({year:"numeric"},"year"):this.num(e.year);case"yy":return s?n({year:"2-digit"},"year"):this.num(parseInt(e.year.toString().slice(-2),10),2);case"yyyy":return s?n({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return s?n({year:"numeric"},"year"):this.num(e.year,6);case"G":return l("short");case"GG":return l("long");case"GGGGG":return l("narrow");case"kk":return this.num(parseInt(e.weekYear.toString().slice(-2),10),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return c(t)}}))}formatDurationFromString(e,t){const r=e=>{switch(e[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"M":return"months";case"y":return"years";default:return}},s=rt.parseFormat(t),n=s.reduce(((e,{literal:t,val:r})=>t?e:e.concat(r)),[]);var i;e=e.shiftTo(...n.map(r).filter((e=>!!e)));return et(s,(i=e,e=>{var t=r(e);return t?this.num(i.get(t),e.length):e}))}}function st(...e){return e=e.reduce(((e,t)=>e+t.source),""),RegExp(`^${e}$`)}function nt(...e){return t=>e.reduce((([e,r,s],n)=>{var[i,n,s]=n(t,s);return[Object.assign(Object.assign({},e),i),n||r,s]}),[{},null,1]).slice(0,2)}function it(e,...t){if(null==e)return[null,null];for(var[r,s]of t)if(r=r.exec(e))return s(r);return[null,null]}function at(...e){return(t,r)=>{const s={};let n;for(n=0;n<e.length;n++)s[e[n]]=v(t[r+n]);return[s,null,r+n]}}const ot=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,ut=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,ct=RegExp(`${ut.source}${`(?:${ot.source}?(?:\\[(${C.source})\\])?)?`}`),lt=RegExp(`(?:T${ct.source})?`),ht=at("weekYear","weekNumber","weekday"),dt=at("year","ordinal"),mt=RegExp(`${ut.source} ?(?:${ot.source}|(${C.source}))?`),ft=RegExp(`(?: ${mt.source})?`);function yt(e,t,r){return h(e[t])?r:v(e[t])}function _t(e,t){return[{hour:yt(e,t,0),minute:yt(e,t+1,0),second:yt(e,t+2,0),millisecond:w(e[t+3])},null,t+4]}function gt(e,t){var r=!e[t]&&!e[t+1];e=E(e[t+1],e[t+2]);return[{},r?null:xe.instance(e),t+3]}function vt(e,t){return[{},e[t]?Ee.create(e[t]):null,t+1]}const pt=RegExp(`^T?${ut.source}$`),wt=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Ot(e){const[t,r,s,n,i,a,o,u,c]=e,l=t.startsWith("-");var h=!!u&&u.startsWith("-");e=(e,t=!1)=>"number"==typeof e&&(t||e&&l)?-e:e;return[{years:e(p(r)),months:e(p(s)),weeks:e(p(n)),days:e(p(i)),hours:e(p(a)),minutes:e(p(o)),seconds:e(p(u),"-0"===u),milliseconds:e(w(c),h)}]}const bt={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Tt(e,t,r,s,n,i,a){let o;return e&&(o=3<e.length?me.indexOf(e)+1:fe.indexOf(e)+1),{year:2===t.length?N(v(t)):v(t),month:le.indexOf(r)+1,day:v(s),hour:v(n),minute:v(i),second:v(a),weekday:o}}const St=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function kt(e){var[,t,r,s,n,i,a,o,u,c,l,e]=e,o=Tt(t,n,s,r,i,a,o);let h;return h=u?bt[u]:c?0:E(l,e),[o,new xe(h)]}const Mt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Nt=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Dt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Et(e){var[,t,r,s,n,i,a,e]=e;return[Tt(t,n,s,r,i,a,e),xe.utcInstance]}function jt(e){var[,t,r,s,n,i,a,e]=e;return[Tt(t,e,r,s,n,i,a),xe.utcInstance]}const xt=st(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,lt),It=st(/(\d{4})-?W(\d\d)(?:-?(\d))?/,lt),Vt=st(/(\d{4})-?(\d{3})/,lt),Ct=st(ct),Ft=nt((function(e,t){return[{year:yt(e,t,0),month:yt(e,t+1,1),day:yt(e,t+2,1)},null,t+3]}),_t,gt,vt),$t=nt(ht,_t,gt,vt),Zt=nt(dt,_t,gt,vt),Lt=nt(_t,gt,vt);const zt=st(/(\d{4})-(\d\d)-(\d\d)/,ft),qt=st(mt),At=nt(_t,gt,vt);class Ut{constructor(e,t){this.reason=e,this.explanation=t,this._formattedExplanation="",t&&(this._formattedExplanation=`: ${t}`)}toMessage(){return`${this.reason}${this._formattedExplanation}`}}const Wt={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Pt=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},Wt),Ht=Object.assign({years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},Wt);function Rt(e,t,r,s,n){var i=e[n][r];e=t[r]/i,e=Math.sign(e)!==Math.sign(s[n])&&0!==s[n]&&Math.abs(e)<=1?function(e){return e<0?Math.floor(e):Math.ceil(e)}(e):Math.trunc(e);s[n]=s[n]+e,t[r]=t[r]-e*i}function Jt(e,t){return void 0===e||0===e?void 0===t||0===t:e===t}class Yt{constructor(e){var t="longterm"===e.conversionAccuracy||!1;this._values=e.values||{},this._loc=e.loc||Xe.create(),this._conversionAccuracy=t?"longterm":"casual",this._invalid=e.invalid||null,this._matrix=t?Ht:Pt,this._isLuxonDuration=!0}get conversionAccuracy(){return this._conversionAccuracy}get invalidExplanation(){return this._invalid?this._invalid.explanation:null}get invalidReason(){return this._invalid?this._invalid.reason:null}get isValid(){return null===this._invalid}get locale(){return this.isValid?this._loc.locale:void 0}get numberingSystem(){return this.isValid?this._loc.numberingSystem:void 0}static fromISOTime(e,t={}){var[r]=function(e){return it(e,[pt,nt(_t)])}(e);return r?Yt.fromObject(r,t):Yt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromMillis(e,t={}){return Yt.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(null==e||"object"!=typeof e)throw new o("Duration.fromObject: argument expected to be an object, got "+(null===e?"null":typeof e));return new Yt({values:x(e,Yt.normalizeUnit),loc:Xe.fromObject(t),conversionAccuracy:t.conversionAccuracy})}static fromDurationLike(e){if(d(e))return Yt.fromMillis(e);if(Yt.isDuration(e))return e;if("object"==typeof e)return Yt.fromObject(e);throw new o(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){var[r]=function(e){return it(e,[wt,Ot])}(e);return r?Yt.fromObject(r,t):Yt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isDuration(e){return!!e&&e._isLuxonDuration||!1}static invalid(e,t){if(!e)throw new o("need to specify a reason the Duration is invalid");if(t=e instanceof Ut?e:new Ut(e,t),Ue.throwOnInvalid)throw new r(t);return new Yt({invalid:t})}static normalizeUnit(e){var t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e];if(!t)throw new n(e);return t}getMaxUnit(e=!1){const t=e?Z:F,r=this.shiftTo(...t).toObject();return t.find((e=>0<(r[e]||0)))||$[0]}toFormat(e,t={floor:!0}){return t=Object.assign(Object.assign({},t),{floor:!1!==t.round&&!1!==t.floor}),this.isValid?rt.create(this._loc,t).formatDurationFromString(this,e):"Invalid Duration"}toHuman(e={}){var t=this.getMaxUnit(!0);const r=e.onlyHumanUnits?Z:F,s=this.shiftTo(...r.slice(r.indexOf(t))).toObject();var n=r.map((t=>{var r=s[t];return h(r)||0===r?null:this._loc.numberFormatter(Object.assign(Object.assign({style:"unit",unitDisplay:"long"},e),{unit:t.slice(0,-1)})).format(r)})).filter((e=>e));t=Object.assign({type:"conjunction",style:e.listStyle||"narrow"},e);return this._loc.listFormatter(t).format(n)}toObject(){return this.isValid?Object.assign({},this._values):{}}toISO(){if(!this.isValid)return null;let e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=O(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;var t=this.toMillis();if(t<0||864e5<=t)return null;e=Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},e);const r=this.shiftTo("hours","minutes","seconds","milliseconds");let s="basic"===e.format?"hhmm":"hh:mm";e.suppressSeconds&&0===r.seconds&&0===r.milliseconds||(s+="basic"===e.format?"ss":":ss",e.suppressMilliseconds&&0===r.milliseconds||(s+=".SSS"));let n=r.toFormat(s);return e.includePrefix&&(n="T"+n),n}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=Yt.fromDurationLike(e),r={};return F.forEach((e=>{void 0===t._values[e]&&void 0===this._values[e]||(r[e]=t.get(e)+this.get(e))})),this._clone(this,{_values:r},!0)}minus(e){if(!this.isValid)return this;const t=Yt.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};return Object.keys(this._values).forEach((r=>{t[r]=j(e(this._values[r],r))})),this._clone(this,{_values:t},!0)}get(e){return this[Yt.normalizeUnit(e)]}set(e){return this.isValid?(e=Object.assign(Object.assign({},this._values),x(e,Yt.normalizeUnit)),this._clone(this,{_values:e})):this}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:r}={}){return r={values:this._values,loc:this._loc.clone({locale:e,numberingSystem:t}),conversionAccuracy:r||this._conversionAccuracy},new Yt(r)}as(e){return this.shiftTo(e).get(e)}normalize(){if(!this.isValid)return this;var e=this.toObject();return function(e,t){let r;$.forEach((s=>{h(t[s])||(r&&Rt(e,t,r,t,s),r=s)}))}(this._matrix,e),this._clone(this,{_values:e},!0)}rescale(){if(!this.isValid)return this;var e=function(e={}){return Object.entries(e).reduce(((e,[t,r])=>(0!==r&&(e[t]=r),e)),{})}(this.normalize().shiftToAll().toObject());return this._clone(this,{_values:e},!0)}shiftTo(...e){if(!this.isValid||0===e.length)return this;e=e.map((e=>Yt.normalizeUnit(e)));const t={},r={},s=this.toObject();let n;return F.forEach((i=>{if(0<=e.indexOf(i)){n=i;let e=0;Object.keys(r).forEach((t=>{e+=this._matrix[t][i]*r[t],r[t]=0})),d(s[i])&&(e+=s[i]);var a=Math.trunc(e);t[i]=a,r[i]=(1e3*e-1e3*a)/1e3,Object.keys(s).forEach((e=>{F.indexOf(e)>F.indexOf(i)&&Rt(this._matrix,s,e,t,i)}))}else d(s[i])&&(r[i]=s[i])})),Object.keys(r).forEach((e=>{var s=r[e];0!==s&&(t[n]+=e===n?s:s/this._matrix[n][e])})),this._clone(this,{_values:t},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};return Object.keys(this._values).forEach((t=>{e[t]=0===this._values[t]?0:-this._values[t]})),this._clone(this,{_values:e},!0)}get years(){return this.isValid?this._values.years||0:NaN}get quarters(){return this.isValid?this._values.quarters||0:NaN}get months(){return this.isValid?this._values.months||0:NaN}get weeks(){return this.isValid?this._values.weeks||0:NaN}get days(){return this.isValid?this._values.days||0:NaN}get hours(){return this.isValid?this._values.hours||0:NaN}get minutes(){return this.isValid?this._values.minutes||0:NaN}get seconds(){return this.isValid?this._values.seconds||0:NaN}get milliseconds(){return this.isValid?this._values.milliseconds||0:NaN}equals(e){if(!this._loc.equals(e._loc))return!1;for(const t of F)if(!Jt(this._values[t],e._values[t]))return!1;return!0}_clone(e,t,r=!0){return e={values:r?t._values:Object.assign(Object.assign({},e._values),t._values||{}),loc:e._loc.clone({locale:null===(r=t._loc)||void 0===r?void 0:r.locale}),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy},new Yt(e)}}const Gt="Invalid Interval";function Bt(e){if(Hr.isDateTime(e))return e;if(e&&e.valueOf&&d(e.valueOf()))return Hr.fromJSDate(e);if(e&&"object"==typeof e)return Hr.fromObject(e);throw new o(`Unknown datetime argument: ${e}, of type ${typeof e}`)}class Qt{constructor(e){this._s=e.start,this._e=e.end,this._invalid=e.invalid||null,this._isLuxonInterval=!0}get invalidReason(){return this._invalid?this._invalid.reason:null}get isValid(){return null===this.invalidReason}get start(){return this.isValid?this._s:null}get end(){return this.isValid?this._e:null}static fromDateTimes(e,t){return function(e,t){return e&&e.isValid?t&&t.isValid?t<e?Qt.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):void 0:Qt.invalid("missing or invalid end"):Qt.invalid("missing or invalid start")}(e=Bt(e),t=Bt(t))||new Qt({start:e,end:t})}static after(e,t){const r=Yt.fromDurationLike(t),s=Bt(e);return new Qt({start:s,end:s?s.plus(r):void 0})}static before(e,t){const r=Yt.fromDurationLike(t),s=Bt(e);return new Qt({start:s?s.minus(r):void 0,end:s})}static fromISO(e,t={}){var[r,s]=(e||"").split("/",2);if(r&&s){let e,i,a,o;try{e=Hr.fromISO(r,t),i=e.isValid}catch(s){i=!1}try{a=Hr.fromISO(s,t),o=a.isValid}catch(s){o=!1}if(i&&o)return Qt.fromDateTimes(e,a);if(i){var n=Yt.fromISO(s,t);if(n.isValid)return Qt.after(e,n)}else if(o&&(t=Yt.fromISO(r,t)).isValid)return Qt.before(a,t)}return Qt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t){if(!e)throw new o("need to specify a reason the Interval is invalid");if(t=e instanceof Ut?e:new Ut(e,t),Ue.throwOnInvalid)throw new s(t);return new Qt({invalid:t})}static isInterval(e){return!!e&&e._isLuxonInterval||!1}static merge(e){const[t,r]=e.sort(((e,t)=>e._s.valueOf()-t._s.valueOf())).reduce((([e,t],r)=>t?t.overlaps(r)||t.abutsStart(r)?[e,t.union(r)]:[e.concat([t]),r]:[e,r]),[[],null]);return r&&t.push(r),t}static xor(e){let t=null,r=0;const s=[],n=e.map((e=>[{time:e._s,type:"s"},{time:e._e,type:"e"}])),i=Array.prototype.concat(...n).sort(((e,t)=>+e.time-+t.time));for(const e of i)r+="s"===e.type?1:-1,t=1===r?e.time:(t&&t.valueOf()!==e.time.valueOf()&&s.push(Qt.fromDateTimes(t,e.time)),null);return Qt.merge(s)}length(e="milliseconds"){return this.toDuration(e).get(e)}count(e="milliseconds"){if(!this.isValid)return NaN;var t=this.start.startOf(e);const r=this.end.startOf(e);return Math.floor(r.diff(t,e).get(e))+1}hasSame(e){return!!this.isValid&&(this.isEmpty()||this._e.minus(1).hasSame(this._s,e))}isEmpty(){return this._s.valueOf()===this._e.valueOf()}isAfter(e){return!!this.isValid&&this._s>e}isBefore(e){return!!this.isValid&&this._e<=e}contains(e){return this._s<=e&&this._e>e}set({start:e,end:t}={}){return this.isValid?Qt.fromDateTimes(e||this._s,t||this._e):this}splitAt(...e){var t=e.map(Bt).filter((e=>this.contains(e))).sort();const r=[];let s=this._s,n=0;for(;s<this._e;){var i=+(i=t[n]||this._e)>+this._e?this._e:i;r.push(Qt.fromDateTimes(s,i)),s=i,n+=1}return r}splitBy(e){const t=Yt.fromDurationLike(e);if(!this.isValid||!t.isValid||0===t.as("milliseconds"))return[];let r,s=this._s,n=1;const i=[];for(;s<this._e;){var a=this.start.plus(t.mapUnits((e=>e*n)));r=+a>+this._e?this._e:a,i.push(Qt.fromDateTimes(s,r)),s=r,n+=1}return i}divideEqually(e){return this.isValid?this.splitBy({milliseconds:this.length()/e}).slice(0,e):[]}overlaps(e){return this._e>e._s&&this._s<e._e}abutsStart(e){return+this._e==+e._s}abutsEnd(e){return+e._e==+this._s}engulfs(e){return!!this.isValid&&this._s<=e._s&&this._e>=e._e}equals(e){return!(!this.isValid||!e.isValid)&&this._s.equals(e._s)&&this._e.equals(e._e)}intersection(e){if(!this.isValid)return this;var t=(this._s>e._s?this:e)._s;return(e=(this._e<e._e?this:e)._e)<=t?null:Qt.fromDateTimes(t,e)}union(e){if(!this.isValid)return this;var t=(this._s<e._s?this:e)._s;e=(this._e>e._e?this:e)._e;return Qt.fromDateTimes(t,e)}difference(...e){return Qt.xor([this].concat(e)).map((e=>this.intersection(e))).filter((e=>e&&!e.isEmpty()))}toString(){return this.isValid?`[${this._s.toISO()} – ${this._e.toISO()})`:Gt}toISO(e={}){return this.isValid?`${this._s.toISO(e)}/${this._e.toISO(e)}`:Gt}toISODate(){return this.isValid?`${this._s.toISODate()}/${this._e.toISODate()}`:Gt}toISOTime(e={}){return this.isValid?`${this._s.toISOTime(e)}/${this._e.toISOTime(e)}`:Gt}toFormat(e,t={separator:" – "}){return this.isValid?`${this._s.toFormat(e)}${t.separator}${this._e.toFormat(e)}`:Gt}toDuration(e="milliseconds",t={}){return this.isValid?this._e.diff(this._s,e,t):Yt.invalid(this._invalid.reason)}mapEndpoints(e){return Qt.fromDateTimes(e(this._s),e(this._e))}}class Kt{static hasDST(e=Ue.defaultZone){const t=Hr.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return Ee.isValidZone(e)}static normalizeZone(e){return Ve(e,Ue.defaultZone)}static months(e="long",{locale:t,locObj:r,numberingSystem:s,outputCalendar:n="gregory"}={}){return(r||Xe.create(t,s,n)).months(e)}static monthsFormat(e="long",{locale:t,locObj:r,numberingSystem:s,outputCalendar:n="gregory"}={}){return(r||Xe.create(t,s,n)).months(e,!0)}static weekdays(e="long",{locale:t,locObj:r,numberingSystem:s}={}){return(r||Xe.create(t,s)).weekdays(e)}static weekdaysFormat(e="long",{locale:t,locObj:r,numberingSystem:s}={}){return(r||Xe.create(t,s)).weekdays(e,!0)}static meridiems({locale:e}={}){return Xe.create(e).meridiems()}static eras(e="short",{locale:t}={}){return Xe.create(t,void 0,"gregory").eras(e)}static features(){return{relative:f()}}}function Xt(e,t){var r=e=>e.toUTC(0,{keepLocalTime:!0}).startOf("days").valueOf();e=r(t)-r(e);return Math.floor(Yt.fromMillis(e).as("days"))}const er=(e,t,r,s)=>{let[n,i,a,o]=function(e,t,r){var s,n,i=[["years",(e,t)=>t.year-e.year],["quarters",(e,t)=>t.quarter-e.quarter+4*(t.year-e.year)],["months",(e,t)=>t.month-e.month+12*(t.year-e.year)],["weeks",(e,t)=>((t=Xt(e,t))-t%7)/7],["days",Xt]];const a={};let o,u=e,c=e.reconfigure({});for([s,n]of i)if(0<=r.indexOf(s)){o=s;let e=n(c,t);u=c.plus({[s]:e}),u>t?(c=c.plus({[s]:e-1}),--e):c=u,a[s]=e}return[c,a,u,o]}(e,t,r);return e=+t-+n,r=r.filter((e=>0<=["hours","minutes","seconds","milliseconds"].indexOf(e))),0===r.length&&(a<t&&(a=n.plus({[o]:1})),a!==n&&(i[o]=(i[o]||0)+e/(+a-+n))),t=Yt.fromObject(i,s),0<r.length?Yt.fromMillis(e,s).shiftTo(...r).plus(t):t},tr={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},rr={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},sr=tr.hanidec.replace(/[\[|\]]/g,"").split("");function nr(e,t=""){return new RegExp(`${tr[e.numberingSystem||"latn"]}${t}`)}function ir(e,t=(e=>e)){return{regex:e,deser:([e])=>t(function(e){var t=parseInt(e,10);if(!isNaN(t))return t;let r="";for(let t=0;t<e.length;t++){var s=e.charCodeAt(t);if(-1!==e[t].search(tr.hanidec))r+=sr.indexOf(e[t]);else for(const e in rr){var[n,i]=rr[e];if(n<=s&&s<=i){r+=s-n;break}}}return parseInt(r,10)}(e))}}const ar=`[ ${String.fromCharCode(160)}]`,or=new RegExp(ar,"g");function ur(e){return e.replace(/\./g,"\\.?").replace(or,ar)}function cr(e){return e.replace(/\./g,"").replace(or," ").toLowerCase()}function lr(e,t){return{regex:RegExp(e.map(ur).join("|")),deser:([r])=>e.findIndex((e=>cr(r)===cr(e)))+t}}function hr(e,t){return{regex:e,deser:([,e,t])=>E(e,t),groups:t}}function dr(e){return{regex:e,deser:([e])=>e}}function mr(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const fr={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};let yr;function _r(e,t){if(e.literal)return e;const r=rt.macroTokenToFormatOpts(e.val);if(!r)return e;const s=rt.create(t,r).formatDateTimeParts((void 0===yr&&(yr=Hr.fromMillis(1555555555555)),yr)).map((e=>function(e,t){var{type:r,value:e}=e;return"literal"===r?{literal:!0,val:e}:"dayPeriod"===r?{literal:!1,val:"a"}:void 0!==(e=fr[r])&&(r=t[r])&&void 0!==(r=e[r])?{literal:!1,val:r}:void 0}(e,r)));return 0<=s.indexOf(void 0)?e:s}function gr(e){return!!e&&!!e.invalidReason}function vr(e,t,r){const s=function(e,t){return Array.prototype.concat(...e.map((e=>_r(e,t))))}(rt.parseFormat(r),e),n=s.map((t=>function(e,t){const r=nr(t),s=nr(t,"{2}"),n=nr(t,"{3}"),i=nr(t,"{4}"),a=nr(t,"{6}"),o=nr(t,"{1,2}"),u=nr(t,"{1,3}"),c=nr(t,"{1,6}"),l=nr(t,"{1,9}"),h=nr(t,"{2,4}"),d=nr(t,"{4,6}"),m=e=>({regex:RegExp(mr(e.val)),deser:([e])=>e,literal:!0});var f=(f=>{if(e.literal)return m(f);switch(f.val){case"G":return lr(t.eras("short"),0);case"GG":return lr(t.eras("long"),0);case"y":return ir(c);case"yy":case"kk":return ir(h,N);case"yyyy":case"kkkk":return ir(i);case"yyyyy":return ir(d);case"yyyyyy":return ir(a);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return ir(o);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return ir(s);case"MMM":return lr(t.months("short",!0),1);case"MMMM":return lr(t.months("long",!0),1);case"LLL":return lr(t.months("short",!1),1);case"LLLL":return lr(t.months("long",!1),1);case"o":case"S":return ir(u);case"ooo":case"SSS":return ir(n);case"u":return dr(l);case"a":return lr(t.meridiems(),0);case"E":case"c":return ir(r);case"EEE":return lr(t.weekdays("short",!1),1);case"EEEE":return lr(t.weekdays("long",!1),1);case"ccc":return lr(t.weekdays("short",!0),1);case"cccc":return lr(t.weekdays("long",!0),1);case"Z":case"ZZ":return hr(new RegExp(`([+-]${o.source})(?::(${s.source}))?`),2);case"ZZZ":return hr(new RegExp(`([+-]${o.source})(${s.source})?`),2);case"z":return dr(/[a-z_+-/]{1,256}?/i);default:return m(f)}})(e)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return Object.assign(Object.assign({},f),{token:e})}(t,e)));var i;if(i=n.find(gr))return{input:t,tokens:s,invalidReason:i.invalidReason};var o=function(e){return`^${e.map((e=>e.regex)).reduce(((e,t)=>`${e}(${t.source})`),"")}$`}(n),u=RegExp(o,"i"),[c,d]=function(e,t,r){const s=t.exec(e),n={};if(null!==s){let e=1;r.forEach((t=>{var r=t.groups?t.groups+1:1;t.literal||(n[t.token.val[0]]=t.deser(s.slice(e,e+r))),e+=r}))}return[s,n]}(t,u,n),[r,i,o]=d?function(e){let t,r=null;return l(e.z)&&(r=Ee.create(e.z)),l(e.Z)&&(r=r||new xe(+e.Z),t=+e.Z),h(e.q)||(e.M=3*(e.q-1)+1),h(e.h)||(e.h<12&&1===e.a?e.h=e.h+12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),h(e.u)||(e.S=w(e.u)||0),[Object.keys(e).reduce(((t,r)=>{var s=(e=>{switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(r);return s&&(t[s]=e[r]),t}),{}),r,t]}(d):[null,null,void 0];if("a"in d&&"H"in d)throw new a("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:s,regex:u,rawMatches:c,matches:d,result:r,zone:i,specificOffset:o}}const pr=[0,31,59,90,120,151,181,212,243,273,304,334],wr=[0,31,60,91,121,152,182,213,244,274,305,335];function Or(e,t){return new Ut("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function br(e,t,r){const s=new Date(Date.UTC(e,t-1,r));return e<100&&0<=e&&s.setUTCFullYear(s.getUTCFullYear()-1900),0===(e=s.getUTCDay())?7:e}function Tr(e,t,r){return r+(b(e)?wr:pr)[t-1]}function Sr(e,t){const r=b(e)?wr:pr;return{month:(e=r.findIndex((e=>e<t)))+1,day:t-r[e]}}function kr(e){var{year:t,month:r,day:s}=e,n=Tr(t,r,s),s=br(t,r,s);let i,a=Math.floor((n-s+10)/7);return a<1?(i=t-1,a=M(i)):a>M(t)?(i=t+1,a=1):i=t,Object.assign({weekYear:i,weekNumber:a,weekday:s},V(e))}function Mr(e){var{weekYear:t,weekNumber:r,weekday:s}=e,n=br(t,1,4),i=T(t);let a,o=7*r+s-n-3;o<1?(a=t-1,o+=T(a)):o>i?(a=t+1,o-=T(t)):a=t;var{month:i,day:t}=Sr(a,o);return Object.assign({year:a,month:i,day:t},V(e))}function Nr(e){var{year:t,month:r,day:s}=e,s=Tr(t,r,s);return Object.assign({year:t,ordinal:s},V(e))}function Dr(e){var{year:t,ordinal:r}=e,{month:s,day:r}=Sr(t,r);return Object.assign({year:t,month:s,day:r},V(e))}function Er(e){var t=m(e.weekYear),r=_(e.weekNumber,1,M(e.weekYear)),s=_(e.weekday,1,7);return t?r?!s&&Or("weekday",e.weekday):Or("week",e.weekNumber):Or("weekYear",e.weekYear)}function jr(e){var t=m(e.year),r=_(e.ordinal,1,T(e.year));return t?!r&&Or("ordinal",e.ordinal):Or("year",e.year)}function xr(e){var t=m(e.year),r=_(e.month,1,12),s=_(e.day,1,S(e.year,e.month));return t?r?!s&&Or("day",e.day):Or("month",e.month):Or("year",e.year)}function Ir(e){var{hour:t,minute:r,second:s,millisecond:n}=e,i=_(t,0,23)||24===t&&0===r&&0===s&&0===n,a=_(r,0,59),o=_(s,0,59);e=_(n,0,999);return i?a?o?!e&&Or("millisecond",n):Or("second",s):Or("minute",r):Or("hour",t)}function Vr(e,t,r){let s=e-60*t*1e3;var n=r.offset(s);return t===n?[s,t]:(s-=60*(n-t)*1e3,n===(r=r.offset(s))?[s,n]:[e-60*Math.min(n,r)*1e3,Math.max(n,r)])}function Cr(e,t){const r=new Date(e+=60*t*1e3);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function Fr(e,t,r){return Vr(k(e),t,r)}function $r(e,t,r,s,n,i){var{setZone:a,zone:o}=r;if(e&&0<Object.keys(e).length){t=t||o;const s=Hr.fromObject(e,Object.assign(Object.assign({},r),{zone:t,specificOffset:i}));return a?s:s.setZone(o)}return Hr.invalid(new Ut("unparsable",`the input "${n}" can't be parsed as ${s}`))}function Zr(e,t,r=!0){return e.isValid?rt.create(Xe.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}const Lr={year:0,month:1,day:1,hour:0,minute:0,second:0,millisecond:0},zr={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},qr={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Ar=["year","month","day","hour","minute","second","millisecond"],Ur=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Wr=["year","ordinal","hour","minute","second","millisecond"];function Pr(e){var t={year:"year",years:"year",quarter:"quarter",quarters:"quarter",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new n(e);return t}class Hr{constructor(e){const t=e.zone||Ue.defaultZone;let r,s,n=e.invalid||(Number.isNaN(e.ts)?new Ut("invalid timestamp"):null)||(t.isValid?null:Hr._unsupportedZone(t));var i;this._ts=h(e.ts)?Ue.now():e.ts,n||(e.old&&e.old.ts===this._ts&&e.old.zone.equals(t)?[s,r]=[e.old.c,e.old.o]:(i=t.offset(this._ts),s=Cr(this._ts,i),n=Number.isNaN(s.year)?new Ut("invalid input"):null,s=n?void 0:s,r=n?void 0:i)),this._zone=t,this._loc=e.loc||Xe.create(),this._invalid=n,this._weekData=null,this._c=s,this._o=r,this._isLuxonDateTime=!0}get invalidExplanation(){return this._invalid?this._invalid.explanation:void 0}get invalidReason(){return this._invalid?this._invalid.reason:void 0}get isValid(){return null===this._invalid}get locale(){return this.isValid?this._loc.locale:void 0}get numberingSystem(){return this.isValid?this._loc.numberingSystem:void 0}get outputCalendar(){return this.isValid?this._loc.outputCalendar:void 0}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this._c.year:NaN}get quarter(){return this.isValid?Math.ceil(this._c.month/3):NaN}get month(){return this.isValid?this._c.month:NaN}get day(){return this.isValid?this._c.day:NaN}get hour(){return this.isValid?this._c.hour:NaN}get minute(){return this.isValid?this._c.minute:NaN}get second(){return this.isValid?this._c.second:NaN}get millisecond(){return this.isValid?this._c.millisecond:NaN}get weekYear(){return this.isValid?this._possiblyCachedWeekData(this).weekYear:NaN}get weekNumber(){return this.isValid?this._possiblyCachedWeekData(this).weekNumber:NaN}get weekday(){return this.isValid?this._possiblyCachedWeekData(this).weekday:NaN}get ordinal(){return this.isValid?Nr(this._c).ordinal:NaN}get monthShort(){return this.isValid?Kt.months("short",{locObj:this._loc})[this.month-1]:null}get monthLong(){return this.isValid?Kt.months("long",{locObj:this._loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Kt.weekdays("short",{locObj:this._loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Kt.weekdays("long",{locObj:this._loc})[this.weekday-1]:null}get offset(){return this.isValid?+this._o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this._ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this._ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return b(this.year)}get daysInMonth(){return S(this.year,this.month)}get daysInYear(){return this.isValid?T(this.year):NaN}get weeksInWeekYear(){return this.isValid?M(this.weekYear):NaN}get ts(){return this._ts}static now(){return new Hr({})}static local(...e){var[t,r]=this._lastOpts(e),[s,n,i,a,o,e,r]=r;return Hr._quickDT({year:s,month:n,day:i,hour:a,minute:o,second:e,millisecond:r},t)}static utc(...e){const[t,r]=this._lastOpts(e);var[s,n,i,a,o,u,e]=r;return t.zone=xe.utcInstance,this._quickDT({year:s,month:n,day:i,hour:a,minute:o,second:u,millisecond:e},t)}static fromJSDate(e,t={}){var r=function(e){return"[object Date]"===Object.prototype.toString.call(e)}(e)?e.valueOf():NaN;return Number.isNaN(r)?Hr.invalid("invalid input"):(e=Ve(t.zone,Ue.defaultZone)).isValid?new Hr({ts:r,zone:e,loc:Xe.fromObject(t)}):Hr.invalid(Hr._unsupportedZone(e))}static fromMillis(e,t={}){if(d(e))return e<-864e13||e>864e13?Hr.invalid("Timestamp out of range"):new Hr({ts:e,zone:Ve(t.zone,Ue.defaultZone),loc:Xe.fromObject(t)});throw new o(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(!d(e))throw new o("fromSeconds requires a numerical input");return new Hr({ts:1e3*e,zone:Ve(t.zone,Ue.defaultZone),loc:Xe.fromObject(t)})}static fromObject(e={},t={}){const r=Ve(t.zone,Ue.defaultZone);if(!r.isValid)return Hr.invalid(Hr._unsupportedZone(r));var s=Ue.now(),n=d(t.specificOffset)?t.specificOffset:r.offset(s),i=x(e,Pr),o=l(i.ordinal),u=l(i.year),c=l(i.month)||l(i.day),h=u||c;u=i.weekYear||i.weekNumber,t=Xe.fromObject(t);if((h||o)&&u)throw new a("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&o)throw new a("Can't mix ordinal dates with month/day");return u=u||i.weekday&&!h,s=Cr(s,n),n={containsGregor:h,containsOrdinal:o,loc:t,normalized:i,obj:e,offsetProvis:n,useWeekData:u,zoneToUse:r},u?Hr._buildObject(n,Ur,zr,kr(s)):o?Hr._buildObject(n,Wr,qr,Nr(s)):Hr._buildObject(n,Ar,Lr,s)}static fromISO(e,t={}){var[r,s]=function(e){return it(e,[xt,Ft],[It,$t],[Vt,Zt],[Ct,Lt])}(e);return $r(r,s,t,"ISO 8601",e)}static fromRFC2822(e,t={}){var[r,s]=function(e){return it(function(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[St,kt])}(e);return $r(r,s,t,"RFC 2822",e)}static fromHTTP(e,t={}){var[r,s]=function(e){return it(e,[Mt,Et],[Nt,Et],[Dt,jt])}(e);return $r(r,s,t,"HTTP",e)}static fromFormat(e,t,r={}){if(h(e)||h(t))throw new o("fromFormat requires an input string and a format");var{locale:s,numberingSystem:n}=r,[i,a,s,n]=function(e,t,r){var{result:s,zone:e,specificOffset:t,invalidReason:r}=vr(e,t,r);return[s,e,t,r]}(Xe.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0}),e,t);return n?Hr.invalid(n):$r(i,a||null,r,`format ${t}`,e,s)}static fromString(e,t,r={}){return Hr.fromFormat(e,t,r)}static fromSQL(e,t={}){var[r,s]=function(e){return it(e,[zt,Ft],[qt,At])}(e);return $r(r,s,t,"SQL",e)}static invalid(e,r){if(!e)throw new o("need to specify a reason the DateTime is invalid");if(r=e instanceof Ut?e:new Ut(e,r),Ue.throwOnInvalid)throw new t(r);return new Hr({invalid:r})}static isDateTime(e){return!(!e||!e._isLuxonDateTime)}static min(...e){if(!e.every(Hr.isDateTime))throw new o("min requires all arguments be DateTimes");return y(e,(e=>e.valueOf()),Math.min)}static max(...e){if(!e.every(Hr.isDateTime))throw new o("max requires all arguments be DateTimes");return y(e,(e=>e.valueOf()),Math.max)}static fromFormatExplain(e,t,r={}){var{locale:s,numberingSystem:r}=r;return vr(Xe.fromOpts({locale:s,numberingSystem:r,defaultToEN:!0}),e,t)}static fromStringExplain(e,t,r={}){return Hr.fromFormatExplain(e,t,r)}static _buildObject(e,t,r,s){let n=!1;if(t.forEach((t=>{l(e.normalized[t])?n=!0:e.normalized[t]=n?r[t]:s[t]})),t=(e.useWeekData?Er:e.containsOrdinal?jr:xr)(e.normalized)||Ir(e.normalized))return Hr.invalid(t);const i=e.useWeekData?Mr(e.normalized):e.containsOrdinal?Dr(e.normalized):e.normalized,[a,o]=Fr(i,e.offsetProvis,e.zoneToUse),u=new Hr({ts:a,zone:e.zoneToUse,o:o,loc:e.loc});return e.normalized.weekday&&e.containsGregor&&e.obj.weekday!==u.weekday?Hr.invalid("mismatched weekday",`you can't specify both a weekday of ${e.normalized.weekday} and a date of ${u.toISO()}`):u}static _lastOpts(e){let t,r={};return t=0<e.length&&"object"==typeof e[e.length-1]?(r=e.pop(),e):Array.from(e),[r,t]}static _quickDT(e,t){const r=Ve(t.zone,Ue.defaultZone),s=Xe.fromObject(t),n=Ue.now();let i,a;if(l(e.year)){for(const t of Ar)h(e[t])&&(e[t]=Lr[t]);if(t=xr(e)||Ir(e))return Hr.invalid(t);t=r.offset(n),[i,a]=Fr(e,t,r)}else i=n;return new Hr({ts:i,zone:r,loc:s,o:a})}static _diffRelative(e,t,r){const s=!!h(r.round)||r.round,n=(e,n)=>{e=O(e,s||r.calendary?0:2,!0);return t._loc.clone(r).relFormatter(r).format(e,n)},i=s=>r.calendary?t.hasSame(e,s)?0:t.startOf(s).diff(e.startOf(s),s).get(s):t.diff(e,s).get(s);if(r.unit)return n(i(r.unit),r.unit);for(const e of r.units){var a=i(e);if(1<=Math.abs(a))return n(a,e)}return n(t<e?-0:0,r.units[r.units.length-1])}static _unsupportedZone(e){return new Ut("unsupported zone",`the zone "${e.name}" is not supported`)}get(e){return this[e]}resolvedLocaleOptions(e={}){var{locale:t,numberingSystem:r,calendar:e}=rt.create(this._loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:r,outputCalendar:e}}toLocal(){return this.setZone(Ue.defaultZone)}toUTC(e=0,t={}){return this.setZone(xe.instance(e),t)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:r=!1}={}){if((e=Ve(e,Ue.defaultZone)).equals(this.zone))return this;if(e.isValid){let s=this._ts;return(t||r)&&(t=e.offset(this._ts),s=Fr(r=this.toObject(),t,e)[0]),this._clone({ts:s,zone:e})}return Hr.invalid(Hr._unsupportedZone(e))}reconfigure(e){return e=this._loc.clone(e),this._clone({loc:e})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;var t,r=l((t=x(e,Pr)).weekYear)||l(t.weekNumber)||l(t.weekday),s=l(t.ordinal),n=l(t.year),i=l(t.month)||l(t.day);e=t.weekYear||t.weekNumber;if((n||i||s)&&e)throw new a("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(i&&s)throw new a("Can't mix ordinal dates with month/day");let o;r?o=Mr(Object.assign(Object.assign({},kr(this._c)),t)):h(t.ordinal)?(o=Object.assign(Object.assign({},this.toObject()),t),h(t.day)&&(o.day=Math.min(S(o.year,o.month),o.day))):o=Dr(Object.assign(Object.assign({},Nr(this._c)),t));var[r,t]=Fr(o,this._o,this.zone);return this._clone({ts:r,o:t})}plus(e){return this.isValid?(e=Yt.fromDurationLike(e),this._clone(this._adjustTime(e))):this}minus(e){return this.isValid?(e=Yt.fromDurationLike(e).negate(),this._clone(this._adjustTime(e))):this}startOf(e){if(!this.isValid)return this;const t={},r=Yt.normalizeUnit(e);switch(r){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0}return"weeks"===r&&(t.weekday=1),"quarters"===r&&(e=Math.ceil(this.month/3),t.month=3*(e-1)+1),this.set(t)}endOf(e){return this.plus({[e]:1}).startOf(e).minus({milliseconds:1})}toFormat(e,t={}){return this.isValid?rt.create(this._loc.redefaultToEN(t)).formatDateTimeFromString(this,e):"Invalid DateTime"}toLocaleString(e=A,t={}){return this.isValid?rt.create(this._loc.clone(t),e).formatDateTime(this):"Invalid DateTime"}toLocaleParts(e={}){return this.isValid?rt.create(this._loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:r=!1,includeOffset:s=!0,extendedZone:n=!1}={}){return this.isValid?(e="extended"===e,[this._toISODate(e),"T",this._toISOTime(e,t,r,s,n)].join("")):null}toISODate(e={format:"extended"}){let t="basic"===e.format?"yyyyMMdd":"yyyy-MM-dd";return 9999<this.year&&(t="+"+t),Zr(this,t)}toISOWeekDate(){return Zr(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:r=!0,includePrefix:s=!1,extendedZone:n=!1,format:i="extended"}={}){return this.isValid?[s?"T":"",this._toISOTime("extended"===i,t,e,r,n)].join(""):null}toRFC2822(){return Zr(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Zr(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?this._toISODate(!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:r=!0}={}){let s="HH:mm:ss.SSS";return(t||e)&&(r&&(s+=" "),t?s+="z":e&&(s+="ZZ")),Zr(this,s,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():"Invalid DateTime"}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this._ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={includeConfig:!1}){if(!this.isValid)return{};const t=Object.assign({},this._c);return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this._loc.numberingSystem,t.locale=this._loc.locale),t}toJSDate(){return new Date(this.isValid?this._ts:NaN)}diff(e,t="milliseconds",r={}){if(!this.isValid||!e.isValid){var s=this.invalidReason||e.invalidReason;return Yt.invalid(s,"created by diffing an invalid DateTime")}const n=function(e){return Array.isArray(e)?e:[e]}(t).map(Yt.normalizeUnit),i=e.valueOf()>this.valueOf(),a=er(i?this:e,i?e:this,n,Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},r));return i?a.negate():a}diffNow(e="milliseconds",t={}){return this.diff(Hr.now(),e,t)}until(e){return Qt.fromDateTimes(this,e)}hasSame(e,t){if(!this.isValid)return!1;var r=e.valueOf();const s=this.setZone(e.zone,{keepLocalTime:!0});return+s.startOf(t)<=r&&r<=+s.endOf(t)}equals(e){return this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this._loc.equals(e._loc)}toRelative(e={}){if(!this.isValid)return null;var t=e.base||Hr.fromObject({},{zone:this.zone}),r=e.padding?this<t?-e.padding:e.padding:0;let s=["years","months","days","hours","minutes","seconds"],n=e.unit;return Array.isArray(e.unit)&&(s=e.unit,n=void 0),Hr._diffRelative(t,this.plus(r),Object.assign(Object.assign({},e),{numeric:"always",units:s,unit:n}))}toRelativeCalendar(e={}){return this.isValid?Hr._diffRelative(e.base||Hr.fromObject({},{zone:this.zone}),this,Object.assign(Object.assign({},e),{numeric:"auto",units:["years","months","days"],calendary:!0})):null}_possiblyCachedWeekData(e){return null===e._weekData&&(e._weekData=kr(e._c)),e._weekData}_clone(e){var t={ts:this._ts,zone:this.zone,c:this._c,o:this._o,loc:this._loc,invalid:this._invalid||void 0};return new Hr(Object.assign(Object.assign(Object.assign({},t),e),{old:t}))}_adjustTime(e){var t=this._o,r=this._c.year+Math.trunc(e.years),s=this._c.month+Math.trunc(e.months)+3*Math.trunc(e.quarters);s=Object.assign(Object.assign({},this._c),{year:r,month:s,day:Math.min(this._c.day,S(r,s))+Math.trunc(e.days)+7*Math.trunc(e.weeks)}),e=Yt.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds");let[n,i]=Vr(k(s),t,this.zone);return 0!==e&&(n+=e,i=this.zone.offset(n)),{ts:n,o:i}}_toISODate(e){var t=9999<this._c.year||this._c.year<0;let r="";return t&&0<=this._c.year&&(r+="+"),r+=g(this._c.year,t?6:4),e?(r+="-",r+=g(this._c.month),r+="-"):r+=g(this._c.month),r+=g(this._c.day),r}_toISOTime(e,t,r,s,n){let i=g(this._c.hour);return e?(i+=":",i+=g(this._c.minute),0===this._c.second&&t||(i+=":")):i+=g(this._c.minute),0===this._c.second&&t||(i+=g(this._c.second),0===this._c.millisecond&&r||(i+=".",i+=g(this._c.millisecond,3))),s&&(this.isOffsetFixed&&0===this.offset&&!n?i+="Z":this._o<0?(i+="-",i+=g(Math.trunc(-this._o/60)),i+=":",i+=g(Math.trunc(-this._o%60))):(i+="+",i+=g(Math.trunc(this._o/60)),i+=":",i+=g(Math.trunc(this._o%60)))),n&&(i+="["+this.zone.ianaName+"]"),i}}Hr.DATE_SHORT=A,Hr.DATE_MED=U,Hr.DATE_MED_WITH_WEEKDAY=W,Hr.DATE_FULL=P,Hr.DATE_HUGE=H,Hr.TIME_SIMPLE=R,Hr.TIME_WITH_SECONDS=J,Hr.TIME_WITH_SHORT_OFFSET=Y,Hr.TIME_WITH_LONG_OFFSET=G,Hr.TIME_24_SIMPLE=B,Hr.TIME_24_WITH_SECONDS=Q,Hr.TIME_24_WITH_SHORT_OFFSET=K,Hr.TIME_24_WITH_LONG_OFFSET=X,Hr.DATETIME_SHORT=ee,Hr.DATETIME_SHORT_WITH_SECONDS=te,Hr.DATETIME_MED=re,Hr.DATETIME_MED_WITH_SECONDS=se,Hr.DATETIME_MED_WITH_WEEKDAY=ne,Hr.DATETIME_FULL=ie,Hr.DATETIME_FULL_WITH_SECONDS=ae,Hr.DATETIME_HUGE=oe,Hr.DATETIME_HUGE_WITH_SECONDS=ue;const Rr="3.4.0";export{Hr as DateTime,Yt as Duration,xe as FixedOffsetZone,Ee as IANAZone,Kt as Info,Qt as Interval,c as Intl,Ie as InvalidZone,F as ORDERED_UNITS,$ as REVERSE_ORDERED_UNITS,Ue as Settings,Fe as SystemZone,Rr as VERSION,Te as Zone};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHMtbHV4b24uZXM2Lm1pbi5qcyIsInNvdXJjZXMiOlsiLi4vc3JjL2Vycm9ycy50cyIsIi4uL3NyYy90eXBlcy9pbnRsLW5leHQudHMiLCIuLi9zcmMvaW1wbC91dGlsLnRzIiwiLi4vc3JjL2ltcGwvZm9ybWF0cy50cyIsIi4uL3NyYy9pbXBsL2VuZ2xpc2gudHMiLCIuLi9zcmMvem9uZS50cyIsIi4uL3NyYy96b25lcy9JQU5BWm9uZS50cyIsIi4uL3NyYy96b25lcy9maXhlZE9mZnNldFpvbmUudHMiLCIuLi9zcmMvem9uZXMvaW52YWxpZFpvbmUudHMiLCIuLi9zcmMvaW1wbC96b25lVXRpbC50cyIsIi4uL3NyYy96b25lcy9zeXN0ZW1ab25lLnRzIiwiLi4vc3JjL3NldHRpbmdzLnRzIiwiLi4vc3JjL2ltcGwvbG9jYWxlLnRzIiwiLi4vc3JjL2ltcGwvZm9ybWF0dGVyLnRzIiwiLi4vc3JjL2ltcGwvcmVnZXhQYXJzZXIudHMiLCIuLi9zcmMvdHlwZXMvaW52YWxpZC50cyIsIi4uL3NyYy9kdXJhdGlvbi50cyIsIi4uL3NyYy9pbnRlcnZhbC50cyIsIi4uL3NyYy9pbmZvLnRzIiwiLi4vc3JjL2ltcGwvZGlmZi50cyIsIi4uL3NyYy9pbXBsL2RpZ2l0cy50cyIsIi4uL3NyYy9pbXBsL3Rva2VuUGFyc2VyLnRzIiwiLi4vc3JjL2ltcGwvY29udmVyc2lvbnMudHMiLCIuLi9zcmMvZGF0ZXRpbWUudHMiLCIuLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gdGhlc2UgYXJlbid0IHJlYWxseSBwcml2YXRlLCBidXQgbm9yIGFyZSB0aGV5IHJlYWxseSB1c2VmdWwgdG8gZG9jdW1lbnRcbmltcG9ydCB7IEludmFsaWQgfSBmcm9tIFwiLi90eXBlcy9pbnZhbGlkXCI7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgVHNMdXhvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnZhbGlkRGF0ZVRpbWVFcnJvciBleHRlbmRzIFRzTHV4b25FcnJvciB7XG4gIGNvbnN0cnVjdG9yKHJlYXNvbjogSW52YWxpZCkge1xuICAgIHN1cGVyKGBJbnZhbGlkIERhdGVUaW1lOiAke3JlYXNvbi50b01lc3NhZ2UoKX1gKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnZhbGlkRHVyYXRpb25FcnJvciBleHRlbmRzIFRzTHV4b25FcnJvciB7XG4gIGNvbnN0cnVjdG9yKHJlYXNvbjogSW52YWxpZCkge1xuICAgIHN1cGVyKGBJbnZhbGlkIER1cmF0aW9uOiAke3JlYXNvbi50b01lc3NhZ2UoKX1gKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnZhbGlkSW50ZXJ2YWxFcnJvciBleHRlbmRzIFRzTHV4b25FcnJvciB7XG4gIGNvbnN0cnVjdG9yKHJlYXNvbjogSW52YWxpZCkge1xuICAgIHN1cGVyKGBJbnZhbGlkIEludGVydmFsOiAke3JlYXNvbi50b01lc3NhZ2UoKX1gKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnZhbGlkVW5pdEVycm9yIGV4dGVuZHMgVHNMdXhvbkVycm9yIHtcbiAgY29uc3RydWN0b3IodW5pdDogc3RyaW5nKSB7XG4gICAgc3VwZXIoYEludmFsaWQgdW5pdCAke3VuaXR9YCk7XG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRVbml0RXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnZhbGlkWm9uZUVycm9yIGV4dGVuZHMgVHNMdXhvbkVycm9yIHtcbiAgY29uc3RydWN0b3Ioem9uZU5hbWU6IHN0cmluZykge1xuICAgIHN1cGVyKGAke3pvbmVOYW1lfSBpcyBhbiBpbnZhbGlkIG9yIHVua25vd24gem9uZSBzcGVjaWZpZXJgKTtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFpvbmVFcnJvci5wcm90b3R5cGUpO1xuICB9XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGNsYXNzIFVucGFyc2FibGVTdHJpbmdFcnJvciBleHRlbmRzIFRzTHV4b25FcnJvciB7XG4gIGNvbnN0cnVjdG9yKGZvcm1hdDogc3RyaW5nLCB0ZXh0OiBzdHJpbmcpIHtcbiAgICBzdXBlcihgY2FuJ3QgcGFyc2UgJHt0ZXh0fSBpbnRvIGZvcm1hdCAke2Zvcm1hdH1gKTtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgVW5wYXJzYWJsZVN0cmluZ0Vycm9yLnByb3RvdHlwZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgY2xhc3MgQ29uZmxpY3RpbmdTcGVjaWZpY2F0aW9uRXJyb3IgZXh0ZW5kcyBUc0x1eG9uRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ29uZmxpY3RpbmdTcGVjaWZpY2F0aW9uRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnZhbGlkQXJndW1lbnRFcnJvciBleHRlbmRzIFRzTHV4b25FcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZykge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkQXJndW1lbnRFcnJvci5wcm90b3R5cGUpO1xuICB9XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGNsYXNzIFpvbmVJc0Fic3RyYWN0RXJyb3IgZXh0ZW5kcyBUc0x1eG9uRXJyb3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihcIlpvbmUgaXMgYW4gYWJzdHJhY3QgY2xhc3NcIik7XG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFpvbmVJc0Fic3RyYWN0RXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuIiwiLy8gV2Uga2VlcCB0aGlzIGZpbGUgdG8gaW50ZWdyYXRlIG1vZGlmaWNhdGlvbnMgd2hpY2ggYXJlbid0IGluIHRzIGxpYiBpbnRsIHlleVxuXG4vLyBUaGlzIGZpbGUgY2FuIGJlIHJlbW92ZWQgb25jZSBlczIwMjAuaW50bCBpcyBwYXJ0IG9mIFRTXG4vLyBhbmQgY2FuIGJlIGFkZGVkIGluIHRoZSAnbGliJyBzZWN0aW9uIG9mIHRzY29uZmlnLmpzb25cblxuZGVjbGFyZSBuYW1lc3BhY2UgSW50bCB7XG4gICAgaW50ZXJmYWNlIENvbGxhdG9yT3B0aW9ucyB7XG4gICAgICAgIHVzYWdlPzogc3RyaW5nO1xuICAgICAgICBsb2NhbGVNYXRjaGVyPzogc3RyaW5nO1xuICAgICAgICBudW1lcmljPzogYm9vbGVhbjtcbiAgICAgICAgY2FzZUZpcnN0Pzogc3RyaW5nO1xuICAgICAgICBzZW5zaXRpdml0eT86IHN0cmluZztcbiAgICAgICAgaWdub3JlUHVuY3R1YXRpb24/OiBib29sZWFuO1xuICAgIH1cblxuICAgIGludGVyZmFjZSBSZXNvbHZlZENvbGxhdG9yT3B0aW9ucyB7XG4gICAgICAgIGxvY2FsZTogc3RyaW5nO1xuICAgICAgICB1c2FnZTogc3RyaW5nO1xuICAgICAgICBzZW5zaXRpdml0eTogc3RyaW5nO1xuICAgICAgICBpZ25vcmVQdW5jdHVhdGlvbjogYm9vbGVhbjtcbiAgICAgICAgY29sbGF0aW9uOiBzdHJpbmc7XG4gICAgICAgIGNhc2VGaXJzdDogc3RyaW5nO1xuICAgICAgICBudW1lcmljOiBib29sZWFuO1xuICAgIH1cblxuICAgIGludGVyZmFjZSBDb2xsYXRvciB7XG4gICAgICAgIGNvbXBhcmUoeDogc3RyaW5nLCB5OiBzdHJpbmcpOiBudW1iZXI7XG5cbiAgICAgICAgcmVzb2x2ZWRPcHRpb25zKCk6IFJlc29sdmVkQ29sbGF0b3JPcHRpb25zO1xuICAgIH1cblxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuYW1pbmctY29udmVudGlvblxuICAgIGxldCBDb2xsYXRvcjoge1xuICAgICAgICBuZXcobG9jYWxlcz86IHN0cmluZyB8IHN0cmluZ1tdLCBvcHRpb25zPzogQ29sbGF0b3JPcHRpb25zKTogQ29sbGF0b3I7XG4gICAgICAgIChsb2NhbGVzPzogc3RyaW5nIHwgc3RyaW5nW10sIG9wdGlvbnM/OiBDb2xsYXRvck9wdGlvbnMpOiBDb2xsYXRvcjtcbiAgICAgICAgc3VwcG9ydGVkTG9jYWxlc09mKGxvY2FsZXM6IHN0cmluZyB8IHN0cmluZ1tdLCBvcHRpb25zPzogQ29sbGF0b3JPcHRpb25zKTogc3RyaW5nW107XG4gICAgfTtcblxuICAgIGludGVyZmFjZSBOdW1iZXJGb3JtYXRPcHRpb25zIHtcbiAgICAgICAgbG9jYWxlTWF0Y2hlcj86IHN0cmluZztcbiAgICAgICAgc3R5bGU/OiBzdHJpbmc7XG4gICAgICAgIGN1cnJlbmN5Pzogc3RyaW5nO1xuICAgICAgICBjdXJyZW5jeURpc3BsYXk/OiBzdHJpbmc7XG4gICAgICAgIHVzZUdyb3VwaW5nPzogYm9vbGVhbjtcbiAgICAgICAgbWluaW11bUludGVnZXJEaWdpdHM/OiBudW1iZXI7XG4gICAgICAgIG1pbmltdW1GcmFjdGlvbkRpZ2l0cz86IG51bWJlcjtcbiAgICAgICAgbWF4aW11bUZyYWN0aW9uRGlnaXRzPzogbnVtYmVyO1xuICAgICAgICBtaW5pbXVtU2lnbmlmaWNhbnREaWdpdHM/OiBudW1iZXI7XG4gICAgICAgIG1heGltdW1TaWduaWZpY2FudERpZ2l0cz86IG51bWJlcjtcbiAgICAgICAgcGFkVG8/OiBudW1iZXI7XG4gICAgICAgIGZsb29yPzogYm9vbGVhbjtcbiAgICAgICAgdW5pdD86IHN0cmluZztcbiAgICAgICAgdW5pdERpc3BsYXk/OiBcImxvbmdcIiB8IFwic2hvcnRcIjtcbiAgICB9XG5cbiAgICBpbnRlcmZhY2UgUmVzb2x2ZWROdW1iZXJGb3JtYXRPcHRpb25zIHtcbiAgICAgICAgbG9jYWxlOiBzdHJpbmc7XG4gICAgICAgIG51bWJlcmluZ1N5c3RlbTogc3RyaW5nO1xuICAgICAgICBzdHlsZTogc3RyaW5nO1xuICAgICAgICBjdXJyZW5jeT86IHN0cmluZztcbiAgICAgICAgY3VycmVuY3lEaXNwbGF5Pzogc3RyaW5nO1xuICAgICAgICBtaW5pbXVtSW50ZWdlckRpZ2l0czogbnVtYmVyO1xuICAgICAgICBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IG51bWJlcjtcbiAgICAgICAgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiBudW1iZXI7XG4gICAgICAgIG1pbmltdW1TaWduaWZpY2FudERpZ2l0cz86IG51bWJlcjtcbiAgICAgICAgbWF4aW11bVNpZ25pZmljYW50RGlnaXRzPzogbnVtYmVyO1xuICAgICAgICB1c2VHcm91cGluZzogYm9vbGVhbjtcbiAgICB9XG5cbiAgICBpbnRlcmZhY2UgTnVtYmVyRm9ybWF0IHtcbiAgICAgICAgZm9ybWF0KHZhbHVlOiBudW1iZXIpOiBzdHJpbmc7XG5cbiAgICAgICAgcmVzb2x2ZWRPcHRpb25zKCk6IFJlc29sdmVkTnVtYmVyRm9ybWF0T3B0aW9ucztcbiAgICB9XG5cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bmFtaW5nLWNvbnZlbnRpb25cbiAgICBsZXQgTnVtYmVyRm9ybWF0OiB7XG4gICAgICAgIG5ldyhsb2NhbGVzPzogc3RyaW5nIHwgc3RyaW5nW10sIG9wdGlvbnM/OiBOdW1iZXJGb3JtYXRPcHRpb25zKTogTnVtYmVyRm9ybWF0O1xuICAgICAgICAobG9jYWxlcz86IHN0cmluZyB8IHN0cmluZ1tdLCBvcHRpb25zPzogTnVtYmVyRm9ybWF0T3B0aW9ucyk6IE51bWJlckZvcm1hdDtcbiAgICAgICAgc3VwcG9ydGVkTG9jYWxlc09mKGxvY2FsZXM6IHN0cmluZyB8IHN0cmluZ1tdLCBvcHRpb25zPzogTnVtYmVyRm9ybWF0T3B0aW9ucyk6IHN0cmluZ1tdO1xuICAgIH07XG5cbiAgICBpbnRlcmZhY2UgRGF0ZVRpbWVGb3JtYXRPcHRpb25zIHtcbiAgICAgICAgbG9jYWxlTWF0Y2hlcj86IHN0cmluZztcbiAgICAgICAgd2Vla2RheT86IHN0cmluZztcbiAgICAgICAgZXJhPzogc3RyaW5nO1xuICAgICAgICB5ZWFyPzogc3RyaW5nO1xuICAgICAgICBtb250aD86IHN0cmluZztcbiAgICAgICAgZGF5Pzogc3RyaW5nO1xuICAgICAgICBob3VyPzogc3RyaW5nO1xuICAgICAgICBtaW51dGU/OiBzdHJpbmc7XG4gICAgICAgIHNlY29uZD86IHN0cmluZztcbiAgICAgICAgdGltZVpvbmVOYW1lPzogc3RyaW5nO1xuICAgICAgICBmb3JtYXRNYXRjaGVyPzogc3RyaW5nO1xuICAgICAgICBob3VyMTI/OiBib29sZWFuO1xuICAgICAgICBob3VyQ3ljbGU/OiBcImgxMVwifCBcImgxMlwifCBcImgyM1wifCBcImgyNFwiO1xuICAgICAgICB0aW1lWm9uZT86IHN0cmluZztcbiAgICB9XG5cbiAgICBpbnRlcmZhY2UgUmVzb2x2ZWREYXRlVGltZUZvcm1hdE9wdGlvbnMge1xuICAgICAgICBsb2NhbGU6IHN0cmluZztcbiAgICAgICAgY2FsZW5kYXI6IHN0cmluZztcbiAgICAgICAgbnVtYmVyaW5nU3lzdGVtOiBzdHJpbmc7XG4gICAgICAgIHRpbWVab25lOiBzdHJpbmc7XG4gICAgICAgIGhvdXIxMj86IGJvb2xlYW47XG4gICAgICAgIHdlZWtkYXk/OiBzdHJpbmc7XG4gICAgICAgIGVyYT86IHN0cmluZztcbiAgICAgICAgeWVhcj86IHN0cmluZztcbiAgICAgICAgbW9udGg/OiBzdHJpbmc7XG4gICAgICAgIGRheT86IHN0cmluZztcbiAgICAgICAgaG91cj86IHN0cmluZztcbiAgICAgICAgbWludXRlPzogc3RyaW5nO1xuICAgICAgICBzZWNvbmQ/OiBzdHJpbmc7XG4gICAgICAgIHRpbWVab25lTmFtZT86IHN0cmluZztcbiAgICB9XG5cbiAgICBpbnRlcmZhY2UgRGF0ZVRpbWVGb3JtYXQge1xuICAgICAgICBmb3JtYXQoZGF0ZT86IERhdGUgfCBudW1iZXIpOiBzdHJpbmc7XG5cbiAgICAgICAgcmVzb2x2ZWRPcHRpb25zKCk6IFJlc29sdmVkRGF0ZVRpbWVGb3JtYXRPcHRpb25zO1xuICAgIH1cblxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuYW1pbmctY29udmVudGlvblxuICAgIGxldCBEYXRlVGltZUZvcm1hdDoge1xuICAgICAgICBuZXcobG9jYWxlcz86IHN0cmluZyB8IHN0cmluZ1tdLCBvcHRpb25zPzogRGF0ZVRpbWVGb3JtYXRPcHRpb25zKTogRGF0ZVRpbWVGb3JtYXQ7XG4gICAgICAgIChsb2NhbGVzPzogc3RyaW5nIHwgc3RyaW5nW10sIG9wdGlvbnM/OiBEYXRlVGltZUZvcm1hdE9wdGlvbnMpOiBEYXRlVGltZUZvcm1hdDtcbiAgICAgICAgc3VwcG9ydGVkTG9jYWxlc09mKGxvY2FsZXM6IHN0cmluZyB8IHN0cmluZ1tdLCBvcHRpb25zPzogRGF0ZVRpbWVGb3JtYXRPcHRpb25zKTogc3RyaW5nW107XG4gICAgfTtcbn1cblxuZGVjbGFyZSBuYW1lc3BhY2UgSW50bCB7XG4gICAgdHlwZSBEYXRlVGltZUZvcm1hdFBhcnRUeXBlcyA9XG4gICAgICAgIFwiZGF5XCJcbiAgICAgICAgfCBcImRheVBlcmlvZFwiXG4gICAgICAgIHwgXCJlcmFcIlxuICAgICAgICB8IFwiaG91clwiXG4gICAgICAgIHwgXCJsaXRlcmFsXCJcbiAgICAgICAgfCBcIm1pbnV0ZVwiXG4gICAgICAgIHwgXCJtb250aFwiXG4gICAgICAgIHwgXCJzZWNvbmRcIlxuICAgICAgICB8IFwidGltZVpvbmVOYW1lXCJcbiAgICAgICAgfCBcIndlZWtkYXlcIlxuICAgICAgICB8IFwieWVhclwiO1xuXG4gICAgaW50ZXJmYWNlIERhdGVUaW1lRm9ybWF0UGFydCB7XG4gICAgICAgIHR5cGU6IERhdGVUaW1lRm9ybWF0UGFydFR5cGVzO1xuICAgICAgICB2YWx1ZTogc3RyaW5nO1xuICAgIH1cblxuICAgIGludGVyZmFjZSBEYXRlVGltZUZvcm1hdCB7XG4gICAgICAgIGZvcm1hdFRvUGFydHMoZGF0ZT86IERhdGUgfCBudW1iZXIpOiBEYXRlVGltZUZvcm1hdFBhcnRbXTtcbiAgICB9XG59XG5cbi8vIEZyb20gaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yOTEyOVxuZGVjbGFyZSBuYW1lc3BhY2UgSW50bCB7XG4gICAgdHlwZSBSZWxhdGl2ZVRpbWVGb3JtYXRVbml0ID1cbiAgICAgICAgfCBcInllYXJcIlxuICAgICAgICB8IFwieWVhcnNcIlxuICAgICAgICB8IFwicXVhcnRlclwiXG4gICAgICAgIHwgXCJxdWFydGVyc1wiXG4gICAgICAgIHwgXCJtb250aFwiXG4gICAgICAgIHwgXCJtb250aHNcIlxuICAgICAgICB8IFwid2Vla1wiXG4gICAgICAgIHwgXCJ3ZWVrc1wiXG4gICAgICAgIHwgXCJkYXlcIlxuICAgICAgICB8IFwiZGF5c1wiXG4gICAgICAgIHwgXCJob3VyXCJcbiAgICAgICAgfCBcImhvdXJzXCJcbiAgICAgICAgfCBcIm1pbnV0ZVwiXG4gICAgICAgIHwgXCJtaW51dGVzXCJcbiAgICAgICAgfCBcInNlY29uZFwiXG4gICAgICAgIHwgXCJzZWNvbmRzXCI7XG5cbiAgICB0eXBlIFJlbGF0aXZlVGltZUZvcm1hdE51bWVyaWMgPSBcImFsd2F5c1wiIHwgXCJhdXRvXCI7XG5cbiAgICB0eXBlIFJlbGF0aXZlVGltZUZvcm1hdFN0eWxlID0gXCJsb25nXCIgfCBcInNob3J0XCIgfCBcIm5hcnJvd1wiO1xuXG4gICAgdHlwZSBCQ1A0N0xhbmd1YWdlVGFnID0gc3RyaW5nO1xuXG4gICAgaW50ZXJmYWNlIFJlbGF0aXZlVGltZUZvcm1hdE9wdGlvbnMge1xuICAgICAgICBsb2NhbGVNYXRjaGVyPzogXCJsb29rdXBcIiB8IFwiYmVzdCBmaXRcIjtcbiAgICAgICAgbnVtZXJpYz86IFJlbGF0aXZlVGltZUZvcm1hdE51bWVyaWM7XG4gICAgICAgIHN0eWxlPzogUmVsYXRpdmVUaW1lRm9ybWF0U3R5bGU7XG4gICAgfVxuXG4gICAgY2xhc3MgUmVsYXRpdmVUaW1lRm9ybWF0IHtcbiAgICAgICAgY29uc3RydWN0b3IobG9jYWxlOiBzdHJpbmcsIG9wdGlvbnM/OiBSZWxhdGl2ZVRpbWVGb3JtYXRPcHRpb25zKTtcblxuICAgICAgICBzdGF0aWMgc3VwcG9ydGVkTG9jYWxlc09mKGxvY2FsZXM6IHN0cmluZ1tdKTogc3RyaW5nW107XG5cbiAgICAgICAgZm9ybWF0KHZhbHVlOiBudW1iZXIsIHVuaXQ6IFJlbGF0aXZlVGltZUZvcm1hdFVuaXQpOiBzdHJpbmc7XG5cbiAgICAgICAgZm9ybWF0VG9QYXJ0cyh2YWx1ZTogbnVtYmVyLCB1bml0OiBSZWxhdGl2ZVRpbWVGb3JtYXRVbml0KTogc3RyaW5nW107XG5cbiAgICAgICAgcmVzb2x2ZWRPcHRpb25zKCk6IFJlbGF0aXZlVGltZUZvcm1hdE9wdGlvbnM7XG4gICAgfVxuXG59XG5cbmRlY2xhcmUgbmFtZXNwYWNlIEludGwge1xuXG4gICAgdHlwZSBVbmljb2RlQkNQNDdMb2NhbGVJZGVudGlmaWVyID0gc3RyaW5nO1xufVxuXG5kZWNsYXJlIG5hbWVzcGFjZSBJbnRsIHtcblxuICAgIHR5cGUgTGlzdFR5cGUgPSBcImNvbmp1bmN0aW9uXCIgfCBcImRpc2p1bmN0aW9uXCI7XG5cbiAgICBpbnRlcmZhY2UgTGlzdEZvcm1hdE9wdGlvbnMge1xuICAgICAgICBsb2NhbGVNYXRjaGVyPzogXCJsb29rdXBcIiB8IFwiYmVzdCBmaXRcIjtcbiAgICAgICAgdHlwZT86IExpc3RUeXBlO1xuICAgICAgICBzdHlsZT86IFwibG9uZ1wiIHwgXCJzaG9ydFwiIHwgXCJuYXJyb3dcIjtcbiAgICB9XG5cbiAgICBpbnRlcmZhY2UgTGlzdEZvcm1hdFBhcnQge1xuICAgICAgICB0eXBlOiBcImVsZW1lbnRcIiB8IFwibGl0ZXJhbFwiO1xuICAgICAgICB2YWx1ZTogc3RyaW5nO1xuICAgIH1cblxuICAgIGNsYXNzIExpc3RGb3JtYXQge1xuICAgICAgICBjb25zdHJ1Y3Rvcihsb2NhbGVzPzogc3RyaW5nIHwgc3RyaW5nW10sIG9wdGlvbnM/OiBMaXN0Rm9ybWF0T3B0aW9ucyk7XG5cbiAgICAgICAgZm9ybWF0KHZhbHVlczogYW55W10pOiBzdHJpbmc7XG5cbiAgICAgICAgZm9ybWF0VG9QYXJ0cyh2YWx1ZXM6IGFueVtdKTogTGlzdEZvcm1hdFBhcnRbXTtcblxuICAgICAgICBzdXBwb3J0ZWRMb2NhbGVzT2YoXG4gICAgICAgICAgICBsb2NhbGVzOiBzdHJpbmcgfCBzdHJpbmdbXSxcbiAgICAgICAgICAgIG9wdGlvbnM/OiBMaXN0Rm9ybWF0T3B0aW9uc1xuICAgICAgICApOiBzdHJpbmdbXTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW50bDtcbiIsIi8qXG4gVGhpcyBpcyBqdXN0IGEganVuayBkcmF3ZXIsIGNvbnRhaW5pbmcgYW55dGhpbmcgdXNlZCBhY3Jvc3MgbXVsdGlwbGUgY2xhc3Nlcy5cbiBCZWNhdXNlIEx1eG9uIGlzIHNtYWxsKGlzaCksIHRoaXMgc2hvdWxkIHN0YXkgc21hbGwgYW5kIHdlIHdvbid0IHdvcnJ5IGFib3V0IHNwbGl0dGluZ1xuIGl0IHVwIGludG8sIHNheSwgcGFyc2luZ1V0aWwuanMgYW5kIGJhc2ljVXRpbC5qcyBhbmQgc28gb24uIEJ1dCB0aGV5IGFyZSBkaXZpZGVkIHVwIGJ5IGZlYXR1cmUgYXJlYS5cbiAqL1xuXG5pbXBvcnQgeyBJbnZhbGlkQXJndW1lbnRFcnJvciB9IGZyb20gXCIuLi9lcnJvcnNcIjtcbmltcG9ydCB7IFRpbWVPYmplY3QsIEdyZWdvcmlhbkRhdGVUaW1lIH0gZnJvbSBcIi4uL3R5cGVzL2RhdGV0aW1lXCI7XG5pbXBvcnQgeyBab25lT2Zmc2V0Rm9ybWF0IH0gZnJvbSBcIi4uL3R5cGVzL3pvbmVcIjtcbmltcG9ydCB7IE5vcm1hbGl6ZWREdXJhdGlvblVuaXQsIE5vcm1hbGl6ZWRIdW1hbkR1cmF0aW9uVW5pdCB9IGZyb20gXCIuLi90eXBlcy9kdXJhdGlvblwiO1xuXG5pbXBvcnQgSW50bCBmcm9tIFwiLi4vdHlwZXMvaW50bC1uZXh0XCI7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuXG4vLyBUWVBFU1xuZXhwb3J0IGZ1bmN0aW9uIGlzRGVmaW5lZChvOiB1bmtub3duKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHR5cGVvZiBvICE9PSBcInVuZGVmaW5lZFwiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNVbmRlZmluZWQobzogdW5rbm93bik6IG8gaXMgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdHlwZW9mIG8gPT09IFwidW5kZWZpbmVkXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc051bWJlcihvOiB1bmtub3duKTogbyBpcyBudW1iZXIge1xuICAgIHJldHVybiB0eXBlb2YgbyA9PT0gXCJudW1iZXJcIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSW50ZWdlcihvOiB1bmtub3duKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGlzTnVtYmVyKG8pICYmIG8gJSAxID09PSAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpbmcobzogdW5rbm93bik6IG8gaXMgc3RyaW5nIHtcbiAgICByZXR1cm4gdHlwZW9mIG8gPT09IFwic3RyaW5nXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0RhdGUobzogdW5rbm93bik6IG8gaXMgRGF0ZSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKSA9PT0gXCJbb2JqZWN0IERhdGVdXCI7XG59XG5cbi8vIENBUEFCSUxJVElFU1xuXG5leHBvcnQgZnVuY3Rpb24gaGFzUmVsYXRpdmUoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBJbnRsICE9PSBcInVuZGVmaW5lZFwiICYmICEhKEludGwgYXMgYW55KS5SZWxhdGl2ZVRpbWVGb3JtYXQ7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG4vLyBPQkpFQ1RTIEFORCBBUlJBWVNcblxuZXhwb3J0IGZ1bmN0aW9uIG1heWJlQXJyYXk8VD4odGhpbmc6IFQgfCBUW10pIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh0aGluZykgPyB0aGluZyA6IFt0aGluZ107XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBiZXN0Qnk8VCwgVT4oYXJyOiBUW10sIGJ5OiAoYTogVCkgPT4gVSwgY29tcGFyZTogKGE6IFUsIGI6IFUpID0+IFUpOiBUIHwgdm9pZCB7XG4gICAgaWYgKGFyci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG5cbiAgICBjb25zdCBiZXN0UmVzdWx0OiBbVSwgVF0gPSBhcnIucmVkdWNlPFtVLCBUXT4oKGJlc3Q6IFtVLCBUXSwgbmV4dDogVCk6IFtVLCBUXSA9PiB7XG4gICAgICAgIGNvbnN0IHBhaXI6IFtVLCBUXSA9IFtieShuZXh0KSwgbmV4dF07XG4gICAgICAgIGlmIChjb21wYXJlKGJlc3RbMF0sIHBhaXJbMF0pID09PSBiZXN0WzBdKSB7XG4gICAgICAgICAgICByZXR1cm4gYmVzdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYWlyO1xuICAgIH0sIFtieShhcnJbMF0pLCBhcnJbMF1dKTtcblxuICAgIHJldHVybiBiZXN0UmVzdWx0WzFdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGljazxULCBLIGV4dGVuZHMga2V5b2YgVD4ob2JqOiBULCBrZXlzOiBLW10pIHtcbiAgICByZXR1cm4ga2V5cy5yZWR1Y2U8UGFydGlhbDxQaWNrPFQsIEs+Pj4oKGEsIGspID0+IHtcbiAgICAgICAgYVtrXSA9IG9ialtrXTtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfSwge30pIGFzIFBpY2s8VCwgSz47XG59XG5cbi8vIE5VTUJFUlMgQU5EIFNUUklOR1NcblxuZXhwb3J0IGZ1bmN0aW9uIGludGVnZXJCZXR3ZWVuKHRoaW5nOiBudW1iZXIsIGJvdHRvbTogbnVtYmVyLCB0b3A6IG51bWJlcikge1xuICAgIHJldHVybiBpc0ludGVnZXIodGhpbmcpICYmIHRoaW5nID49IGJvdHRvbSAmJiB0aGluZyA8PSB0b3A7XG59XG5cbi8vIHggJSBuIGJ1dCB0YWtlcyB0aGUgc2lnbiBvZiBuIGluc3RlYWQgb2YgeFxuZXhwb3J0IGZ1bmN0aW9uIGZsb29yTW9kKHg6IG51bWJlciwgbjogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHggLSBuICogTWF0aC5mbG9vcih4IC8gbik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYWRTdGFydChpbnB1dDogc3RyaW5nIHwgbnVtYmVyLCBuID0gMikge1xuICAgIGNvbnN0IG1pbnVzID0gaW5wdXQgPCAwID8gXCItXCIgOiBcIlwiO1xuICAgIGNvbnN0IHRhcmdldCA9IG1pbnVzID8gK2lucHV0ICogLTEgOiBpbnB1dDtcbiAgICBsZXQgcmVzdWx0O1xuXG4gICAgaWYgKHRhcmdldC50b1N0cmluZygpLmxlbmd0aCA8IG4pIHtcbiAgICAgICAgcmVzdWx0ID0gKFwiMFwiLnJlcGVhdChuKSArIHRhcmdldCkuc2xpY2UoLW4pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gdGFyZ2V0LnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGAke21pbnVzfSR7cmVzdWx0fWA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUludGVnZXIodGV4dDogc3RyaW5nKTogbnVtYmVyIHwgdW5kZWZpbmVkIHtcbiAgICBpZiAoISF0ZXh0KSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludCh0ZXh0LCAxMCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZvaWQgMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRmxvYXRpbmcodGV4dDogc3RyaW5nKTogbnVtYmVyIHwgdW5kZWZpbmVkIHtcbiAgICBpZiAoISF0ZXh0KSB7XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHRleHQpO1xuICAgIH1cblxuICAgIHJldHVybiB2b2lkIDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU1pbGxpcyhmcmFjdGlvbjogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCkge1xuICAgIC8vIFJldHVybiB1bmRlZmluZWQgKGluc3RlYWQgb2YgMCkgaW4gdGhlc2UgY2FzZXMsIHdoZXJlIGZyYWN0aW9uIGlzIG5vdCBzZXRcbiAgICBpZiAoaXNVbmRlZmluZWQoZnJhY3Rpb24pIHx8IGZyYWN0aW9uID09PSBudWxsIHx8IGZyYWN0aW9uID09PSBcIlwiKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBmID0gcGFyc2VGbG9hdChcIjAuXCIgKyBmcmFjdGlvbikgKiAxMDAwO1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihmKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByb3VuZFRvKHZhbHVlOiBudW1iZXIsIGRpZ2l0czogbnVtYmVyLCB0b3dhcmRaZXJvID0gZmFsc2UpIHtcbiAgICBjb25zdCBmYWN0b3IgPSAxMCAqKiBkaWdpdHMsXG4gICAgICAgIHJvdW5kZXIgPSB0b3dhcmRaZXJvID8gTWF0aC50cnVuYyA6IE1hdGgucm91bmQ7XG4gICAgcmV0dXJuIHJvdW5kZXIodmFsdWUgKiBmYWN0b3IpIC8gZmFjdG9yO1xufVxuXG4vLyBEQVRFIEJBU0lDU1xuXG5leHBvcnQgZnVuY3Rpb24gaXNMZWFwWWVhcih5ZWFyOiBudW1iZXIpIHtcbiAgICByZXR1cm4geWVhciAlIDQgPT09IDAgJiYgKHllYXIgJSAxMDAgIT09IDAgfHwgeWVhciAlIDQwMCA9PT0gMCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkYXlzSW5ZZWFyKHllYXI6IG51bWJlcikge1xuICAgIHJldHVybiBpc0xlYXBZZWFyKHllYXIpID8gMzY2IDogMzY1O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGF5c0luTW9udGgoeWVhcjogbnVtYmVyLCBtb250aDogbnVtYmVyKSB7XG4gICAgY29uc3QgbW9kTW9udGggPSBmbG9vck1vZChtb250aCAtIDEsIDEyKSArIDEsXG4gICAgICAgIG1vZFllYXIgPSB5ZWFyICsgKG1vbnRoIC0gbW9kTW9udGgpIC8gMTI7XG4gICAgcmV0dXJuIFszMSwgaXNMZWFwWWVhcihtb2RZZWFyKSA/IDI5IDogMjgsIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXVttb2RNb250aCAtIDFdO1xufVxuXG4vLyBjb252ZXJ0IGEgY2FsZW5kYXIgb2JqZWN0IHRvIGEgbG9jYWwgdGltZXN0YW1wIChlcG9jaCwgYnV0IHdpdGggdGhlIG9mZnNldCBiYWtlZCBpbilcbmV4cG9ydCBmdW5jdGlvbiBvYmpUb0xvY2FsVFMob2JqOiBHcmVnb3JpYW5EYXRlVGltZSkge1xuICAgIGNvbnN0IHRzID0gRGF0ZS5VVEMoXG4gICAgICAgIG9iai55ZWFyLFxuICAgICAgICBvYmoubW9udGggLSAxLFxuICAgICAgICBvYmouZGF5LFxuICAgICAgICBvYmouaG91cixcbiAgICAgICAgb2JqLm1pbnV0ZSxcbiAgICAgICAgb2JqLnNlY29uZCxcbiAgICAgICAgb2JqLm1pbGxpc2Vjb25kXG4gICAgKTtcblxuICAgIC8vIGZvciBsZWdhY3kgcmVhc29ucywgeWVhcnMgYmV0d2VlbiAwIGFuZCA5OSBhcmUgaW50ZXJwcmV0ZWQgYXMgMTlYWDsgcmV2ZXJ0IHRoYXRcbiAgICBpZiAoaW50ZWdlckJldHdlZW4ob2JqLnllYXIsIDAsIDk5KSkge1xuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUodHMpO1xuICAgICAgICBkYXRlLnNldFVUQ0Z1bGxZZWFyKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSAtIDE5MDApO1xuICAgICAgICByZXR1cm4gZGF0ZS5nZXRUaW1lKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd2Vla3NJbldlZWtZZWFyKHdlZWtZZWFyOiBudW1iZXIpIHtcbiAgICBjb25zdCBwMSA9XG4gICAgICAgICh3ZWVrWWVhciArXG4gICAgICAgICAgICBNYXRoLmZsb29yKHdlZWtZZWFyIC8gNCkgLVxuICAgICAgICAgICAgTWF0aC5mbG9vcih3ZWVrWWVhciAvIDEwMCkgK1xuICAgICAgICAgICAgTWF0aC5mbG9vcih3ZWVrWWVhciAvIDQwMCkpICVcbiAgICAgICAgNyxcbiAgICAgICAgbGFzdCA9IHdlZWtZZWFyIC0gMSxcbiAgICAgICAgcDIgPSAobGFzdCArIE1hdGguZmxvb3IobGFzdCAvIDQpIC0gTWF0aC5mbG9vcihsYXN0IC8gMTAwKSArIE1hdGguZmxvb3IobGFzdCAvIDQwMCkpICUgNztcbiAgICByZXR1cm4gcDEgPT09IDQgfHwgcDIgPT09IDMgPyA1MyA6IDUyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW50cnVuY2F0ZVllYXIoeWVhcjogbnVtYmVyKSB7XG4gICAgaWYgKHllYXIgPiA5OSkge1xuICAgICAgICByZXR1cm4geWVhcjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB5ZWFyID4gNjAgPyAxOTAwICsgeWVhciA6IDIwMDAgKyB5ZWFyO1xuICAgIH1cbn1cblxuLy8gUEFSU0lOR1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2Vab25lSW5mbyhcbiAgICB0czogbnVtYmVyLFxuICAgIG9mZnNldEZvcm1hdD86IHN0cmluZyxcbiAgICBsb2NhbGU/OiBzdHJpbmcsXG4gICAgdGltZVpvbmU/OiBzdHJpbmdcbikge1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh0cyk7XG4gICAgY29uc3QgaW50bE9wdHMgPSB7XG4gICAgICAgIGhvdXJDeWNsZTogXCJoMjNcIixcbiAgICAgICAgeWVhcjogXCJudW1lcmljXCIsXG4gICAgICAgIG1vbnRoOiBcIjItZGlnaXRcIixcbiAgICAgICAgZGF5OiBcIjItZGlnaXRcIixcbiAgICAgICAgaG91cjogXCIyLWRpZ2l0XCIsXG4gICAgICAgIG1pbnV0ZTogXCIyLWRpZ2l0XCIsXG4gICAgICAgIHRpbWVab25lXG4gICAgfSBhcyBJbnRsLkRhdGVUaW1lRm9ybWF0T3B0aW9ucztcblxuICAgIGNvbnN0IG1vZGlmaWVkOiBJbnRsLkRhdGVUaW1lRm9ybWF0T3B0aW9ucyA9IHsgdGltZVpvbmVOYW1lOiBvZmZzZXRGb3JtYXQsIC4uLmludGxPcHRzIH07XG4gICAgY29uc3QgcGFyc2VkID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQobG9jYWxlLCBtb2RpZmllZClcbiAgICAgICAgLmZvcm1hdFRvUGFydHMoZGF0ZSlcbiAgICAgICAgLmZpbmQoKG06IEludGwuRGF0ZVRpbWVGb3JtYXRQYXJ0KSA9PiBtLnR5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJ0aW1lem9uZW5hbWVcIik7XG5cbiAgICByZXR1cm4gcGFyc2VkID8gcGFyc2VkLnZhbHVlIDogbnVsbDtcbn1cblxuLy8gc2lnbmVkT2Zmc2V0KCctNScsICczMCcpIC0+IC0zMzBcbmV4cG9ydCBmdW5jdGlvbiBzaWduZWRPZmZzZXQob2ZmSG91clN0cjogc3RyaW5nLCBvZmZNaW51dGVTdHI6IHN0cmluZykge1xuICAgIGxldCBvZmZIb3VyID0gcGFyc2VJbnQob2ZmSG91clN0ciwgMTApO1xuXG4gICAgLy8gZG9uJ3QgfHwgdGhpcyBiZWNhdXNlIHdlIHdhbnQgdG8gcHJlc2VydmUgLTBcbiAgICBpZiAoTnVtYmVyLmlzTmFOKG9mZkhvdXIpKSB7XG4gICAgICAgIG9mZkhvdXIgPSAwO1xuICAgIH1cblxuICAgIGNvbnN0IG9mZk1pbiA9IHBhcnNlSW50KG9mZk1pbnV0ZVN0ciwgMTApIHx8IDAsXG4gICAgICAgIG9mZk1pblNpZ25lZCA9IG9mZkhvdXIgPCAwIHx8IE9iamVjdC5pcyhvZmZIb3VyLCAtMCkgPyAtb2ZmTWluIDogb2ZmTWluO1xuICAgIHJldHVybiBvZmZIb3VyICogNjAgKyBvZmZNaW5TaWduZWQ7XG59XG5cbi8vIENPRVJDSU9OXG5cbmV4cG9ydCBmdW5jdGlvbiBhc051bWJlcih2YWx1ZTogdW5rbm93bikge1xuICAgIGNvbnN0IG51bWVyaWNWYWx1ZSA9IE51bWJlcih2YWx1ZSk7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJib29sZWFuXCIgfHwgdmFsdWUgPT09IFwiXCIgfHwgTnVtYmVyLmlzTmFOKG51bWVyaWNWYWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKGBJbnZhbGlkIHVuaXQgdmFsdWUgJHt2YWx1ZX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bWVyaWNWYWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZU9iamVjdChvYmo6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVyOiAoa2V5OiBzdHJpbmcpID0+IHN0cmluZyB8IG51bWJlcik6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0ge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLnJlZHVjZSgoYWNjLCB1OiBzdHJpbmcpID0+IHtcbiAgICAgICAgb2JqW3VdICE9PSB2b2lkIDAgJiYgb2JqW3VdICE9PSBudWxsICYmIChhY2Nbbm9ybWFsaXplcih1KV0gPSBhc051bWJlcihvYmpbdV0pKTtcblxuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9IGFzIHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0pO1xuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRPZmZzZXQob2Zmc2V0OiBudW1iZXIsIGZvcm1hdDogWm9uZU9mZnNldEZvcm1hdCkge1xuICAgIGNvbnN0IGhvdXJzID0gTWF0aC50cnVuYyhNYXRoLmFicyhvZmZzZXQgLyA2MCkpLFxuICAgICAgICBtaW51dGVzID0gTWF0aC50cnVuYyhNYXRoLmFicyhvZmZzZXQgJSA2MCkpLFxuICAgICAgICBzaWduID0gb2Zmc2V0ID49IDAgPyBcIitcIiA6IFwiLVwiO1xuXG4gICAgc3dpdGNoIChmb3JtYXQpIHtcbiAgICAgICAgY2FzZSBcInNob3J0XCI6XG4gICAgICAgICAgICByZXR1cm4gYCR7c2lnbn0ke3BhZFN0YXJ0KGhvdXJzLCAyKX06JHtwYWRTdGFydChtaW51dGVzLCAyKX1gO1xuICAgICAgICBjYXNlIFwibmFycm93XCI6XG4gICAgICAgICAgICByZXR1cm4gYCR7c2lnbn0ke2hvdXJzfSR7bWludXRlcyA+IDAgPyBgOiR7bWludXRlc31gIDogXCJcIn1gO1xuICAgICAgICBjYXNlIFwidGVjaGllXCI6XG4gICAgICAgICAgICByZXR1cm4gYCR7c2lnbn0ke3BhZFN0YXJ0KGhvdXJzLCAyKX0ke3BhZFN0YXJ0KG1pbnV0ZXMsIDIpfWA7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgVmFsdWUgZm9ybWF0ICR7Zm9ybWF0fSBpcyBvdXQgb2YgcmFuZ2UgZm9yIHByb3BlcnR5IGZvcm1hdGApO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRpbWVPYmplY3Qob2JqOiBUaW1lT2JqZWN0KTogVGltZU9iamVjdCB7XG4gICAgcmV0dXJuIHBpY2sob2JqLCBbXCJob3VyXCIsIFwibWludXRlXCIsIFwic2Vjb25kXCIsIFwibWlsbGlzZWNvbmRcIl0pO1xufVxuXG5leHBvcnQgY29uc3QgSUFOQV9SRUdFWCA9IC9bQS1aYS16XystXXsxLDI1Nn0oPzo6P1xcL1tBLVphLXowLTlfKy1dezEsMjU2fSg/OlxcL1tBLVphLXowLTlfKy1dezEsMjU2fSk/KT8vO1xuXG4vLyB1bml0cyBvcmRlcmVkIGJ5IHNpemVcbmV4cG9ydCBjb25zdCBPUkRFUkVEX1VOSVRTOiBOb3JtYWxpemVkRHVyYXRpb25Vbml0W10gPSBbXG4gICAgXCJ5ZWFyc1wiLFxuICAgIFwicXVhcnRlcnNcIixcbiAgICBcIm1vbnRoc1wiLFxuICAgIFwid2Vla3NcIixcbiAgICBcImRheXNcIixcbiAgICBcImhvdXJzXCIsXG4gICAgXCJtaW51dGVzXCIsXG4gICAgXCJzZWNvbmRzXCIsXG4gICAgXCJtaWxsaXNlY29uZHNcIlxuXTtcblxuZXhwb3J0IGNvbnN0IFJFVkVSU0VfT1JERVJFRF9VTklUUyA9IE9SREVSRURfVU5JVFMuc2xpY2UoMCkucmV2ZXJzZSgpO1xuXG5leHBvcnQgY29uc3QgSFVNQU5fT1JERVJFRF9VTklUUzogTm9ybWFsaXplZEh1bWFuRHVyYXRpb25Vbml0W10gPSBbXG4gICAgXCJ5ZWFyc1wiLFxuICAgIFwibW9udGhzXCIsXG4gICAgXCJkYXlzXCIsXG4gICAgXCJob3Vyc1wiLFxuICAgIFwibWludXRlc1wiLFxuICAgIFwic2Vjb25kc1wiLFxuICAgIFwibWlsbGlzZWNvbmRzXCJcbl07XG4iLCJpbXBvcnQgSW50bCBmcm9tIFwiLi4vdHlwZXMvaW50bC1uZXh0XCI7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuXG5jb25zdCBuOiBcIm51bWVyaWNcIiA9IFwibnVtZXJpY1wiLFxuICAgIHM6IFwic2hvcnRcIiA9IFwic2hvcnRcIixcbiAgICBsOiBcImxvbmdcIiA9IFwibG9uZ1wiO1xuXG5leHBvcnQgY29uc3QgREFURV9TSE9SVCA9IHtcbiAgICB5ZWFyOiBuLFxuICAgIG1vbnRoOiBuLFxuICAgIGRheTogblxufTtcblxuZXhwb3J0IGNvbnN0IERBVEVfTUVEID0ge1xuICAgIHllYXI6IG4sXG4gICAgbW9udGg6IHMsXG4gICAgZGF5OiBuXG59O1xuXG5leHBvcnQgY29uc3QgREFURV9NRURfV0lUSF9XRUVLREFZID0ge1xuICAgIHllYXI6IG4sXG4gICAgbW9udGg6IHMsXG4gICAgZGF5OiBuLFxuICAgIHdlZWtkYXk6IHNcbn07XG5cbmV4cG9ydCBjb25zdCBEQVRFX0ZVTEwgPSB7XG4gICAgeWVhcjogbixcbiAgICBtb250aDogbCxcbiAgICBkYXk6IG5cbn07XG5cbmV4cG9ydCBjb25zdCBEQVRFX0hVR0UgPSB7XG4gICAgeWVhcjogbixcbiAgICBtb250aDogbCxcbiAgICBkYXk6IG4sXG4gICAgd2Vla2RheTogbFxufTtcblxuZXhwb3J0IGNvbnN0IFRJTUVfU0lNUExFID0ge1xuICAgIGhvdXI6IG4sXG4gICAgbWludXRlOiBuXG59O1xuXG5leHBvcnQgY29uc3QgVElNRV9XSVRIX1NFQ09ORFMgPSB7XG4gICAgaG91cjogbixcbiAgICBtaW51dGU6IG4sXG4gICAgc2Vjb25kOiBuXG59O1xuXG5leHBvcnQgY29uc3QgVElNRV9XSVRIX1NIT1JUX09GRlNFVCA9IHtcbiAgICBob3VyOiBuLFxuICAgIG1pbnV0ZTogbixcbiAgICBzZWNvbmQ6IG4sXG4gICAgdGltZVpvbmVOYW1lOiBzXG59O1xuXG5leHBvcnQgY29uc3QgVElNRV9XSVRIX0xPTkdfT0ZGU0VUID0ge1xuICAgIGhvdXI6IG4sXG4gICAgbWludXRlOiBuLFxuICAgIHNlY29uZDogbixcbiAgICB0aW1lWm9uZU5hbWU6IGxcbn07XG5cbmV4cG9ydCBjb25zdCBUSU1FXzI0X1NJTVBMRTogUGljazxJbnRsLkRhdGVUaW1lRm9ybWF0T3B0aW9ucywgXCJob3VyXCIgfCBcIm1pbnV0ZVwiIHwgXCJob3VyQ3ljbGVcIj4gPSB7XG4gICAgaG91cjogbixcbiAgICBtaW51dGU6IG4sXG4gICAgaG91ckN5Y2xlOiBcImgyM1wiXG59O1xuXG5leHBvcnQgY29uc3QgVElNRV8yNF9XSVRIX1NFQ09ORFM6IFBpY2s8SW50bC5EYXRlVGltZUZvcm1hdE9wdGlvbnMsIFwiaG91clwiIHwgXCJtaW51dGVcIiB8IFwic2Vjb25kXCIgfCBcImhvdXJDeWNsZVwiPiA9IHtcbiAgICBob3VyOiBuLFxuICAgIG1pbnV0ZTogbixcbiAgICBzZWNvbmQ6IG4sXG4gICAgaG91ckN5Y2xlOiBcImgyM1wiXG59O1xuXG5leHBvcnQgY29uc3QgVElNRV8yNF9XSVRIX1NIT1JUX09GRlNFVDogUGljazxJbnRsLkRhdGVUaW1lRm9ybWF0T3B0aW9ucywgXCJob3VyXCIgfCBcIm1pbnV0ZVwiIHwgXCJzZWNvbmRcIiB8IFwiaG91ckN5Y2xlXCIgfCBcInRpbWVab25lTmFtZVwiPiA9IHtcbiAgICBob3VyOiBuLFxuICAgIG1pbnV0ZTogbixcbiAgICBzZWNvbmQ6IG4sXG4gICAgaG91ckN5Y2xlOiBcImgyM1wiLFxuICAgIHRpbWVab25lTmFtZTogc1xufTtcblxuZXhwb3J0IGNvbnN0IFRJTUVfMjRfV0lUSF9MT05HX09GRlNFVDogUGljazxJbnRsLkRhdGVUaW1lRm9ybWF0T3B0aW9ucywgXCJob3VyXCIgfCBcIm1pbnV0ZVwiIHwgXCJzZWNvbmRcIiB8IFwiaG91ckN5Y2xlXCIgfCBcInRpbWVab25lTmFtZVwiPiA9IHtcbiAgICBob3VyOiBuLFxuICAgIG1pbnV0ZTogbixcbiAgICBzZWNvbmQ6IG4sXG4gICAgaG91ckN5Y2xlOiBcImgyM1wiLFxuICAgIHRpbWVab25lTmFtZTogbFxufTtcblxuZXhwb3J0IGNvbnN0IERBVEVUSU1FX1NIT1JUID0ge1xuICAgIHllYXI6IG4sXG4gICAgbW9udGg6IG4sXG4gICAgZGF5OiBuLFxuICAgIGhvdXI6IG4sXG4gICAgbWludXRlOiBuXG59O1xuXG5leHBvcnQgY29uc3QgREFURVRJTUVfU0hPUlRfV0lUSF9TRUNPTkRTID0ge1xuICAgIHllYXI6IG4sXG4gICAgbW9udGg6IG4sXG4gICAgZGF5OiBuLFxuICAgIGhvdXI6IG4sXG4gICAgbWludXRlOiBuLFxuICAgIHNlY29uZDogblxufTtcblxuZXhwb3J0IGNvbnN0IERBVEVUSU1FX01FRCA9IHtcbiAgICB5ZWFyOiBuLFxuICAgIG1vbnRoOiBzLFxuICAgIGRheTogbixcbiAgICBob3VyOiBuLFxuICAgIG1pbnV0ZTogblxufTtcblxuZXhwb3J0IGNvbnN0IERBVEVUSU1FX01FRF9XSVRIX1NFQ09ORFMgPSB7XG4gICAgeWVhcjogbixcbiAgICBtb250aDogcyxcbiAgICBkYXk6IG4sXG4gICAgaG91cjogbixcbiAgICBtaW51dGU6IG4sXG4gICAgc2Vjb25kOiBuXG59O1xuXG5leHBvcnQgY29uc3QgREFURVRJTUVfTUVEX1dJVEhfV0VFS0RBWSA9IHtcbiAgICB5ZWFyOiBuLFxuICAgIG1vbnRoOiBzLFxuICAgIGRheTogbixcbiAgICB3ZWVrZGF5OiBzLFxuICAgIGhvdXI6IG4sXG4gICAgbWludXRlOiBuXG59O1xuXG5leHBvcnQgY29uc3QgREFURVRJTUVfRlVMTCA9IHtcbiAgICB5ZWFyOiBuLFxuICAgIG1vbnRoOiBsLFxuICAgIGRheTogbixcbiAgICBob3VyOiBuLFxuICAgIG1pbnV0ZTogbixcbiAgICB0aW1lWm9uZU5hbWU6IHNcbn07XG5cbmV4cG9ydCBjb25zdCBEQVRFVElNRV9GVUxMX1dJVEhfU0VDT05EUyA9IHtcbiAgICB5ZWFyOiBuLFxuICAgIG1vbnRoOiBsLFxuICAgIGRheTogbixcbiAgICBob3VyOiBuLFxuICAgIG1pbnV0ZTogbixcbiAgICBzZWNvbmQ6IG4sXG4gICAgdGltZVpvbmVOYW1lOiBzXG59O1xuXG5leHBvcnQgY29uc3QgREFURVRJTUVfSFVHRSA9IHtcbiAgICB5ZWFyOiBuLFxuICAgIG1vbnRoOiBsLFxuICAgIGRheTogbixcbiAgICB3ZWVrZGF5OiBsLFxuICAgIGhvdXI6IG4sXG4gICAgbWludXRlOiBuLFxuICAgIHRpbWVab25lTmFtZTogbFxufTtcblxuZXhwb3J0IGNvbnN0IERBVEVUSU1FX0hVR0VfV0lUSF9TRUNPTkRTID0ge1xuICAgIHllYXI6IG4sXG4gICAgbW9udGg6IGwsXG4gICAgZGF5OiBuLFxuICAgIHdlZWtkYXk6IGwsXG4gICAgaG91cjogbixcbiAgICBtaW51dGU6IG4sXG4gICAgc2Vjb25kOiBuLFxuICAgIHRpbWVab25lTmFtZTogbFxufTtcbiIsImltcG9ydCAqIGFzIEZvcm1hdHMgZnJvbSBcIi4vZm9ybWF0c1wiO1xuaW1wb3J0IHsgcGljayB9IGZyb20gXCIuL3V0aWxcIjtcbmltcG9ydCB7IFVuaXRMZW5ndGgsIFN0cmluZ1VuaXRMZW5ndGggfSBmcm9tIFwiLi4vdHlwZXMvY29tbW9uXCI7XG5pbXBvcnQgeyBEYXRlVGltZSB9IGZyb20gXCIuLi9kYXRldGltZVwiO1xuaW1wb3J0IHsgRHVyYXRpb24gfSBmcm9tIFwiLi4vZHVyYXRpb25cIjtcbmltcG9ydCBJbnRsIGZyb20gXCIuLi90eXBlcy9pbnRsLW5leHRcIjtcblxuZnVuY3Rpb24gc3RyaW5naWZ5KG9iajogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pIHtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaiwgT2JqZWN0LmtleXMob2JqKS5zb3J0KCkpO1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cblxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5hbWluZy1jb252ZW50aW9uXG5leHBvcnQgY29uc3QgbW9udGhzTG9uZyA9IFtcbiAgXCJKYW51YXJ5XCIsXG4gIFwiRmVicnVhcnlcIixcbiAgXCJNYXJjaFwiLFxuICBcIkFwcmlsXCIsXG4gIFwiTWF5XCIsXG4gIFwiSnVuZVwiLFxuICBcIkp1bHlcIixcbiAgXCJBdWd1c3RcIixcbiAgXCJTZXB0ZW1iZXJcIixcbiAgXCJPY3RvYmVyXCIsXG4gIFwiTm92ZW1iZXJcIixcbiAgXCJEZWNlbWJlclwiXG5dO1xuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bmFtaW5nLWNvbnZlbnRpb25cbmV4cG9ydCBjb25zdCBtb250aHNTaG9ydCA9IFtcbiAgXCJKYW5cIixcbiAgXCJGZWJcIixcbiAgXCJNYXJcIixcbiAgXCJBcHJcIixcbiAgXCJNYXlcIixcbiAgXCJKdW5cIixcbiAgXCJKdWxcIixcbiAgXCJBdWdcIixcbiAgXCJTZXBcIixcbiAgXCJPY3RcIixcbiAgXCJOb3ZcIixcbiAgXCJEZWNcIlxuXTtcblxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5hbWluZy1jb252ZW50aW9uXG5leHBvcnQgY29uc3QgbW9udGhzTmFycm93ID0gW1wiSlwiLCBcIkZcIiwgXCJNXCIsIFwiQVwiLCBcIk1cIiwgXCJKXCIsIFwiSlwiLCBcIkFcIiwgXCJTXCIsIFwiT1wiLCBcIk5cIiwgXCJEXCJdO1xuXG5leHBvcnQgZnVuY3Rpb24gbW9udGhzKGxlbmd0aDogVW5pdExlbmd0aCkge1xuICBzd2l0Y2ggKGxlbmd0aCkge1xuICAgIGNhc2UgXCJuYXJyb3dcIjpcbiAgICAgIHJldHVybiBbLi4ubW9udGhzTmFycm93XTtcbiAgICBjYXNlIFwic2hvcnRcIjpcbiAgICAgIHJldHVybiBbLi4ubW9udGhzU2hvcnRdO1xuICAgIGNhc2UgXCJsb25nXCI6XG4gICAgICByZXR1cm4gWy4uLm1vbnRoc0xvbmddO1xuICAgIGNhc2UgXCJudW1lcmljXCI6XG4gICAgICByZXR1cm4gW1wiMVwiLCBcIjJcIiwgXCIzXCIsIFwiNFwiLCBcIjVcIiwgXCI2XCIsIFwiN1wiLCBcIjhcIiwgXCI5XCIsIFwiMTBcIiwgXCIxMVwiLCBcIjEyXCJdO1xuICAgIGNhc2UgXCIyLWRpZ2l0XCI6XG4gICAgICByZXR1cm4gW1wiMDFcIiwgXCIwMlwiLCBcIjAzXCIsIFwiMDRcIiwgXCIwNVwiLCBcIjA2XCIsIFwiMDdcIiwgXCIwOFwiLCBcIjA5XCIsIFwiMTBcIiwgXCIxMVwiLCBcIjEyXCJdO1xuICB9XG59XG5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuYW1pbmctY29udmVudGlvblxuZXhwb3J0IGNvbnN0IHdlZWtkYXlzTG9uZyA9IFtcbiAgXCJNb25kYXlcIixcbiAgXCJUdWVzZGF5XCIsXG4gIFwiV2VkbmVzZGF5XCIsXG4gIFwiVGh1cnNkYXlcIixcbiAgXCJGcmlkYXlcIixcbiAgXCJTYXR1cmRheVwiLFxuICBcIlN1bmRheVwiXG5dO1xuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bmFtaW5nLWNvbnZlbnRpb25cbmV4cG9ydCBjb25zdCB3ZWVrZGF5c1Nob3J0ID0gW1wiTW9uXCIsIFwiVHVlXCIsIFwiV2VkXCIsIFwiVGh1XCIsIFwiRnJpXCIsIFwiU2F0XCIsIFwiU3VuXCJdO1xuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bmFtaW5nLWNvbnZlbnRpb25cbmV4cG9ydCBjb25zdCB3ZWVrZGF5c05hcnJvdyA9IFtcIk1cIiwgXCJUXCIsIFwiV1wiLCBcIlRcIiwgXCJGXCIsIFwiU1wiLCBcIlNcIl07XG5cbmV4cG9ydCBmdW5jdGlvbiB3ZWVrZGF5cyhsZW5ndGg6IFN0cmluZ1VuaXRMZW5ndGggfCBcIm51bWVyaWNcIik6IHN0cmluZ1tdIHtcbiAgc3dpdGNoIChsZW5ndGgpIHtcbiAgICBjYXNlIFwibmFycm93XCI6XG4gICAgICByZXR1cm4gWy4uLndlZWtkYXlzTmFycm93XTtcbiAgICBjYXNlIFwic2hvcnRcIjpcbiAgICAgIHJldHVybiBbLi4ud2Vla2RheXNTaG9ydF07XG4gICAgY2FzZSBcImxvbmdcIjpcbiAgICAgIHJldHVybiBbLi4ud2Vla2RheXNMb25nXTtcbiAgICBjYXNlIFwibnVtZXJpY1wiOlxuICAgICAgcmV0dXJuIFtcIjFcIiwgXCIyXCIsIFwiM1wiLCBcIjRcIiwgXCI1XCIsIFwiNlwiLCBcIjdcIl07XG4gIH1cbn1cblxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5hbWluZy1jb252ZW50aW9uXG5leHBvcnQgY29uc3QgbWVyaWRpZW1zID0gW1wiQU1cIiwgXCJQTVwiXTtcblxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5hbWluZy1jb252ZW50aW9uXG5leHBvcnQgY29uc3QgZXJhc0xvbmcgPSBbXCJCZWZvcmUgQ2hyaXN0XCIsIFwiQW5ubyBEb21pbmlcIl07XG5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuYW1pbmctY29udmVudGlvblxuZXhwb3J0IGNvbnN0IGVyYXNTaG9ydCA9IFtcIkJDXCIsIFwiQURcIl07XG5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuYW1pbmctY29udmVudGlvblxuZXhwb3J0IGNvbnN0IGVyYXNOYXJyb3cgPSBbXCJCXCIsIFwiQVwiXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGVyYXMobGVuZ3RoOiBTdHJpbmdVbml0TGVuZ3RoKSB7XG4gIHN3aXRjaCAobGVuZ3RoKSB7XG4gICAgY2FzZSBcIm5hcnJvd1wiOlxuICAgICAgcmV0dXJuIFsuLi5lcmFzTmFycm93XTtcbiAgICBjYXNlIFwic2hvcnRcIjpcbiAgICAgIHJldHVybiBbLi4uZXJhc1Nob3J0XTtcbiAgICBjYXNlIFwibG9uZ1wiOlxuICAgICAgcmV0dXJuIFsuLi5lcmFzTG9uZ107XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmlkaWVtRm9yRGF0ZVRpbWUoZHQ6IERhdGVUaW1lKSB7XG4gIHJldHVybiBtZXJpZGllbXNbZHQuaG91ciA8IDEyID8gMCA6IDFdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd2Vla2RheUZvckRhdGVUaW1lKGR0OiBEYXRlVGltZSwgbGVuZ3RoOiBTdHJpbmdVbml0TGVuZ3RoKSB7XG4gIHJldHVybiB3ZWVrZGF5cyhsZW5ndGgpW2R0LndlZWtkYXkgLSAxXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vbnRoRm9yRGF0ZVRpbWUoZHQ6IERhdGVUaW1lLCBsZW5ndGg6IFVuaXRMZW5ndGgpIHtcbiAgcmV0dXJuIG1vbnRocyhsZW5ndGgpW2R0Lm1vbnRoIC0gMV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlcmFGb3JEYXRlVGltZShkdDogRGF0ZVRpbWUsIGxlbmd0aDogU3RyaW5nVW5pdExlbmd0aCkge1xuICByZXR1cm4gZXJhcyhsZW5ndGgpW2R0LnllYXIgPCAwID8gMCA6IDFdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0UmVsYXRpdmVUaW1lKFxuICB1bml0OiBJbnRsLlJlbGF0aXZlVGltZUZvcm1hdFVuaXQsXG4gIGNvdW50OiBudW1iZXIsXG4gIG51bWVyaWM6IEludGwuUmVsYXRpdmVUaW1lRm9ybWF0TnVtZXJpYyA9IFwiYWx3YXlzXCIsXG4gIG5hcnJvdyA9IGZhbHNlXG4pIHtcbiAgY29uc3QgdW5pdHMgPSB7XG4gICAgeWVhcnM6IFtcInllYXJcIiwgXCJ5ci5cIl0sXG4gICAgcXVhcnRlcnM6IFtcInF1YXJ0ZXJcIiwgXCJxdHIuXCJdLFxuICAgIG1vbnRoczogW1wibW9udGhcIiwgXCJtby5cIl0sXG4gICAgd2Vla3M6IFtcIndlZWtcIiwgXCJ3ay5cIl0sXG4gICAgZGF5czogW1wiZGF5XCIsIFwiZGF5XCIsIFwiZGF5c1wiXSxcbiAgICBob3VyczogW1wiaG91clwiLCBcImhyLlwiXSxcbiAgICBtaW51dGVzOiBbXCJtaW51dGVcIiwgXCJtaW4uXCJdLFxuICAgIHNlY29uZHM6IFtcInNlY29uZFwiLCBcInNlYy5cIl0sXG4gICAgbWlsbGlzZWNvbmRzOiBbXSAvLyBuZXZlciB1c2VkXG4gIH07XG5cbiAgY29uc3Qgbm9ybWFsaXplZFVuaXQgPSBEdXJhdGlvbi5ub3JtYWxpemVVbml0KHVuaXQpLFxuICAgIHVuaXRUZXh0cyA9IHVuaXRzW25vcm1hbGl6ZWRVbml0XSxcbiAgICBsYXN0YWJsZSA9IFtcImhvdXJzXCIsIFwibWludXRlc1wiLCBcInNlY29uZHNcIl0uaW5kZXhPZihub3JtYWxpemVkVW5pdCkgPT09IC0xO1xuXG4gIGlmIChudW1lcmljID09PSBcImF1dG9cIiAmJiBsYXN0YWJsZSkge1xuICAgIGNvbnN0IGlzRGF5ID0gbm9ybWFsaXplZFVuaXQgPT09IFwiZGF5c1wiO1xuICAgIHN3aXRjaCAoY291bnQpIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgcmV0dXJuIGlzRGF5ID8gXCJ0b21vcnJvd1wiIDogYG5leHQgJHt1bml0VGV4dHNbMF19YDtcbiAgICAgIGNhc2UgLTE6XG4gICAgICAgIHJldHVybiBpc0RheSA/IFwieWVzdGVyZGF5XCIgOiBgbGFzdCAke3VuaXRUZXh0c1swXX1gO1xuICAgICAgY2FzZSAwOlxuICAgICAgICByZXR1cm4gaXNEYXkgPyBcInRvZGF5XCIgOiBgdGhpcyAke3VuaXRUZXh0c1swXX1gO1xuICAgICAgZGVmYXVsdDogLy8gZmFsbCB0aHJvdWdoXG4gICAgfVxuICB9XG5cbiAgY29uc3QgaXNJblBhc3QgPSBPYmplY3QuaXMoY291bnQsIC0wKSB8fCBjb3VudCA8IDAsXG4gICAgZm9ybWF0VmFsdWUgPSBNYXRoLmFicyhjb3VudCksXG4gICAgc2luZ3VsYXIgPSBmb3JtYXRWYWx1ZSA9PT0gMSxcbiAgICBmb3JtYXRVbml0ID0gbmFycm93XG4gICAgICA/IHNpbmd1bGFyXG4gICAgICAgID8gdW5pdFRleHRzWzFdXG4gICAgICAgIDogdW5pdFRleHRzWzJdIHx8IHVuaXRUZXh0c1sxXVxuICAgICAgOiBzaW5ndWxhclxuICAgICAgICA/IHVuaXRUZXh0c1swXVxuICAgICAgICA6IG5vcm1hbGl6ZWRVbml0O1xuICByZXR1cm4gaXNJblBhc3QgPyBgJHtmb3JtYXRWYWx1ZX0gJHtmb3JtYXRVbml0fSBhZ29gIDogYGluICR7Zm9ybWF0VmFsdWV9ICR7Zm9ybWF0VW5pdH1gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0U3RyaW5nKGtub3duRm9ybWF0OiBJbnRsLkRhdGVUaW1lRm9ybWF0T3B0aW9ucykge1xuICAvLyB0aGVzZSBhbGwgaGF2ZSB0aGUgb2Zmc2V0cyByZW1vdmVkIGJlY2F1c2Ugd2UgZG9uJ3QgaGF2ZSBhY2Nlc3MgdG8gdGhlbVxuICAvLyB3aXRob3V0IGFsbCB0aGUgaW50bCBzdHVmZiB0aGlzIGlzIGJhY2tmaWxsaW5nXG4gIGNvbnN0IGZpbHRlcmVkID0gcGljayhrbm93bkZvcm1hdCwgW1xuICAgICAgXCJ3ZWVrZGF5XCIsXG4gICAgICBcImVyYVwiLFxuICAgICAgXCJ5ZWFyXCIsXG4gICAgICBcIm1vbnRoXCIsXG4gICAgICBcImRheVwiLFxuICAgICAgXCJob3VyXCIsXG4gICAgICBcIm1pbnV0ZVwiLFxuICAgICAgXCJzZWNvbmRcIixcbiAgICAgIFwidGltZVpvbmVOYW1lXCIsXG4gICAgICBcImhvdXJDeWNsZVwiXG4gICAgXSksXG4gICAga2V5ID0gc3RyaW5naWZ5KGZpbHRlcmVkKSxcbiAgICBkYXRlVGltZUh1Z2UgPSBcIkVFRUUsIExMTEwgZCwgeXl5eSwgaDptbSBhXCI7XG4gIHN3aXRjaCAoa2V5KSB7XG4gICAgY2FzZSBzdHJpbmdpZnkoRm9ybWF0cy5EQVRFX1NIT1JUKTpcbiAgICAgIHJldHVybiBcIk0vZC95eXl5XCI7XG4gICAgY2FzZSBzdHJpbmdpZnkoRm9ybWF0cy5EQVRFX01FRCk6XG4gICAgICByZXR1cm4gXCJMTEwgZCwgeXl5eVwiO1xuICAgIGNhc2Ugc3RyaW5naWZ5KEZvcm1hdHMuREFURV9NRURfV0lUSF9XRUVLREFZKTpcbiAgICAgIHJldHVybiBcIkVFRSwgTExMIGQsIHl5eXlcIjtcbiAgICBjYXNlIHN0cmluZ2lmeShGb3JtYXRzLkRBVEVfRlVMTCk6XG4gICAgICByZXR1cm4gXCJMTExMIGQsIHl5eXlcIjtcbiAgICBjYXNlIHN0cmluZ2lmeShGb3JtYXRzLkRBVEVfSFVHRSk6XG4gICAgICByZXR1cm4gXCJFRUVFLCBMTExMIGQsIHl5eXlcIjtcbiAgICBjYXNlIHN0cmluZ2lmeShGb3JtYXRzLlRJTUVfU0lNUExFKTpcbiAgICAgIHJldHVybiBcImg6bW0gYVwiO1xuICAgIGNhc2Ugc3RyaW5naWZ5KEZvcm1hdHMuVElNRV9XSVRIX1NFQ09ORFMpOlxuICAgICAgcmV0dXJuIFwiaDptbTpzcyBhXCI7XG4gICAgY2FzZSBzdHJpbmdpZnkoRm9ybWF0cy5USU1FX1dJVEhfU0hPUlRfT0ZGU0VUKTpcbiAgICAgIHJldHVybiBcImg6bW0gYVwiO1xuICAgIGNhc2Ugc3RyaW5naWZ5KEZvcm1hdHMuVElNRV9XSVRIX0xPTkdfT0ZGU0VUKTpcbiAgICAgIHJldHVybiBcImg6bW0gYVwiO1xuICAgIGNhc2Ugc3RyaW5naWZ5KEZvcm1hdHMuVElNRV8yNF9TSU1QTEUpOlxuICAgICAgcmV0dXJuIFwiSEg6bW1cIjtcbiAgICBjYXNlIHN0cmluZ2lmeShGb3JtYXRzLlRJTUVfMjRfV0lUSF9TRUNPTkRTKTpcbiAgICAgIHJldHVybiBcIkhIOm1tOnNzXCI7XG4gICAgY2FzZSBzdHJpbmdpZnkoRm9ybWF0cy5USU1FXzI0X1dJVEhfU0hPUlRfT0ZGU0VUKTpcbiAgICAgIHJldHVybiBcIkhIOm1tXCI7XG4gICAgY2FzZSBzdHJpbmdpZnkoRm9ybWF0cy5USU1FXzI0X1dJVEhfTE9OR19PRkZTRVQpOlxuICAgICAgcmV0dXJuIFwiSEg6bW1cIjtcbiAgICBjYXNlIHN0cmluZ2lmeShGb3JtYXRzLkRBVEVUSU1FX1NIT1JUKTpcbiAgICAgIHJldHVybiBcIk0vZC95eXl5LCBoOm1tIGFcIjtcbiAgICBjYXNlIHN0cmluZ2lmeShGb3JtYXRzLkRBVEVUSU1FX01FRCk6XG4gICAgICByZXR1cm4gXCJMTEwgZCwgeXl5eSwgaDptbSBhXCI7XG4gICAgY2FzZSBzdHJpbmdpZnkoRm9ybWF0cy5EQVRFVElNRV9GVUxMKTpcbiAgICAgIHJldHVybiBcIkxMTEwgZCwgeXl5eSwgaDptbSBhXCI7XG4gICAgY2FzZSBzdHJpbmdpZnkoRm9ybWF0cy5EQVRFVElNRV9IVUdFKTpcbiAgICAgIHJldHVybiBkYXRlVGltZUh1Z2U7XG4gICAgY2FzZSBzdHJpbmdpZnkoRm9ybWF0cy5EQVRFVElNRV9TSE9SVF9XSVRIX1NFQ09ORFMpOlxuICAgICAgcmV0dXJuIFwiTS9kL3l5eXksIGg6bW06c3MgYVwiO1xuICAgIGNhc2Ugc3RyaW5naWZ5KEZvcm1hdHMuREFURVRJTUVfTUVEX1dJVEhfU0VDT05EUyk6XG4gICAgICByZXR1cm4gXCJMTEwgZCwgeXl5eSwgaDptbTpzcyBhXCI7XG4gICAgY2FzZSBzdHJpbmdpZnkoRm9ybWF0cy5EQVRFVElNRV9NRURfV0lUSF9XRUVLREFZKTpcbiAgICAgIHJldHVybiBcIkVFRSwgZCBMTEwgeXl5eSwgaDptbSBhXCI7XG4gICAgY2FzZSBzdHJpbmdpZnkoRm9ybWF0cy5EQVRFVElNRV9GVUxMX1dJVEhfU0VDT05EUyk6XG4gICAgICByZXR1cm4gXCJMTExMIGQsIHl5eXksIGg6bW06c3MgYVwiO1xuICAgIGNhc2Ugc3RyaW5naWZ5KEZvcm1hdHMuREFURVRJTUVfSFVHRV9XSVRIX1NFQ09ORFMpOlxuICAgICAgcmV0dXJuIFwiRUVFRSwgTExMTCBkLCB5eXl5LCBoOm1tOnNzIGFcIjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGRhdGVUaW1lSHVnZTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgWm9uZUlzQWJzdHJhY3RFcnJvciB9IGZyb20gXCIuL2Vycm9yc1wiO1xuaW1wb3J0IHsgWm9uZU9mZnNldE9wdGlvbnMsIFpvbmVPZmZzZXRGb3JtYXQgfSBmcm9tIFwiLi90eXBlcy96b25lXCI7XG5cbi8vIFByZWZpeGluZyB0aGUgcGFyYW1ldGVyIG5hbWVzIHdpdGggYSBfIGNvbmZ1c2VzIEVTRG9jXG5mdW5jdGlvbiBzaWxlbmNlVW51c2VkV2FybmluZyguLi5hcmdzOiB1bmtub3duW10pIHtcbiAgICBhcmdzLmxlbmd0aDtcbn1cblxuLyoqXG4gKiBBbiBhYnN0cmFjdCBab25lIGNsYXNzXG4gKiBAaW50ZXJmYWNlXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBab25lIHtcbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB6b25lXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXQgdHlwZSgpOiBzdHJpbmcge1xuICAgICAgICB0aHJvdyBuZXcgWm9uZUlzQWJzdHJhY3RFcnJvcigpO1xuICAgIH1cblxuICAgIGdldCBpYW5hTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGlzIHpvbmUuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXQgbmFtZSgpOiBzdHJpbmcge1xuICAgICAgICB0aHJvdyBuZXcgWm9uZUlzQWJzdHJhY3RFcnJvcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgb2Zmc2V0IGlzIGtub3duIHRvIGJlIGZpeGVkIGZvciB0aGUgd2hvbGUgeWVhci5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgaXNVbml2ZXJzYWwoKTogYm9vbGVhbiB7XG4gICAgICAgIHRocm93IG5ldyBab25lSXNBYnN0cmFjdEVycm9yKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgb2Zmc2V0J3MgY29tbW9uIG5hbWUgKHN1Y2ggYXMgRVNUKSBhdCB0aGUgc3BlY2lmaWVkIHRpbWVzdGFtcFxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdHNdIC0gRXBvY2ggbWlsbGlzZWNvbmRzIGZvciB3aGljaCB0byBnZXQgdGhlIG5hbWVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9ucyB0byBhZmZlY3QgdGhlIGZvcm1hdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5mb3JtYXRdIC0gV2hhdCBzdHlsZSBvZiBvZmZzZXQgdG8gcmV0dXJuLiBBY2NlcHRzICdsb25nJyBvciAnc2hvcnQnLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sb2NhbGVdIC0gV2hhdCBsb2NhbGUgdG8gcmV0dXJuIHRoZSBvZmZzZXQgbmFtZSBpbi5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmcgfCBudWxsfVxuICAgICAqL1xuICAgIG9mZnNldE5hbWUodHM/OiBudW1iZXIsIG9wdGlvbnM/OiBab25lT2Zmc2V0T3B0aW9ucyk6IHN0cmluZyB8IG51bGwge1xuICAgICAgICBzaWxlbmNlVW51c2VkV2FybmluZyh0cywgb3B0aW9ucyk7XG4gICAgICAgIHRocm93IG5ldyBab25lSXNBYnN0cmFjdEVycm9yKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgb2Zmc2V0J3MgdmFsdWUgYXMgYSBzdHJpbmdcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHMgLSBFcG9jaCBtaWxsaXNlY29uZHMgZm9yIHdoaWNoIHRvIGdldCB0aGUgb2Zmc2V0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZvcm1hdCAtIFdoYXQgc3R5bGUgb2Ygb2Zmc2V0IHRvIHJldHVybi5cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgQWNjZXB0cyAnbmFycm93JywgJ3Nob3J0Jywgb3IgJ3RlY2hpZScuIFJldHVybmluZyAnKzYnLCAnKzA2OjAwJywgb3IgJyswNjAwJyByZXNwZWN0aXZlbHlcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG4gICAgZm9ybWF0T2Zmc2V0KHRzOiBudW1iZXIsIGZvcm1hdDogWm9uZU9mZnNldEZvcm1hdCk6IHN0cmluZyB7XG4gICAgICAgIHNpbGVuY2VVbnVzZWRXYXJuaW5nKHRzLCBmb3JtYXQpO1xuICAgICAgICB0aHJvdyBuZXcgWm9uZUlzQWJzdHJhY3RFcnJvcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgb2Zmc2V0IGluIG1pbnV0ZXMgZm9yIHRoaXMgem9uZSBhdCB0aGUgc3BlY2lmaWVkIHRpbWVzdGFtcC5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHMgLSBFcG9jaCBtaWxsaXNlY29uZHMgZm9yIHdoaWNoIHRvIGNvbXB1dGUgdGhlIG9mZnNldFxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKi9cbiAgICBvZmZzZXQodHM6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIHNpbGVuY2VVbnVzZWRXYXJuaW5nKHRzKTtcbiAgICAgICAgdGhyb3cgbmV3IFpvbmVJc0Fic3RyYWN0RXJyb3IoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gd2hldGhlciB0aGlzIFpvbmUgaXMgZXF1YWwgdG8gYW5vdGhlciB6b25lXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHtab25lfSBvdGhlciAtIHRoZSB6b25lIHRvIGNvbXBhcmVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqL1xuICAgIGVxdWFscyhvdGhlcjogWm9uZSk6IGJvb2xlYW4ge1xuICAgICAgICBzaWxlbmNlVW51c2VkV2FybmluZyhvdGhlcik7XG4gICAgICAgIHRocm93IG5ldyBab25lSXNBYnN0cmFjdEVycm9yKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHdoZXRoZXIgdGhpcyBab25lIGlzIHZhbGlkLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCBpc1ZhbGlkKCk6IGJvb2xlYW4ge1xuICAgICAgICB0aHJvdyBuZXcgWm9uZUlzQWJzdHJhY3RFcnJvcigpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGZvcm1hdE9mZnNldCwgcGFyc2Vab25lSW5mbywgaXNVbmRlZmluZWQsIG9ialRvTG9jYWxUUyB9IGZyb20gXCIuLi9pbXBsL3V0aWxcIjtcbmltcG9ydCB7IFpvbmUgfSBmcm9tIFwiLi4vem9uZVwiO1xuaW1wb3J0IHsgWm9uZU9mZnNldE9wdGlvbnMsIFpvbmVPZmZzZXRGb3JtYXQgfSBmcm9tIFwiLi4vdHlwZXMvem9uZVwiO1xuaW1wb3J0IHsgSW52YWxpZFpvbmVFcnJvciB9IGZyb20gXCIuLi9lcnJvcnNcIjtcbmltcG9ydCBJbnRsIGZyb20gXCIuLi90eXBlcy9pbnRsLW5leHRcIjtcblxubGV0IGR0ZkNhY2hlOiBSZWNvcmQ8c3RyaW5nLCBJbnRsLkRhdGVUaW1lRm9ybWF0PiA9IHt9O1xuXG5mdW5jdGlvbiBtYWtlRFRGKHpvbmU6IHN0cmluZykge1xuICAgIGlmICghZHRmQ2FjaGVbem9uZV0pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGR0ZkNhY2hlW3pvbmVdID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQoXCJlbi1VU1wiLCB7XG4gICAgICAgICAgICAgICAgaG91cjEyOiAhMSxcbiAgICAgICAgICAgICAgICB0aW1lWm9uZTogem9uZSxcbiAgICAgICAgICAgICAgICB5ZWFyOiBcIm51bWVyaWNcIixcbiAgICAgICAgICAgICAgICBtb250aDogXCIyLWRpZ2l0XCIsXG4gICAgICAgICAgICAgICAgZGF5OiBcIjItZGlnaXRcIixcbiAgICAgICAgICAgICAgICBob3VyOiBcIjItZGlnaXRcIixcbiAgICAgICAgICAgICAgICBtaW51dGU6IFwiMi1kaWdpdFwiLFxuICAgICAgICAgICAgICAgIHNlY29uZDogXCIyLWRpZ2l0XCIsXG4gICAgICAgICAgICAgICAgZXJhOiBcInNob3J0XCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkWm9uZUVycm9yKHpvbmUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkdGZDYWNoZVt6b25lXTtcbn1cblxuY29uc3QgdHlwZVRvUG9zOiBQYXJ0aWFsPFJlY29yZDxJbnRsLkRhdGVUaW1lRm9ybWF0UGFydFR5cGVzLCBudW1iZXI+PiA9IHtcbiAgICB5ZWFyOiAwLFxuICAgIG1vbnRoOiAxLFxuICAgIGRheTogMixcbiAgICBlcmE6IDMsXG4gICAgaG91cjogNCxcbiAgICBtaW51dGU6IDUsXG4gICAgc2Vjb25kOiA2XG59O1xuXG5mdW5jdGlvbiBoYWNreU9mZnNldChkdGY6IEludGwuRGF0ZVRpbWVGb3JtYXQsIGRhdGU6IERhdGUpIHtcbiAgICBjb25zdCBmb3JtYXR0ZWQgPSBkdGYuZm9ybWF0KGRhdGUpLnJlcGxhY2UoL1xcdTIwMEUvZywgXCJcIik7XG4gICAgY29uc3QgcGFyc2VkOiBSZWdFeHBFeGVjQXJyYXkgPSAvKFxcZCspXFwvKFxcZCspXFwvKFxcZCspIChBRHxCQyksPyAoXFxkKyk6KFxcZCspOihcXGQrKS8uZXhlYyhmb3JtYXR0ZWQpIGFzIFJlZ0V4cEV4ZWNBcnJheTtcbiAgICBjb25zdCBbLCBmTW9udGgsIGZEYXksIGZZZWFyLCBmYWRPckJjLCBmSG91ciwgZk1pbnV0ZSwgZlNlY29uZF0gPSBwYXJzZWQ7XG5cbiAgICByZXR1cm4gW2ZZZWFyLCBmTW9udGgsIGZEYXksIGZhZE9yQmMsIGZIb3VyLCBmTWludXRlLCBmU2Vjb25kXTtcbn1cblxuZnVuY3Rpb24gcGFydHNPZmZzZXQoZHRmOiBJbnRsLkRhdGVUaW1lRm9ybWF0LCBkYXRlOiBEYXRlKSB7XG4gICAgY29uc3QgZm9ybWF0dGVkID0gZHRmLmZvcm1hdFRvUGFydHMoZGF0ZSk7XG4gICAgY29uc3QgZmlsbGVkID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmb3JtYXR0ZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgeyB0eXBlLCB2YWx1ZSB9ID0gZm9ybWF0dGVkW2ldO1xuICAgICAgICBjb25zdCBwb3MgPSB0eXBlVG9Qb3NbdHlwZV0gYXMgbnVtYmVyO1xuXG4gICAgICAgIGlmICh0eXBlID09PSBcImVyYVwiKSB7XG4gICAgICAgICAgICBmaWxsZWRbcG9zXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpc1VuZGVmaW5lZChwb3MpKSB7XG4gICAgICAgICAgICBmaWxsZWRbcG9zXSA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZpbGxlZDtcbn1cblxubGV0IGlhbmFab25lQ2FjaGU6IFJlY29yZDxzdHJpbmcsIElBTkFab25lPiA9IHt9O1xuXG4vKipcbiAqIEEgem9uZSBpZGVudGlmaWVkIGJ5IGFuIElBTkEgaWRlbnRpZmllciwgbGlrZSBBbWVyaWNhL05ld19Zb3JrXG4gKiBAaW1wbGVtZW50cyB7Wm9uZX1cbiAqL1xuZXhwb3J0IGNsYXNzIElBTkFab25lIGV4dGVuZHMgWm9uZSB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBfem9uZU5hbWU6IHN0cmluZztcbiAgICBwcml2YXRlIHJlYWRvbmx5IF92YWxpZDogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gWm9uZSBuYW1lXG4gICAgICogQHJldHVybiB7SUFOQVpvbmV9XG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZShuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgLy8gUmVjcmVhdGUgaW52YWxpZCBJYW5hWm9uZXNcbiAgICAgICAgaWYgKCFpYW5hWm9uZUNhY2hlW25hbWVdKSB7XG4gICAgICAgICAgICBpYW5hWm9uZUNhY2hlW25hbWVdID0gbmV3IElBTkFab25lKG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpYW5hWm9uZUNhY2hlW25hbWVdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2V0IGxvY2FsIGNhY2hlcy4gU2hvdWxkIG9ubHkgYmUgbmVjZXNzYXJ5IGluIHRlc3Rpbmcgc2NlbmFyaW9zLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgc3RhdGljIHJlc2V0Q2FjaGUoKSB7XG4gICAgICAgIGlhbmFab25lQ2FjaGUgPSB7fTtcbiAgICAgICAgZHRmQ2FjaGUgPSB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHByb3ZpZGVkIHN0cmluZyBpcyBhIHZhbGlkIHNwZWNpZmllci5cbiAgICAgKiBUaGlzIG9ubHkgY2hlY2tzIHRoZSBzdHJpbmcncyBmb3JtYXQsIG5vdCB0aGF0IHRoZSBzcGVjaWZpZXIgaWRlbnRpZmllcyBhIGtub3duIHpvbmU7IHNlZSBpc1ZhbGlkWm9uZSBmb3IgdGhhdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcyAtIFRoZSBzdHJpbmcgdG8gY2hlY2sgdmFsaWRpdHkgb25cbiAgICAgKiBAZXhhbXBsZSBJQU5BWm9uZS5pc1ZhbGlkU3BlY2lmaWVyKFwiQW1lcmljYS9OZXdfWW9ya1wiKSAvLz0+IHRydWVcbiAgICAgKiBAZXhhbXBsZSBJQU5BWm9uZS5pc1ZhbGlkU3BlY2lmaWVyKFwiU3BvcnR+fmJsb3JwXCIpIC8vPT4gZmFsc2VcbiAgICAgKiBAZGVwcmVjYXRlZCBUaGlzIG1ldGhvZCByZXR1cm5zIGZhbHNlIGZvciBzb21lIHZhbGlkIElBTkEgbmFtZXMuIFVzZSBpc1ZhbGlkWm9uZSBpbnN0ZWFkLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICovXG4gICAgc3RhdGljIGlzVmFsaWRTcGVjaWZpZXIoczogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWRab25lKHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgcHJvdmlkZWQgc3RyaW5nIGlkZW50aWZpZXMgYSByZWFsIHpvbmVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gem9uZSAtIFRoZSBzdHJpbmcgdG8gY2hlY2tcbiAgICAgKiBAZXhhbXBsZSBJQU5BWm9uZS5pc1ZhbGlkWm9uZShcIkFtZXJpY2EvTmV3X1lvcmtcIikgLy89PiB0cnVlXG4gICAgICogQGV4YW1wbGUgSUFOQVpvbmUuaXNWYWxpZFpvbmUoXCJGYW50YXNpYS9DYXN0bGVcIikgLy89PiBmYWxzZVxuICAgICAqIEBleGFtcGxlIElBTkFab25lLmlzVmFsaWRab25lKFwiU3BvcnR+fmJsb3JwXCIpIC8vPT4gZmFsc2VcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqL1xuICAgIHN0YXRpYyBpc1ZhbGlkWm9uZSh6b25lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCF6b25lKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KFwiZW4tVVNcIiwgeyB0aW1lWm9uZTogem9uZSB9KS5mb3JtYXQoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICAvKiogQHByaXZhdGUgKiovXG4gICAgICAgIHRoaXMuX3pvbmVOYW1lID0gbmFtZTtcbiAgICAgICAgLyoqIEBwcml2YXRlICoqL1xuICAgICAgICB0aGlzLl92YWxpZCA9IElBTkFab25lLmlzVmFsaWRab25lKG5hbWUpO1xuICAgIH1cblxuICAgIC8qKiBAb3ZlcnJpZGUgKiovXG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcImlhbmFcIjtcbiAgICB9XG5cbiAgICAvKiogQG92ZXJyaWRlICoqL1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fem9uZU5hbWU7XG4gICAgfVxuXG4gICAgLyoqIEBvdmVycmlkZSAqKi9cbiAgICBnZXQgaXNVbml2ZXJzYWwoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKiogQG92ZXJyaWRlICoqL1xuICAgIG9mZnNldE5hbWUodHM6IG51bWJlciwgeyBmb3JtYXQsIGxvY2FsZSB9OiBab25lT2Zmc2V0T3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHJldHVybiBwYXJzZVpvbmVJbmZvKHRzLCBmb3JtYXQsIGxvY2FsZSwgdGhpcy5uYW1lKTtcbiAgICB9XG5cbiAgICAvKiogQG92ZXJyaWRlICoqL1xuICAgIGZvcm1hdE9mZnNldCh0czogbnVtYmVyLCBmb3JtYXQ6IFpvbmVPZmZzZXRGb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdE9mZnNldCh0aGlzLm9mZnNldCh0cyksIGZvcm1hdCk7XG4gICAgfVxuXG4gICAgLyoqIEBvdmVycmlkZSAqKi9cbiAgICBvZmZzZXQodHM6IG51bWJlcikge1xuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUodHMpO1xuICAgICAgICBpZiAoaXNOYU4oK2RhdGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGR0ZiA9IG1ha2VEVEYodGhpcy5uYW1lKTtcbiAgICAgICAgbGV0IHllYXJBbHQ7XG4gICAgICAgIGNvbnN0IFt5ZWFyLCBtb250aCwgZGF5LCBhZE9yQmMsIGhvdXIsIG1pbnV0ZSwgc2Vjb25kXSA9IHR5cGVvZiBkdGYuZm9ybWF0VG9QYXJ0cyA9PT0gdHlwZW9mIGlzTmFOXG4gICAgICAgICAgICA/IHBhcnRzT2Zmc2V0KGR0ZiwgZGF0ZSlcbiAgICAgICAgICAgIDogaGFja3lPZmZzZXQoZHRmLCBkYXRlKTtcblxuICAgICAgICBpZiAoYWRPckJjID09PSBcIkJDXCIpIHtcbiAgICAgICAgICAgIHllYXJBbHQgPSAtTWF0aC5hYnMoK3llYXIpICsgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJlY2F1c2Ugd2UncmUgdXNpbmcgaG91cjEyIGFuZCBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0xMDI1NTY0JmNhbj0yJnE9JTIyMjQlM0EwMCUyMiUyMGRhdGV0aW1lZm9ybWF0XG4gICAgICAgIGNvbnN0IGFkanVzdGVkSG91ciA9IGhvdXIgPT09IDI0ID8gMCA6IGhvdXI7XG5cbiAgICAgICAgY29uc3QgYXNVVEMgPSBvYmpUb0xvY2FsVFMoe1xuICAgICAgICAgICAgeWVhcjogeWVhckFsdCB8fCAreWVhcixcbiAgICAgICAgICAgIG1vbnRoOiArbW9udGgsXG4gICAgICAgICAgICBkYXk6ICtkYXksXG4gICAgICAgICAgICBob3VyOiArYWRqdXN0ZWRIb3VyLFxuICAgICAgICAgICAgbWludXRlOiArbWludXRlLFxuICAgICAgICAgICAgc2Vjb25kOiArc2Vjb25kLFxuICAgICAgICAgICAgbWlsbGlzZWNvbmQ6IDBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IGFzVFMgPSArZGF0ZTtcbiAgICAgICAgY29uc3Qgb3ZlciA9IGFzVFMgJSAxMDAwO1xuICAgICAgICBhc1RTIC09IG92ZXIgPj0gMCA/IG92ZXIgOiAxMDAwICsgb3ZlcjtcbiAgICAgICAgcmV0dXJuIChhc1VUQyAtIGFzVFMpIC8gKDYwICogMTAwMCk7XG4gICAgfVxuXG4gICAgLyoqIEBvdmVycmlkZSAqKi9cbiAgICBlcXVhbHMob3RoZXI6IFpvbmUpIHtcbiAgICAgICAgcmV0dXJuIG90aGVyLnR5cGUgPT09IFwiaWFuYVwiICYmIG90aGVyLm5hbWUgPT09IHRoaXMubmFtZTtcbiAgICB9XG5cbiAgICAvKiogQG92ZXJyaWRlICoqL1xuICAgIGdldCBpc1ZhbGlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFsaWQ7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgZm9ybWF0T2Zmc2V0LCBzaWduZWRPZmZzZXQgfSBmcm9tIFwiLi4vaW1wbC91dGlsXCI7XG5pbXBvcnQgeyBab25lIH0gZnJvbSBcIi4uL3pvbmVcIjtcbmltcG9ydCB7IFpvbmVPZmZzZXRGb3JtYXQgfSBmcm9tIFwiLi4vdHlwZXMvem9uZVwiO1xuXG5sZXQgc2luZ2xldG9uOiBGaXhlZE9mZnNldFpvbmUgfCBudWxsID0gbnVsbDtcblxuLyoqXG4gKiBBIHpvbmUgd2l0aCBhIGZpeGVkIG9mZnNldCAobWVhbmluZyBubyBEU1QpXG4gKiBAaW1wbGVtZW50cyB7Wm9uZX1cbiAqL1xuZXhwb3J0IGNsYXNzIEZpeGVkT2Zmc2V0Wm9uZSBleHRlbmRzIFpvbmUge1xuXG4gICAgLyoqXG4gICAgICogR2V0IGEgc2luZ2xldG9uIGluc3RhbmNlIG9mIFVUQ1xuICAgICAqIEByZXR1cm4ge0ZpeGVkT2Zmc2V0Wm9uZX1cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IHV0Y0luc3RhbmNlKCkge1xuICAgICAgICBpZiAoc2luZ2xldG9uID09PSBudWxsKSB7XG4gICAgICAgICAgICBzaW5nbGV0b24gPSBuZXcgRml4ZWRPZmZzZXRab25lKDApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaW5nbGV0b247XG4gICAgfVxuXG4gICAgLyoqIEBvdmVycmlkZSAqKi9cbiAgICBnZXQgaXNWYWxpZCgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZ2V0IGlhbmFOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZml4ZWQgPT09IDBcbiAgICAgICAgICAgID8gXCJFdGMvVVRDXCJcbiAgICAgICAgICAgIDogYEV0Yy9HTVQke2Zvcm1hdE9mZnNldCgtdGhpcy5fZml4ZWQsIFwibmFycm93XCIpfWA7XG5cbiAgICB9XG5cbiAgICAvKiogQG92ZXJyaWRlICoqL1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZml4ZWQgPT09IDAgPyBcIlVUQ1wiIDogYFVUQyR7Zm9ybWF0T2Zmc2V0KHRoaXMuX2ZpeGVkLCBcIm5hcnJvd1wiKX1gO1xuICAgIH1cblxuICAgIC8qKiBAb3ZlcnJpZGUgKiovXG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcImZpeGVkXCI7XG4gICAgfVxuXG4gICAgLyoqIEBvdmVycmlkZSAqKi9cbiAgICBnZXQgaXNVbml2ZXJzYWwoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2ZpeGVkOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihvZmZzZXQ6IG51bWJlcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICAvKiogQHByaXZhdGUgKiovXG4gICAgICAgIHRoaXMuX2ZpeGVkID0gb2Zmc2V0O1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogR2V0IGFuIGluc3RhbmNlIHdpdGggYSBzcGVjaWZpZWQgb2Zmc2V0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIFRoZSBvZmZzZXQgaW4gbWludXRlc1xuICAgICAqIEByZXR1cm4ge0ZpeGVkT2Zmc2V0Wm9uZX1cbiAgICAgKi9cbiAgICBzdGF0aWMgaW5zdGFuY2Uob2Zmc2V0OiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIG9mZnNldCA9PT0gMCA/IEZpeGVkT2Zmc2V0Wm9uZS51dGNJbnN0YW5jZSA6IG5ldyBGaXhlZE9mZnNldFpvbmUob2Zmc2V0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYW4gaW5zdGFuY2Ugb2YgRml4ZWRPZmZzZXRab25lIGZyb20gYSBVVEMgb2Zmc2V0IHN0cmluZywgbGlrZSBcIlVUQys2XCJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcyAtIFRoZSBvZmZzZXQgc3RyaW5nIHRvIHBhcnNlXG4gICAgICogQGV4YW1wbGUgRml4ZWRPZmZzZXRab25lLnBhcnNlU3BlY2lmaWVyKFwiVVRDKzZcIilcbiAgICAgKiBAZXhhbXBsZSBGaXhlZE9mZnNldFpvbmUucGFyc2VTcGVjaWZpZXIoXCJVVEMrMDZcIilcbiAgICAgKiBAZXhhbXBsZSBGaXhlZE9mZnNldFpvbmUucGFyc2VTcGVjaWZpZXIoXCJVVEMtNjowMFwiKVxuICAgICAqIEByZXR1cm4ge0ZpeGVkT2Zmc2V0Wm9uZX1cbiAgICAgKi9cbiAgICBzdGF0aWMgcGFyc2VTcGVjaWZpZXIoczogc3RyaW5nKSB7XG4gICAgICAgIGlmIChzKSB7XG4gICAgICAgICAgICBjb25zdCByID0gcy5tYXRjaCgvXnV0Yyg/OihbKy1dXFxkezEsMn0pKD86OihcXGR7Mn0pKT8pPyQvaSk7XG4gICAgICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRml4ZWRPZmZzZXRab25lKHNpZ25lZE9mZnNldChyWzFdLCByWzJdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLyoqIEBvdmVycmlkZSAqKi9cbiAgICBvZmZzZXROYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgIH1cblxuICAgIC8qKiBAb3ZlcnJpZGUgKiovXG4gICAgZm9ybWF0T2Zmc2V0KF90c186IG51bWJlciwgZm9ybWF0OiBab25lT2Zmc2V0Rm9ybWF0KSB7XG4gICAgICAgIHJldHVybiBmb3JtYXRPZmZzZXQodGhpcy5fZml4ZWQsIGZvcm1hdCk7XG4gICAgfVxuXG4gICAgLyoqIEBvdmVycmlkZSAqKi9cbiAgICBvZmZzZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9maXhlZDtcbiAgICB9XG5cbiAgICAvKiogQG92ZXJyaWRlICoqL1xuICAgIGVxdWFscyhvdGhlclpvbmU6IEZpeGVkT2Zmc2V0Wm9uZSkge1xuICAgICAgICByZXR1cm4gb3RoZXJab25lLnR5cGUgPT09IFwiZml4ZWRcIiAmJiBvdGhlclpvbmUuX2ZpeGVkID09PSB0aGlzLl9maXhlZDtcbiAgICB9XG5cblxufVxuIiwiaW1wb3J0IHsgWm9uZSB9IGZyb20gXCIuLi96b25lXCI7XG5cbi8qKlxuICogQSB6b25lIHRoYXQgZmFpbGVkIHRvIHBhcnNlLiBZb3Ugc2hvdWxkIG5ldmVyIG5lZWQgdG8gaW5zdGFudGlhdGUgdGhpcy5cbiAqIEBpbXBsZW1lbnRzIHtab25lfVxuICovXG5leHBvcnQgY2xhc3MgSW52YWxpZFpvbmUgZXh0ZW5kcyBab25lIHtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIF96b25lTmFtZTogc3RyaW5nKSB7XG4gICAgc3VwZXIoKTtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFpvbmUucHJvdG90eXBlKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKiovXG4gIGdldCB0eXBlKCk6IFwiaW52YWxpZFwiIHtcbiAgICByZXR1cm4gXCJpbnZhbGlkXCI7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICoqL1xuICBnZXQgbmFtZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl96b25lTmFtZTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKiovXG4gIGdldCBpc1VuaXZlcnNhbCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICoqL1xuICBvZmZzZXROYW1lKCk6IG51bGwge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqKi9cbiAgZm9ybWF0T2Zmc2V0KCk6IFwiXCIge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqKi9cbiAgb2Zmc2V0KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIE5hTjtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKiovXG4gIGVxdWFscygpOiBmYWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqKi9cbiAgZ2V0IGlzVmFsaWQoKTogZmFsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuIiwiLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgWm9uZSB9IGZyb20gXCIuLi96b25lXCI7XHJcbmltcG9ydCB7IElBTkFab25lIH0gZnJvbSBcIi4uL3pvbmVzL0lBTkFab25lXCI7XHJcbmltcG9ydCB7IEZpeGVkT2Zmc2V0Wm9uZSB9IGZyb20gXCIuLi96b25lcy9maXhlZE9mZnNldFpvbmVcIjtcclxuaW1wb3J0IHsgaXNVbmRlZmluZWQsIGlzU3RyaW5nLCBpc051bWJlciB9IGZyb20gXCIuL3V0aWxcIjtcclxuaW1wb3J0IHsgWm9uZUxpa2UgfSBmcm9tIFwiLi4vdHlwZXMvem9uZVwiO1xyXG5pbXBvcnQgeyBJbnZhbGlkWm9uZSB9IGZyb20gXCIuLi96b25lcy9pbnZhbGlkWm9uZVwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IG5vcm1hbGl6ZVpvbmUgPSAoaW5wdXQ6IFpvbmVMaWtlLCBkZWZhdWx0Wm9uZTogWm9uZSk6IFpvbmUgPT4ge1xyXG4gICAgaWYgKGlzVW5kZWZpbmVkKGlucHV0KSB8fCBpbnB1dCA9PT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiBkZWZhdWx0Wm9uZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlucHV0IGluc3RhbmNlb2YgWm9uZSkge1xyXG4gICAgICAgIHJldHVybiBpbnB1dDtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzU3RyaW5nKGlucHV0KSkge1xyXG4gICAgICAgIGNvbnN0IGxvd2VyZWQgPSBpbnB1dC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGlmIChsb3dlcmVkID09PSBcImxvY2FsXCIgfHwgbG93ZXJlZCA9PT0gXCJzeXN0ZW1cIikge1xyXG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFpvbmU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGxvd2VyZWQgPT09IFwidXRjXCIgfHwgbG93ZXJlZCA9PT0gXCJnbXRcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gRml4ZWRPZmZzZXRab25lLnV0Y0luc3RhbmNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIEZpeGVkT2Zmc2V0Wm9uZS5wYXJzZVNwZWNpZmllcihsb3dlcmVkKSB8fCBJQU5BWm9uZS5jcmVhdGUoaW5wdXQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzTnVtYmVyKGlucHV0KSkge1xyXG4gICAgICAgIHJldHVybiBGaXhlZE9mZnNldFpvbmUuaW5zdGFuY2UoaW5wdXQpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSBcIm9iamVjdFwiICYmIGlucHV0W1wib2Zmc2V0XCJdICYmIHR5cGVvZiBpbnB1dFtcIm9mZnNldFwiXSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgIC8vIFRoaXMgaXMgZHVtYiwgYnV0IHRoZSBpbnN0YW5jZW9mIGNoZWNrIGFib3ZlIGRvZXNuJ3Qgc2VlbSB0byByZWFsbHkgd29ya1xyXG4gICAgICAgIC8vIHNvIHdlJ3JlIGR1Y2sgY2hlY2tpbmcgaXRcclxuICAgICAgICByZXR1cm4gaW5wdXQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gbmV3IEludmFsaWRab25lKGlucHV0KTtcclxuICAgIH1cclxufTtcclxuIiwiaW1wb3J0IHsgZm9ybWF0T2Zmc2V0LCBwYXJzZVpvbmVJbmZvIH0gZnJvbSBcIi4uL2ltcGwvdXRpbFwiO1xuaW1wb3J0IHsgWm9uZSB9IGZyb20gXCIuLi96b25lXCI7XG5pbXBvcnQgeyBab25lT2Zmc2V0Rm9ybWF0LCBab25lT2Zmc2V0T3B0aW9ucyB9IGZyb20gXCIuLi90eXBlcy96b25lXCI7XG5cbmxldCBzaW5nbGV0b246IFN5c3RlbVpvbmUgfCBudWxsID0gbnVsbDtcblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBsb2NhbCB6b25lIGZvciB0aGlzIEphdmFTY3JpcHQgZW52aXJvbm1lbnQuXG4gKiBAaW1wbGVtZW50cyB7Wm9uZX1cbiAqL1xuZXhwb3J0IGNsYXNzIFN5c3RlbVpvbmUgZXh0ZW5kcyBab25lIHtcbiAgICAvKipcbiAgICAgKiBHZXQgYSBzaW5nbGV0b24gaW5zdGFuY2Ugb2YgdGhlIGxvY2FsIHpvbmVcbiAgICAgKiBAcmV0dXJuIHtTeXN0ZW1ab25lfVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgaW5zdGFuY2UoKSB7XG4gICAgICAgIGlmIChzaW5nbGV0b24gPT09IG51bGwpIHtcbiAgICAgICAgICAgIHNpbmdsZXRvbiA9IG5ldyBTeXN0ZW1ab25lKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpbmdsZXRvbjtcbiAgICB9XG5cbiAgICAvKiogQG92ZXJyaWRlICoqL1xuICAgIGdldCB0eXBlKCkge1xuICAgICAgICByZXR1cm4gXCJzeXN0ZW1cIjtcbiAgICB9XG5cbiAgICAvKiogQG92ZXJyaWRlICoqL1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS50aW1lWm9uZTtcbiAgICB9XG5cbiAgICAvKiogQG92ZXJyaWRlICoqL1xuICAgIGdldCBpc1VuaXZlcnNhbCgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKiBAb3ZlcnJpZGUgKiovXG4gICAgb2Zmc2V0TmFtZSh0czogbnVtYmVyLCB7IGZvcm1hdCwgbG9jYWxlIH06IFpvbmVPZmZzZXRPcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBwYXJzZVpvbmVJbmZvKHRzLCBmb3JtYXQsIGxvY2FsZSk7XG4gICAgfVxuXG4gICAgLyoqIEBvdmVycmlkZSAqKi9cbiAgICBmb3JtYXRPZmZzZXQodHM6IG51bWJlciwgZm9ybWF0OiBab25lT2Zmc2V0Rm9ybWF0KSB7XG4gICAgICAgIHJldHVybiBmb3JtYXRPZmZzZXQodGhpcy5vZmZzZXQodHMpLCBmb3JtYXQpO1xuICAgIH1cblxuICAgIC8qKiBAb3ZlcnJpZGUgKiovXG4gICAgb2Zmc2V0KHRzOiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIC1uZXcgRGF0ZSh0cykuZ2V0VGltZXpvbmVPZmZzZXQoKTtcbiAgICB9XG5cbiAgICAvKiogQG92ZXJyaWRlICoqL1xuICAgIGVxdWFscyhvdGhlclpvbmU6IFpvbmUpIHtcbiAgICAgICAgcmV0dXJuIG90aGVyWm9uZS50eXBlID09PSBcInN5c3RlbVwiO1xuICAgIH1cblxuICAgIC8qKiBAb3ZlcnJpZGUgKiovXG4gICAgZ2V0IGlzVmFsaWQoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IElBTkFab25lIH0gZnJvbSBcIi4vem9uZXMvSUFOQVpvbmVcIjtcbmltcG9ydCB7IExvY2FsZSB9IGZyb20gXCIuL2ltcGwvbG9jYWxlXCI7XG5pbXBvcnQgeyBub3JtYWxpemVab25lIH0gZnJvbSBcIi4vaW1wbC96b25lVXRpbFwiO1xuaW1wb3J0IHsgTnVtYmVyaW5nU3lzdGVtLCBDYWxlbmRhclN5c3RlbSB9IGZyb20gXCIuL3R5cGVzL2xvY2FsZVwiO1xuaW1wb3J0IHsgWm9uZSB9IGZyb20gXCIuL3pvbmVcIjtcbmltcG9ydCB7IFN5c3RlbVpvbmUgfSBmcm9tIFwiLi96b25lcy9zeXN0ZW1ab25lXCI7XG5pbXBvcnQgeyBab25lTGlrZSB9IGZyb20gXCIuL3R5cGVzL3pvbmVcIjtcblxubGV0IG5vdyA9ICgpID0+IERhdGUubm93KCksXG4gICAgZGVmYXVsdFpvbmU6IFpvbmVMaWtlIHwgbnVsbCA9IFwic3lzdGVtXCIsXG4gICAgZGVmYXVsdExvY2FsZTogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgIGRlZmF1bHROdW1iZXJpbmdTeXN0ZW06IE51bWJlcmluZ1N5c3RlbSB8IHVuZGVmaW5lZCxcbiAgICBkZWZhdWx0T3V0cHV0Q2FsZW5kYXI6IENhbGVuZGFyU3lzdGVtIHwgdW5kZWZpbmVkLFxuICAgIHRocm93T25JbnZhbGlkOiBib29sZWFuID0gITE7XG5cbi8qKlxuICogU2V0dGluZ3MgY29udGFpbnMgc3RhdGljIGdldHRlcnMgYW5kIHNldHRlcnMgdGhhdCBjb250cm9sIFRzTHV4b24ncyBvdmVyYWxsIGJlaGF2aW9yLlxuICogVHNMdXhvbiBpcyBhIHNpbXBsZSBsaWJyYXJ5IHdpdGggZmV3IG9wdGlvbnMsIGJ1dCB0aGUgb25lcyBpdCBkb2VzIGhhdmUgbGl2ZSBoZXJlLlxuICovXG5leHBvcnQgY2xhc3MgU2V0dGluZ3Mge1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY2FsbGJhY2sgZm9yIHJldHVybmluZyB0aGUgY3VycmVudCB0aW1lc3RhbXAuXG4gICAgICogQHR5cGUge2Z1bmN0aW9ufVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgbm93KCkge1xuICAgICAgICByZXR1cm4gbm93O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY2FsbGJhY2sgZm9yIHJldHVybmluZyB0aGUgY3VycmVudCB0aW1lc3RhbXAuXG4gICAgICogVGhlIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gYSBudW1iZXIsIHdoaWNoIHdpbGwgYmUgaW50ZXJwcmV0ZWQgYXMgYW4gRXBvY2ggbWlsbGlzZWNvbmQgY291bnRcbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb259XG4gICAgICogQGV4YW1wbGUgU2V0dGluZ3Mubm93ID0gKCkgPT4gRGF0ZS5ub3coKSArIDMwMDAgLy8gcHJldGVuZCBpdCBpcyAzIHNlY29uZHMgaW4gdGhlIGZ1dHVyZVxuICAgICAqIEBleGFtcGxlIFNldHRpbmdzLm5vdyA9ICgpID0+IDAgLy8gYWx3YXlzIHByZXRlbmQgaXQncyBKYW4gMSwgMTk3MCBhdCBtaWRuaWdodCBpbiBVVEMgdGltZVxuICAgICAqL1xuICAgIHN0YXRpYyBzZXQgbm93KG4pIHtcbiAgICAgICAgbm93ID0gbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBbVFNdIGNhbid0IHVzZSB0aGUgcmVhbCBzZXR0ZXIgaGVyZSBiZWNhdXNlIHNldCBhbmQgZ2V0IG11c3QgaGF2ZSB0aGUgc2FtZSB0eXBlLlxuICAgICAqIExldCdzIGZhY2UgdGhpcy4gVGhpcyBpcyBidWxsc2hpdC4gQnV0IEkgZ2V0IHRoYXQgeW91IHdhbnQgdG8gbWFrZSBsaWZlIGVhc2llciBmb3IgdXNlcnMuXG4gICAgICogU2V0IHRoZSBkZWZhdWx0IHRpbWUgem9uZSB0byBjcmVhdGUgRGF0ZVRpbWVzIGluLiBEb2VzIG5vdCBhZmZlY3QgZXhpc3RpbmcgaW5zdGFuY2VzLlxuICAgICAqIFVzZSB0aGUgdmFsdWUgXCJzeXN0ZW1cIiB0byByZXNldCB0aGlzIHZhbHVlIHRvIHRoZSBzeXN0ZW0ncyB0aW1lIHpvbmUuXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgc2V0IGRlZmF1bHRab25lTGlrZSh6b25lOiBab25lTGlrZSkge1xuICAgICAgICBkZWZhdWx0Wm9uZSA9IHpvbmU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogW1RTXSBoYWQgdG8gdXNlIHR5cGUgWm9uZSBoZXJlLiBJIGNyZWF0ZWQgYW5vdGhlciBzZXR0ZXIgdG8gdXNlIGEgWm9uZUxpa2UgaW5zdGVhZFxuICAgICAqIExldCdzIGZhY2UgaXQuIFRoaXMgaXMgdWdseS4gVGhlIG9yaWdpbmFsIHNob3VsZCBoYXZlIHRoaXMgYXBwcm9hY2ggYXMgd2VsbC5cbiAgICAgKiBTZXQgdGhlIGRlZmF1bHQgdGltZSB6b25lIHRvIGNyZWF0ZSBEYXRlVGltZXMgaW4uIERvZXMgbm90IGFmZmVjdCBleGlzdGluZyBpbnN0YW5jZXMuXG4gICAgICogVXNlIHRoZSB2YWx1ZSBcInN5c3RlbVwiIHRvIHJlc2V0IHRoaXMgdmFsdWUgdG8gdGhlIHN5c3RlbSdzIHRpbWUgem9uZS5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHN0YXRpYyBzZXQgZGVmYXVsdFpvbmUoem9uZTogWm9uZSkge1xuICAgICAgICBkZWZhdWx0Wm9uZSA9IHpvbmU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBkZWZhdWx0IHRpbWUgem9uZSBvYmplY3QgdG8gY3JlYXRlIERhdGVUaW1lcyBpbi4gRG9lcyBub3QgYWZmZWN0IGV4aXN0aW5nIGluc3RhbmNlcy5cbiAgICAgKiBAdHlwZSB7Wm9uZX1cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRab25lKCk6IFpvbmUge1xuICAgICAgICByZXR1cm4gbm9ybWFsaXplWm9uZShkZWZhdWx0Wm9uZSwgU3lzdGVtWm9uZS5pbnN0YW5jZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBkZWZhdWx0IGxvY2FsZSB0byBjcmVhdGUgRGF0ZVRpbWVzIHdpdGguIERvZXMgbm90IGFmZmVjdCBleGlzdGluZyBpbnN0YW5jZXMuXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRMb2NhbGUoKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0TG9jYWxlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZGVmYXVsdCBsb2NhbGUgdG8gY3JlYXRlIERhdGVUaW1lcyB3aXRoLiBEb2VzIG5vdCBhZmZlY3QgZXhpc3RpbmcgaW5zdGFuY2VzLlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgc3RhdGljIHNldCBkZWZhdWx0TG9jYWxlKGxvY2FsZTogc3RyaW5nIHwgdW5kZWZpbmVkKSB7XG4gICAgICAgIGRlZmF1bHRMb2NhbGUgPSBsb2NhbGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBkZWZhdWx0IG51bWJlcmluZyBzeXN0ZW0gdG8gY3JlYXRlIERhdGVUaW1lcyB3aXRoLiBEb2VzIG5vdCBhZmZlY3QgZXhpc3RpbmcgaW5zdGFuY2VzLlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgc3RhdGljIGdldCBkZWZhdWx0TnVtYmVyaW5nU3lzdGVtKCkge1xuICAgICAgICByZXR1cm4gZGVmYXVsdE51bWJlcmluZ1N5c3RlbTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGRlZmF1bHQgbnVtYmVyaW5nIHN5c3RlbSB0byBjcmVhdGUgRGF0ZVRpbWVzIHdpdGguIERvZXMgbm90IGFmZmVjdCBleGlzdGluZyBpbnN0YW5jZXMuXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgc2V0IGRlZmF1bHROdW1iZXJpbmdTeXN0ZW0obnVtYmVyaW5nU3lzdGVtOiBOdW1iZXJpbmdTeXN0ZW0gfCB1bmRlZmluZWQpIHtcbiAgICAgICAgZGVmYXVsdE51bWJlcmluZ1N5c3RlbSA9IG51bWJlcmluZ1N5c3RlbTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGRlZmF1bHQgb3V0cHV0IGNhbGVuZGFyIHRvIGNyZWF0ZSBEYXRlVGltZXMgd2l0aC4gRG9lcyBub3QgYWZmZWN0IGV4aXN0aW5nIGluc3RhbmNlcy5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgZGVmYXVsdE91dHB1dENhbGVuZGFyKCkge1xuICAgICAgICByZXR1cm4gZGVmYXVsdE91dHB1dENhbGVuZGFyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZGVmYXVsdCBvdXRwdXQgY2FsZW5kYXIgdG8gY3JlYXRlIERhdGVUaW1lcyB3aXRoLiBEb2VzIG5vdCBhZmZlY3QgZXhpc3RpbmcgaW5zdGFuY2VzLlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgc3RhdGljIHNldCBkZWZhdWx0T3V0cHV0Q2FsZW5kYXIob3V0cHV0Q2FsZW5kYXI6IENhbGVuZGFyU3lzdGVtIHwgdW5kZWZpbmVkKSB7XG4gICAgICAgIGRlZmF1bHRPdXRwdXRDYWxlbmRhciA9IG91dHB1dENhbGVuZGFyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB3aGV0aGVyIEx1eG9uIHdpbGwgdGhyb3cgd2hlbiBpdCBlbmNvdW50ZXJzIGludmFsaWQgRGF0ZVRpbWVzLCBEdXJhdGlvbnMsIG9yIEludGVydmFsc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgdGhyb3dPbkludmFsaWQoKSB7XG4gICAgICAgIHJldHVybiB0aHJvd09uSW52YWxpZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgd2hldGhlciBMdXhvbiB3aWxsIHRocm93IHdoZW4gaXQgZW5jb3VudGVycyBpbnZhbGlkIERhdGVUaW1lcywgRHVyYXRpb25zLCBvciBJbnRlcnZhbHNcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBzdGF0aWMgc2V0IHRocm93T25JbnZhbGlkKHQpIHtcbiAgICAgICAgdGhyb3dPbkludmFsaWQgPSB0O1xuICAgIH1cblxuICAgIC8vIE1ldGhvZHNcblxuICAgIC8qKlxuICAgICAqIFJlc2V0IEx1eG9uJ3MgZ2xvYmFsIGNhY2hlcy4gU2hvdWxkIG9ubHkgYmUgbmVjZXNzYXJ5IGluIHRlc3Rpbmcgc2NlbmFyaW9zLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgc3RhdGljIHJlc2V0Q2FjaGVzKCkge1xuICAgICAgICBMb2NhbGUucmVzZXRDYWNoZSgpO1xuICAgICAgICBJQU5BWm9uZS5yZXNldENhY2hlKCk7XG4gICAgfVxuXG59XG4iLCJpbXBvcnQgeyBwYWRTdGFydCwgcm91bmRUbywgaGFzUmVsYXRpdmUgfSBmcm9tIFwiLi91dGlsXCI7XHJcbmltcG9ydCAqIGFzIEVuZ2xpc2ggZnJvbSBcIi4vZW5nbGlzaFwiO1xyXG5pbXBvcnQgeyBTZXR0aW5ncyB9IGZyb20gXCIuLi9zZXR0aW5nc1wiO1xyXG5pbXBvcnQgeyBEYXRlVGltZSB9IGZyb20gXCIuLi9kYXRldGltZVwiO1xyXG5pbXBvcnQgeyBJQU5BWm9uZSB9IGZyb20gXCIuLi96b25lcy9JQU5BWm9uZVwiO1xyXG5pbXBvcnQgSW50bCBmcm9tIFwiLi4vdHlwZXMvaW50bC1uZXh0XCI7XHJcbmltcG9ydCB7IFN0cmluZ1VuaXRMZW5ndGgsIFVuaXRMZW5ndGgsIFdlZWtVbml0TGVuZ3RocyB9IGZyb20gXCIuLi90eXBlcy9jb21tb25cIjtcclxuaW1wb3J0IHsgTG9jYWxlT3B0aW9ucywgTnVtYmVyaW5nU3lzdGVtLCBDYWxlbmRhclN5c3RlbSB9IGZyb20gXCIuLi90eXBlcy9sb2NhbGVcIjtcclxuXHJcbi8vIHRvZG8gLSByZW1hcCBjYWNoaW5nXHJcblxyXG5sZXQgaW50bExGQ2FjaGU6IFJlY29yZDxzdHJpbmcsIEludGwuTGlzdEZvcm1hdD4gPSB7fTtcclxuXHJcbmZ1bmN0aW9uIGdldENhY2hlZExGKGxvY1N0cmluZzogc3RyaW5nLCBvcHRzOiBJbnRsLkxpc3RGb3JtYXRPcHRpb25zID0ge30pIHtcclxuICAgIGNvbnN0IGtleSA9IEpTT04uc3RyaW5naWZ5KFtsb2NTdHJpbmcsIG9wdHNdKTtcclxuICAgIGxldCBkdGYgPSBpbnRsTEZDYWNoZVtrZXldO1xyXG4gICAgaWYgKCFkdGYpIHtcclxuICAgICAgICBkdGYgPSBuZXcgSW50bC5MaXN0Rm9ybWF0KGxvY1N0cmluZywgb3B0cyk7XHJcbiAgICAgICAgaW50bExGQ2FjaGVba2V5XSA9IGR0ZjtcclxuICAgIH1cclxuICAgIHJldHVybiBkdGY7XHJcbn1cclxuXHJcbmxldCBpbnRsRFRDYWNoZTogUmVjb3JkPHN0cmluZywgSW50bC5EYXRlVGltZUZvcm1hdD4gPSB7fTtcclxuXHJcbmZ1bmN0aW9uIGdldENhY2hlZERURihsb2NTdHJpbmc6IHN0cmluZywgb3B0aW9uczogSW50bC5EYXRlVGltZUZvcm1hdE9wdGlvbnMgPSB7fSkge1xyXG4gICAgY29uc3Qga2V5ID0gSlNPTi5zdHJpbmdpZnkoW2xvY1N0cmluZywgb3B0aW9uc10pO1xyXG4gICAgbGV0IGR0ZiA9IGludGxEVENhY2hlW2tleV07XHJcbiAgICBpZiAoIWR0Zikge1xyXG4gICAgICAgIGR0ZiA9IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KGxvY1N0cmluZywgb3B0aW9ucyk7XHJcbiAgICAgICAgaW50bERUQ2FjaGVba2V5XSA9IGR0ZjtcclxuICAgIH1cclxuICAgIHJldHVybiBkdGY7XHJcbn1cclxuXHJcbmxldCBpbnRsTnVtQ2FjaGU6IFJlY29yZDxzdHJpbmcsIEludGwuTnVtYmVyRm9ybWF0PiA9IHt9O1xyXG5cclxuZnVuY3Rpb24gZ2V0Q2FjaGVkSU5GKGxvY1N0cmluZzogc3RyaW5nLCBvcHRpb25zOiBJbnRsLk51bWJlckZvcm1hdE9wdGlvbnMpIHtcclxuICAgIGNvbnN0IGtleSA9IEpTT04uc3RyaW5naWZ5KFtsb2NTdHJpbmcsIG9wdGlvbnNdKTtcclxuICAgIGxldCBpbmYgPSBpbnRsTnVtQ2FjaGVba2V5XTtcclxuICAgIGlmICghaW5mKSB7XHJcbiAgICAgICAgaW5mID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KGxvY1N0cmluZywgb3B0aW9ucyk7XHJcbiAgICAgICAgaW50bE51bUNhY2hlW2tleV0gPSBpbmY7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5mO1xyXG59XHJcblxyXG5sZXQgaW50bFJlbENhY2hlOiBSZWNvcmQ8c3RyaW5nLCBJbnRsLlJlbGF0aXZlVGltZUZvcm1hdD4gPSB7fTtcclxuXHJcbmZ1bmN0aW9uIGdldENhY2hlZFJURihsb2NhbGU6IEludGwuVW5pY29kZUJDUDQ3TG9jYWxlSWRlbnRpZmllciwgb3B0aW9uczogSW50bC5SZWxhdGl2ZVRpbWVGb3JtYXRPcHRpb25zID0ge30pIHtcclxuICAgIGNvbnN0IGtleSA9IEpTT04uc3RyaW5naWZ5KFtsb2NhbGUsIG9wdGlvbnNdKTtcclxuICAgIGxldCBpbmYgPSBpbnRsUmVsQ2FjaGVba2V5XTtcclxuICAgIGlmICghaW5mKSB7XHJcbiAgICAgICAgaW5mID0gbmV3IEludGwuUmVsYXRpdmVUaW1lRm9ybWF0KGxvY2FsZSwgb3B0aW9ucyk7XHJcbiAgICAgICAgaW50bFJlbENhY2hlW2tleV0gPSBpbmY7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5mO1xyXG59XHJcblxyXG5sZXQgc3lzTG9jYWxlQ2FjaGU6IHN0cmluZyB8IHZvaWQ7XHJcblxyXG5mdW5jdGlvbiBzeXN0ZW1Mb2NhbGUoKSB7XHJcbiAgICBpZiAoIXN5c0xvY2FsZUNhY2hlKSB7XHJcbiAgICAgICAgc3lzTG9jYWxlQ2FjaGUgPSBuZXcgSW50bC5EYXRlVGltZUZvcm1hdCgpLnJlc29sdmVkT3B0aW9ucygpLmxvY2FsZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc3lzTG9jYWxlQ2FjaGU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhcnNlTG9jYWxlU3RyaW5nKGxvY2FsZVN0cjogc3RyaW5nKTogW3N0cmluZywgTnVtYmVyaW5nU3lzdGVtPywgQ2FsZW5kYXJTeXN0ZW0/XSB7XHJcbiAgICAvLyBJIHJlYWxseSB3YW50IHRvIGF2b2lkIHdyaXRpbmcgYSBCQ1AgNDcgcGFyc2VyXHJcbiAgICAvLyBzZWUsIGUuZy4gaHR0cHM6Ly9naXRodWIuY29tL3dvb29ybS9iY3AtNDdcclxuICAgIC8vIEluc3RlYWQsIHdlJ2xsIGRvIHRoaXM6XHJcblxyXG4gICAgLy8gYSkgaWYgdGhlIHN0cmluZyBoYXMgbm8gLXUgZXh0ZW5zaW9ucywganVzdCBsZWF2ZSBpdCBhbG9uZVxyXG4gICAgLy8gYikgaWYgaXQgZG9lcywgdXNlIEludGwgdG8gcmVzb2x2ZSBldmVyeXRoaW5nXHJcbiAgICAvLyBjKSBpZiBJbnRsIGZhaWxzLCB0cnkgYWdhaW4gd2l0aG91dCB0aGUgLXVcclxuXHJcbiAgICBjb25zdCB1SW5kZXggPSBsb2NhbGVTdHIuaW5kZXhPZihcIi11LVwiKTtcclxuICAgIGlmICh1SW5kZXggPT09IC0xKSB7XHJcbiAgICAgICAgcmV0dXJuIFtsb2NhbGVTdHJdO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgbGV0IG9wdGlvbnM6IEludGwuUmVzb2x2ZWREYXRlVGltZUZvcm1hdE9wdGlvbnM7XHJcbiAgICAgICAgY29uc3Qgc21hbGxlciA9IGxvY2FsZVN0ci5zdWJzdHJpbmcoMCwgdUluZGV4KTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBvcHRpb25zID0gZ2V0Q2FjaGVkRFRGKGxvY2FsZVN0cikucmVzb2x2ZWRPcHRpb25zKCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBvcHRpb25zID0gZ2V0Q2FjaGVkRFRGKHNtYWxsZXIpLnJlc29sdmVkT3B0aW9ucygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgeyBudW1iZXJpbmdTeXN0ZW0sIGNhbGVuZGFyIH0gPSBvcHRpb25zO1xyXG4gICAgICAgIC8vIHJldHVybiB0aGUgc21hbGxlciBvbmUgc28gdGhhdCB3ZSBjYW4gYXBwZW5kIHRoZSBjYWxlbmRhciBhbmQgbnVtYmVyaW5nIG92ZXJyaWRlcyB0byBpdFxyXG4gICAgICAgIHJldHVybiBbc21hbGxlciwgbnVtYmVyaW5nU3lzdGVtIGFzIE51bWJlcmluZ1N5c3RlbSwgY2FsZW5kYXIgYXMgQ2FsZW5kYXJTeXN0ZW1dO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBpbnRsQ29uZmlnU3RyaW5nKGxvY2FsZVN0cjogc3RyaW5nLCBudW1iZXJpbmdTeXN0ZW0/OiBOdW1iZXJpbmdTeXN0ZW0sIG91dHB1dENhbGVuZGFyPzogQ2FsZW5kYXJTeXN0ZW0pIHtcclxuICAgIGlmIChvdXRwdXRDYWxlbmRhciB8fCBudW1iZXJpbmdTeXN0ZW0pIHtcclxuICAgICAgICBsb2NhbGVTdHIgKz0gXCItdVwiO1xyXG5cclxuICAgICAgICBpZiAob3V0cHV0Q2FsZW5kYXIpIHtcclxuICAgICAgICAgICAgbG9jYWxlU3RyICs9IGAtY2EtJHtvdXRwdXRDYWxlbmRhcn1gO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG51bWJlcmluZ1N5c3RlbSkge1xyXG4gICAgICAgICAgICBsb2NhbGVTdHIgKz0gYC1udS0ke251bWJlcmluZ1N5c3RlbX1gO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbG9jYWxlU3RyO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGxvY2FsZVN0cjtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gbWFwTW9udGhzPFQ+KGY6IChkOiBEYXRlVGltZSkgPT4gVCk6IFRbXSB7XHJcbiAgICBjb25zdCBtcyA9IFtdO1xyXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gMTI7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGR0ID0gRGF0ZVRpbWUudXRjKDIwMTYsIGksIDEpO1xyXG4gICAgICAgIG1zLnB1c2goZihkdCkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG1zO1xyXG59XHJcblxyXG5mdW5jdGlvbiBtYXBXZWVrZGF5czxUPihmOiAoZDogRGF0ZVRpbWUpID0+IFQpOiBUW10ge1xyXG4gICAgY29uc3QgbXMgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDc7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGR0ID0gRGF0ZVRpbWUudXRjKDIwMTYsIDExLCAxMyArIGkpO1xyXG4gICAgICAgIG1zLnB1c2goZihkdCkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG1zO1xyXG59XHJcblxyXG5mdW5jdGlvbiBsaXN0U3R1ZmY8VCBleHRlbmRzIFVuaXRMZW5ndGg+KFxyXG4gICAgbG9jOiBMb2NhbGUsXHJcbiAgICBsZW5ndGg6IFQsXHJcbiAgICBlbmdsaXNoRm46IChsZW5ndGg6IFQpID0+IHN0cmluZ1tdLFxyXG4gICAgaW50bEZuOiAobGVuZ3RoOiBUKSA9PiBzdHJpbmdbXVxyXG4pIHtcclxuICAgIGNvbnN0IG1vZGUgPSBsb2MubGlzdGluZ01vZGUoKTtcclxuXHJcbiAgICAvLyBJbiBMdXhvbiBhIGNoZWNrIG9uIG1vZGUgPT09IFwiZXJyb3JcIiB3YXMga2VwdCwgYnV0IGNvdWxkIG5ldmVyIGJlIHRydWVcclxuICAgIGlmIChtb2RlID09PSBcImVuXCIpIHtcclxuICAgICAgICByZXR1cm4gZW5nbGlzaEZuKGxlbmd0aCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gaW50bEZuKGxlbmd0aCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuXHJcbmNsYXNzIFBvbHlOdW1iZXJGb3JtYXR0ZXIge1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfcGFkVG86IG51bWJlcjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2Zsb29yOiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBfaW5mPzogUmVhZG9ubHk8SW50bC5OdW1iZXJGb3JtYXQ+O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGludGw6IHN0cmluZywgZm9yY2VTaW1wbGU6IGJvb2xlYW4sIG9wdHM6IEludGwuTnVtYmVyRm9ybWF0T3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuX3BhZFRvID0gb3B0cy5wYWRUbyB8fCAwO1xyXG4gICAgICAgIHRoaXMuX2Zsb29yID0gb3B0cy5mbG9vciB8fCBmYWxzZTtcclxuICAgICAgICBjb25zdCB7IHBhZFRvLCBmbG9vciwgLi4ub3RoZXJPcHRzIH0gPSBvcHRzO1xyXG5cclxuICAgICAgICBpZiAoIWZvcmNlU2ltcGxlIHx8IE9iamVjdC5rZXlzKG90aGVyT3B0cykubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBpbnRsT3B0czogSW50bC5OdW1iZXJGb3JtYXRPcHRpb25zID0geyB1c2VHcm91cGluZzogZmFsc2UsIC4uLm9wdHMgfTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3BhZFRvID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaW50bE9wdHMubWluaW11bUludGVnZXJEaWdpdHMgPSBvcHRzLnBhZFRvO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2luZiA9IGdldENhY2hlZElORihpbnRsLCBpbnRsT3B0cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZvcm1hdChpOiBudW1iZXIpIHtcclxuICAgICAgICBpZiAodGhpcy5faW5mKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpeGVkID0gdGhpcy5fZmxvb3IgPyBNYXRoLmZsb29yKGkpIDogaTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luZi5mb3JtYXQoZml4ZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gdG8gbWF0Y2ggdGhlIGJyb3dzZXIncyBudW1iZXJmb3JtYXR0ZXIgZGVmYXVsdHNcclxuICAgICAgICAgICAgY29uc3QgZml4ZWQgPSB0aGlzLl9mbG9vciA/IE1hdGguZmxvb3IoaSkgOiByb3VuZFRvKGksIDMpO1xyXG4gICAgICAgICAgICByZXR1cm4gcGFkU3RhcnQoZml4ZWQsIHRoaXMuX3BhZFRvKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuXHJcbmNsYXNzIFBvbHlEYXRlRm9ybWF0dGVyIHtcclxuICAgIHByaXZhdGUgX29wdHM6IFJlYWRvbmx5PEludGwuRGF0ZVRpbWVGb3JtYXRPcHRpb25zPjtcclxuICAgIHByaXZhdGUgX2R0OiBEYXRlVGltZTtcclxuICAgIHByaXZhdGUgX2R0ZjogUmVhZG9ubHk8SW50bC5EYXRlVGltZUZvcm1hdD47XHJcblxyXG4gICAgY29uc3RydWN0b3IoZHQ6IERhdGVUaW1lLCBpbnRsOiBzdHJpbmcsIG9wdHM6IEludGwuRGF0ZVRpbWVGb3JtYXRPcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5fb3B0cyA9IG9wdHM7XHJcblxyXG4gICAgICAgIGxldCB6O1xyXG4gICAgICAgIGlmIChkdC56b25lLmlzVW5pdmVyc2FsKSB7XHJcbiAgICAgICAgICAgIC8vIFVUQy04IG9yIEV0Yy9VVEMtOCBhcmUgbm90IHBhcnQgb2YgdHpkYXRhLCBvbmx5IEV0Yy9HTVQrOCBhbmQgdGhlIGxpa2UuXHJcbiAgICAgICAgICAgIC8vIFRoYXQgaXMgd2h5IGZpeGVkLW9mZnNldCBUWiBpcyBzZXQgdG8gdGhhdCB1bmxlc3MgaXQgaXM6XHJcbiAgICAgICAgICAgIC8vIDEuIFJlcHJlc2VudGluZyBvZmZzZXQgMCB3aGVuIFVUQyBpcyB1c2VkIHRvIG1haW50YWluIHByZXZpb3VzIGJlaGF2aW9yIGFuZCBkb2VzIG5vdCBiZWNvbWUgR01ULlxyXG4gICAgICAgICAgICAvLyAyLiBVbnN1cHBvcnRlZCBieSB0aGUgYnJvd3NlcjpcclxuICAgICAgICAgICAgLy8gICAgLSBzb21lIGRvIG5vdCBzdXBwb3J0IEV0Yy9cclxuICAgICAgICAgICAgLy8gICAgLSA8IEV0Yy9HTVQtMTQsID4gRXRjL0dNVCsxMiwgYW5kIDMwLW1pbnV0ZSBvciA0NS1taW51dGUgb2Zmc2V0cyBhcmUgbm90IHBhcnQgb2YgdHpkYXRhXHJcbiAgICAgICAgICAgIGNvbnN0IGdtdE9mZnNldCA9IC0xICogKGR0Lm9mZnNldCAvIDYwKTtcclxuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0WiA9IGdtdE9mZnNldCA+PSAwID8gYEV0Yy9HTVQrJHtnbXRPZmZzZXR9YCA6IGBFdGMvR01UJHtnbXRPZmZzZXR9YDtcclxuICAgICAgICAgICAgaWYgKGR0Lm9mZnNldCAhPT0gMCAmJiBJQU5BWm9uZS5jcmVhdGUob2Zmc2V0WikuaXNWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgeiA9IG9mZnNldFo7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kdCA9IGR0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gTm90IGFsbCBmaXhlZC1vZmZzZXQgem9uZXMgbGlrZSBFdGMvKzQ6MzAgYXJlIHByZXNlbnQgaW4gdHpkYXRhLlxyXG4gICAgICAgICAgICAgICAgLy8gU28gd2UgaGF2ZSB0byBtYWtlIGRvLiBUd28gY2FzZXM6XHJcbiAgICAgICAgICAgICAgICAvLyAxLiBUaGUgZm9ybWF0IG9wdGlvbnMgdGVsbCB1cyB0byBzaG93IHRoZSB6b25lLiBXZSBjYW4ndCBkbyB0aGF0LCBzbyB0aGUgYmVzdFxyXG4gICAgICAgICAgICAgICAgLy8gd2UgY2FuIGRvIGlzIGZvcm1hdCB0aGUgZGF0ZSBpbiBVVEMuXHJcbiAgICAgICAgICAgICAgICAvLyAyLiBUaGUgZm9ybWF0IG9wdGlvbnMgZG9uJ3QgdGVsbCB1cyB0byBzaG93IHRoZSB6b25lLiBUaGVuIHdlIGNhbiBhZGp1c3QgdGhlbVxyXG4gICAgICAgICAgICAgICAgLy8gdGhlIHRpbWUgYW5kIHRlbGwgdGhlIGZvcm1hdHRlciB0byBzaG93IGl0IHRvIHVzIGluIFVUQywgc28gdGhhdCB0aGUgdGltZSBpcyByaWdodFxyXG4gICAgICAgICAgICAgICAgLy8gYW5kIHRoZSBiYWQgem9uZSBkb2Vzbid0IHNob3cgdXAuXHJcbiAgICAgICAgICAgICAgICB6ID0gXCJVVENcIjtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRzLnRpbWVab25lTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2R0ID0gZHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kdCA9IGR0Lm9mZnNldCA9PT0gMCA/IGR0IDogRGF0ZVRpbWUuZnJvbU1pbGxpcyhkdC50cyArIGR0Lm9mZnNldCAqIDYwICogMTAwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZHQuem9uZS50eXBlID09PSBcInN5c3RlbVwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2R0ID0gZHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9kdCA9IGR0O1xyXG4gICAgICAgICAgICB6ID0gZHQuem9uZS5uYW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBpbnRsT3B0cyA9IHsgLi4udGhpcy5fb3B0cyB9O1xyXG4gICAgICAgIGlmICh6KSB7XHJcbiAgICAgICAgICAgIGludGxPcHRzLnRpbWVab25lID0gejtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fZHRmID0gZ2V0Q2FjaGVkRFRGKGludGwsIGludGxPcHRzKTtcclxuICAgIH1cclxuXHJcbiAgICBmb3JtYXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2R0Zi5mb3JtYXQodGhpcy5fZHQudG9KU0RhdGUoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9ybWF0VG9QYXJ0cygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZHRmLmZvcm1hdFRvUGFydHModGhpcy5fZHQudG9KU0RhdGUoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzb2x2ZWRPcHRpb25zKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kdGYucmVzb2x2ZWRPcHRpb25zKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuY2xhc3MgUG9seVJlbEZvcm1hdHRlciB7XHJcbiAgICBwcml2YXRlIF9vcHRzOiBSZWFkb25seTxJbnRsLlJlbGF0aXZlVGltZUZvcm1hdE9wdGlvbnM+O1xyXG4gICAgcHJpdmF0ZSBfcnRmPzogUmVhZG9ubHk8SW50bC5SZWxhdGl2ZVRpbWVGb3JtYXQ+O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGxvY2FsZTogSW50bC5Vbmljb2RlQkNQNDdMb2NhbGVJZGVudGlmaWVyLCBpc0VuZ2xpc2g6IGJvb2xlYW4sIG9wdHM6IEludGwuUmVsYXRpdmVUaW1lRm9ybWF0T3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuX29wdHMgPSB7IHN0eWxlOiBcImxvbmdcIiwgLi4ub3B0cyB9O1xyXG4gICAgICAgIGlmICghaXNFbmdsaXNoICYmIGhhc1JlbGF0aXZlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5fcnRmID0gZ2V0Q2FjaGVkUlRGKGxvY2FsZSwgb3B0cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZvcm1hdChjb3VudDogbnVtYmVyLCB1bml0OiBJbnRsLlJlbGF0aXZlVGltZUZvcm1hdFVuaXQpIHtcclxuICAgICAgICBpZiAodGhpcy5fcnRmKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ydGYuZm9ybWF0KGNvdW50LCB1bml0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBFbmdsaXNoLmZvcm1hdFJlbGF0aXZlVGltZShcclxuICAgICAgICAgICAgICAgIHVuaXQsXHJcbiAgICAgICAgICAgICAgICBjb3VudCxcclxuICAgICAgICAgICAgICAgIHRoaXMuX29wdHMubnVtZXJpYyxcclxuICAgICAgICAgICAgICAgIHRoaXMuX29wdHMuc3R5bGUgIT09IFwibG9uZ1wiXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZvcm1hdFRvUGFydHMoY291bnQ6IG51bWJlciwgdW5pdDogSW50bC5SZWxhdGl2ZVRpbWVGb3JtYXRVbml0KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3J0Zikge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcnRmLmZvcm1hdFRvUGFydHMoY291bnQsIHVuaXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuaW50ZXJmYWNlIE1vbnRoQ2FjaGUge1xyXG4gICAgZm9ybWF0OiBQYXJ0aWFsPFJlY29yZDxVbml0TGVuZ3RoLCBzdHJpbmdbXT4+O1xyXG4gICAgc3RhbmRhbG9uZTogUGFydGlhbDxSZWNvcmQ8VW5pdExlbmd0aCwgc3RyaW5nW10+PjtcclxufVxyXG5cclxuaW50ZXJmYWNlIFdlZWtEYXlzQ2FjaGUge1xyXG4gICAgZm9ybWF0OiBQYXJ0aWFsPFJlY29yZDxXZWVrVW5pdExlbmd0aHMsIHN0cmluZ1tdPj47XHJcbiAgICBzdGFuZGFsb25lOiBQYXJ0aWFsPFJlY29yZDxXZWVrVW5pdExlbmd0aHMsIHN0cmluZ1tdPj47XHJcbn1cclxuXHJcbnR5cGUgRXJhQ2FjaGUgPSBQYXJ0aWFsPFJlY29yZDxTdHJpbmdVbml0TGVuZ3RoLCBzdHJpbmdbXT4+O1xyXG5cclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTG9jYWxlIHtcclxuXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIGxvY2FsZTogc3RyaW5nLFxyXG4gICAgICAgIG51bWJlcmluZ1N5c3RlbT86IE51bWJlcmluZ1N5c3RlbSxcclxuICAgICAgICBvdXRwdXRDYWxlbmRhcj86IENhbGVuZGFyU3lzdGVtLFxyXG4gICAgICAgIHNwZWNpZmllZExvY2FsZT86IHN0cmluZ1xyXG4gICAgKSB7XHJcbiAgICAgICAgY29uc3QgW3BhcnNlZExvY2FsZSwgcGFyc2VkTnVtYmVyaW5nU3lzdGVtLCBwYXJzZWRPdXRwdXRDYWxlbmRhcl0gPSBwYXJzZUxvY2FsZVN0cmluZyhsb2NhbGUpO1xyXG5cclxuICAgICAgICB0aGlzLmxvY2FsZSA9IHBhcnNlZExvY2FsZTtcclxuICAgICAgICB0aGlzLm51bWJlcmluZ1N5c3RlbSA9IG51bWJlcmluZ1N5c3RlbSB8fCBwYXJzZWROdW1iZXJpbmdTeXN0ZW07XHJcbiAgICAgICAgdGhpcy5vdXRwdXRDYWxlbmRhciA9IG91dHB1dENhbGVuZGFyIHx8IHBhcnNlZE91dHB1dENhbGVuZGFyO1xyXG4gICAgICAgIHRoaXMuX2ludGwgPSBpbnRsQ29uZmlnU3RyaW5nKHRoaXMubG9jYWxlLCB0aGlzLm51bWJlcmluZ1N5c3RlbSwgdGhpcy5vdXRwdXRDYWxlbmRhcik7XHJcblxyXG4gICAgICAgIHRoaXMuX3dlZWtkYXlzQ2FjaGUgPSB7IGZvcm1hdDoge30sIHN0YW5kYWxvbmU6IHt9IH07XHJcbiAgICAgICAgdGhpcy5fbW9udGhzQ2FjaGUgPSB7IGZvcm1hdDoge30sIHN0YW5kYWxvbmU6IHt9IH07XHJcbiAgICAgICAgdGhpcy5fbWVyaWRpZW1DYWNoZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLl9lcmFDYWNoZSA9IHt9O1xyXG5cclxuICAgICAgICB0aGlzLl9zcGVjaWZpZWRMb2NhbGUgPSBzcGVjaWZpZWRMb2NhbGU7XHJcbiAgICAgICAgdGhpcy5fZmFzdE51bWJlcnNDYWNoZWQgPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGZhc3ROdW1iZXJzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9mYXN0TnVtYmVyc0NhY2hlZCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Zhc3ROdW1iZXJzQ2FjaGVkID0gdGhpcy5fc3VwcG9ydHNGYXN0TnVtYmVycygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Zhc3ROdW1iZXJzQ2FjaGVkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBsb2NhbGU6IHN0cmluZztcclxuICAgIHB1YmxpYyBudW1iZXJpbmdTeXN0ZW0/OiBSZWFkb25seTxOdW1iZXJpbmdTeXN0ZW0+O1xyXG4gICAgcHVibGljIG91dHB1dENhbGVuZGFyPzogUmVhZG9ubHk8Q2FsZW5kYXJTeXN0ZW0+O1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2ludGw6IHN0cmluZztcclxuXHJcbiAgICBwcml2YXRlIF93ZWVrZGF5c0NhY2hlOiBSZWFkb25seTxXZWVrRGF5c0NhY2hlPjtcclxuICAgIHByaXZhdGUgX21vbnRoc0NhY2hlOiBSZWFkb25seTxNb250aENhY2hlPjtcclxuICAgIHByaXZhdGUgX21lcmlkaWVtQ2FjaGU/OiBSZWFkb25seTxzdHJpbmdbXT47XHJcbiAgICBwcml2YXRlIF9lcmFDYWNoZTogRXJhQ2FjaGU7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfc3BlY2lmaWVkTG9jYWxlPzogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBfZmFzdE51bWJlcnNDYWNoZWQ/OiBib29sZWFuO1xyXG5cclxuICAgIHN0YXRpYyBmcm9tT3B0cyhvcHRzOiBMb2NhbGVPcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIExvY2FsZS5jcmVhdGUob3B0cy5sb2NhbGUsIG9wdHMubnVtYmVyaW5nU3lzdGVtLCBvcHRzLm91dHB1dENhbGVuZGFyLCBvcHRzLmRlZmF1bHRUb0VOKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY3JlYXRlKGxvY2FsZT86IHN0cmluZywgbnVtYmVyaW5nU3lzdGVtPzogTnVtYmVyaW5nU3lzdGVtLCBvdXRwdXRDYWxlbmRhcj86IENhbGVuZGFyU3lzdGVtLCBkZWZhdWx0VG9FTiA9ICExKSB7XHJcbiAgICAgICAgY29uc3Qgc3BlY2lmaWVkTG9jYWxlID0gbG9jYWxlIHx8IFNldHRpbmdzLmRlZmF1bHRMb2NhbGUsXHJcbiAgICAgICAgICAgIC8vIHRoZSBzeXN0ZW0gbG9jYWxlIGlzIHVzZWZ1bCBmb3IgaHVtYW4gcmVhZGFibGUgc3RyaW5ncyBidXQgYW5ub3lpbmcgZm9yIHBhcnNpbmcvZm9ybWF0dGluZyBrbm93biBmb3JtYXRzXHJcbiAgICAgICAgICAgIGxvY2FsZVIgPSBzcGVjaWZpZWRMb2NhbGUgfHwgKGRlZmF1bHRUb0VOID8gXCJlbi1VU1wiIDogc3lzdGVtTG9jYWxlKCkpLFxyXG4gICAgICAgICAgICBudW1iZXJpbmdTeXN0ZW1SID0gbnVtYmVyaW5nU3lzdGVtIHx8IFNldHRpbmdzLmRlZmF1bHROdW1iZXJpbmdTeXN0ZW0sXHJcbiAgICAgICAgICAgIG91dHB1dENhbGVuZGFyUiA9IG91dHB1dENhbGVuZGFyIHx8IFNldHRpbmdzLmRlZmF1bHRPdXRwdXRDYWxlbmRhcjtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBMb2NhbGUobG9jYWxlUiwgbnVtYmVyaW5nU3lzdGVtUiwgb3V0cHV0Q2FsZW5kYXJSLCBzcGVjaWZpZWRMb2NhbGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByZXNldENhY2hlKCkge1xyXG4gICAgICAgIHN5c0xvY2FsZUNhY2hlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGludGxMRkNhY2hlID0ge307XHJcbiAgICAgICAgaW50bERUQ2FjaGUgPSB7fTtcclxuICAgICAgICBpbnRsTnVtQ2FjaGUgPSB7fTtcclxuICAgICAgICBpbnRsUmVsQ2FjaGUgPSB7fTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZnJvbU9iamVjdCh7IGxvY2FsZSwgbnVtYmVyaW5nU3lzdGVtLCBvdXRwdXRDYWxlbmRhciB9OiBMb2NhbGVPcHRpb25zID0ge30pIHtcclxuICAgICAgICByZXR1cm4gTG9jYWxlLmNyZWF0ZShsb2NhbGUsIG51bWJlcmluZ1N5c3RlbSwgb3V0cHV0Q2FsZW5kYXIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEluIEx1eG9uIGJvb2xlYW4gcGFyYW0gXCJkZWZhdWx0T0tcIiB3YXMgc3RpbGwgdGhlcmUsIGFsdGhvdWdoIHVudXNlZFxyXG4gICAgbGlzdGluZ01vZGUoKSB7XHJcbiAgICAgICAgY29uc3QgaXNBY3R1YWxseUVuID0gdGhpcy5pc0VuZ2xpc2goKTtcclxuICAgICAgICBjb25zdCBoYXNOb1dlaXJkbmVzcyA9XHJcbiAgICAgICAgICAgICh0aGlzLm51bWJlcmluZ1N5c3RlbSA9PT0gbnVsbCB8fCB0aGlzLm51bWJlcmluZ1N5c3RlbSA9PT0gXCJsYXRuXCIpICYmXHJcbiAgICAgICAgICAgICh0aGlzLm91dHB1dENhbGVuZGFyID09PSBudWxsIHx8IHRoaXMub3V0cHV0Q2FsZW5kYXIgPT09IFwiZ3JlZ29yeVwiKTtcclxuICAgICAgICByZXR1cm4gaXNBY3R1YWxseUVuICYmIGhhc05vV2VpcmRuZXNzID8gXCJlblwiIDogXCJpbnRsXCI7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvbmUoYWx0czogTG9jYWxlT3B0aW9ucyk6IExvY2FsZSB7XHJcbiAgICAgICAgaWYgKCFhbHRzIHx8IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGFsdHMpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBMb2NhbGUuY3JlYXRlKFxyXG4gICAgICAgICAgICAgICAgYWx0cy5sb2NhbGUgfHwgdGhpcy5fc3BlY2lmaWVkTG9jYWxlLFxyXG4gICAgICAgICAgICAgICAgYWx0cy5udW1iZXJpbmdTeXN0ZW0gfHwgdGhpcy5udW1iZXJpbmdTeXN0ZW0sXHJcbiAgICAgICAgICAgICAgICBhbHRzLm91dHB1dENhbGVuZGFyIHx8IHRoaXMub3V0cHV0Q2FsZW5kYXIsXHJcbiAgICAgICAgICAgICAgICBhbHRzLmRlZmF1bHRUb0VOIHx8IGZhbHNlXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlZGVmYXVsdFRvRU4oYWx0czogTG9jYWxlT3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoeyAuLi5hbHRzLCBkZWZhdWx0VG9FTjogdHJ1ZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZWRlZmF1bHRUb1N5c3RlbShhbHRzOiBMb2NhbGVPcHRpb25zID0ge30pOiBMb2NhbGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNsb25lKHsgLi4uYWx0cywgZGVmYXVsdFRvRU46IGZhbHNlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG1vbnRocyhsZW5ndGg6IFVuaXRMZW5ndGgsIGZvcm1hdDogYm9vbGVhbiA9IGZhbHNlKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBsaXN0U3R1ZmYodGhpcywgbGVuZ3RoLCBFbmdsaXNoLm1vbnRocywgbGVuID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaW50bDogSW50bC5EYXRlVGltZUZvcm1hdE9wdGlvbnMgPSBmb3JtYXQgPyB7IG1vbnRoOiBsZW4sIGRheTogXCJudW1lcmljXCIgfSA6IHsgbW9udGg6IGxlbiB9LFxyXG4gICAgICAgICAgICAgICAgZm9ybWF0U3RyID0gZm9ybWF0ID8gXCJmb3JtYXRcIiA6IFwic3RhbmRhbG9uZVwiO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuX21vbnRoc0NhY2hlW2Zvcm1hdFN0cl1bbGVuXSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbW9udGhzQ2FjaGVbZm9ybWF0U3RyXVtsZW5dID0gbWFwTW9udGhzKGR0ID0+IHRoaXMuZXh0cmFjdChkdCwgaW50bCwgXCJtb250aFwiKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc0NhY2hlW2Zvcm1hdFN0cl1bbGVuXSBhcyBzdHJpbmdbXTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB3ZWVrZGF5cyhsZW5ndGg6IFdlZWtVbml0TGVuZ3RocywgZm9ybWF0OiBib29sZWFuID0gZmFsc2UpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIGxpc3RTdHVmZih0aGlzLCBsZW5ndGgsIEVuZ2xpc2gud2Vla2RheXMsIGxlbiA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGludGw6IEludGwuRGF0ZVRpbWVGb3JtYXRPcHRpb25zID0gZm9ybWF0XHJcbiAgICAgICAgICAgICAgICA/IHsgd2Vla2RheTogbGVuLCB5ZWFyOiBcIm51bWVyaWNcIiwgbW9udGg6IFwibG9uZ1wiLCBkYXk6IFwibnVtZXJpY1wiIH1cclxuICAgICAgICAgICAgICAgIDogeyB3ZWVrZGF5OiBsZW4gfTtcclxuICAgICAgICAgICAgY29uc3QgZm9ybWF0U3RyID0gZm9ybWF0ID8gXCJmb3JtYXRcIiA6IFwic3RhbmRhbG9uZVwiO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuX3dlZWtkYXlzQ2FjaGVbZm9ybWF0U3RyXVtsZW5dKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c0NhY2hlW2Zvcm1hdFN0cl1bbGVuXSA9IG1hcFdlZWtkYXlzKGR0ID0+IHRoaXMuZXh0cmFjdChkdCwgaW50bCwgXCJ3ZWVrZGF5XCIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNDYWNoZVtmb3JtYXRTdHJdW2xlbl0gYXMgc3RyaW5nW107XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgbWVyaWRpZW1zKCkge1xyXG4gICAgICAgIHJldHVybiBsaXN0U3R1ZmYoXHJcbiAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgIFwibG9uZ1wiLCAvLyBhcmJpdHJhcnkgdW51c2VkIHZhbHVlXHJcbiAgICAgICAgICAgICgpID0+IEVuZ2xpc2gubWVyaWRpZW1zLFxyXG4gICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBJbiB0aGVvcnkgdGhlcmUgY291bGQgYmUgYXJpYml0cmFyeSBkYXkgcGVyaW9kcy4gV2UncmUgZ29ubmEgYXNzdW1lIHRoZXJlIGFyZSBleGFjdGx5IHR3b1xyXG4gICAgICAgICAgICAgICAgLy8gZm9yIEFNIGFuZCBQTS4gVGhpcyBpcyBwcm9iYWJseSB3cm9uZywgYnV0IGl0IG1ha2VzIHBhcnNpbmcgd2F5IGVhc2llci5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tZXJpZGllbUNhY2hlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tZXJpZGllbUNhY2hlID0gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEYXRlVGltZS51dGMoMjAxNiwgMTEsIDEzLCA5KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGF0ZVRpbWUudXRjKDIwMTYsIDExLCAxMywgMTkpXHJcbiAgICAgICAgICAgICAgICAgICAgXS5tYXAoZHQgPT4gdGhpcy5leHRyYWN0KGR0LCB7IGhvdXI6IFwibnVtZXJpY1wiLCBob3VyQ3ljbGU6IFwiaDEyXCIgfSwgXCJkYXlQZXJpb2RcIikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tZXJpZGllbUNhY2hlIGFzIHN0cmluZ1tdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBlcmFzKGxlbmd0aDogU3RyaW5nVW5pdExlbmd0aCkge1xyXG4gICAgICAgIHJldHVybiBsaXN0U3R1ZmYodGhpcywgbGVuZ3RoLCBFbmdsaXNoLmVyYXMsIGxlbiA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGludGwgPSB7IGVyYTogbGVuIH07XHJcblxyXG4gICAgICAgICAgICAvLyBUaGlzIGlzIHByb2JsZW1hdGljLiBEaWZmZXJlbnQgY2FsZW5kYXJzIGFyZSBnb2luZyB0byBkZWZpbmUgZXJhcyB0b3RhbGx5IGRpZmZlcmVudGx5LiBXaGF0IEkgbmVlZCBpcyB0aGUgbWluaW11bSBzZXQgb2YgZGF0ZXNcclxuICAgICAgICAgICAgLy8gdG8gZGVmaW5pdGVseSBlbnVtZXJhdGUgdGhlbS5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLl9lcmFDYWNoZVtsZW5dKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lcmFDYWNoZVtsZW5dID0gW0RhdGVUaW1lLnV0YygtNDAsIDEsIDEpLCBEYXRlVGltZS51dGMoMjAxNywgMSwgMSldLm1hcChkdCA9PlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXh0cmFjdChkdCwgaW50bCwgXCJlcmFcIilcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9lcmFDYWNoZVtsZW5dIGFzIHN0cmluZ1tdO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGV4dHJhY3QoZHQ6IERhdGVUaW1lLCBpbnRsT3B0aW9uczogSW50bC5EYXRlVGltZUZvcm1hdE9wdGlvbnMsIGZpZWxkOiBJbnRsLkRhdGVUaW1lRm9ybWF0UGFydFR5cGVzKTogc3RyaW5nIHtcclxuICAgICAgICBjb25zdCBkZiA9IHRoaXMuZHRGb3JtYXR0ZXIoZHQsIGludGxPcHRpb25zKSxcclxuICAgICAgICAgICAgcmVzdWx0cyA9IGRmLmZvcm1hdFRvUGFydHMoKSxcclxuICAgICAgICAgICAgbWF0Y2hpbmcgPSByZXN1bHRzLmZpbmQoKG06IEludGwuRGF0ZVRpbWVGb3JtYXRQYXJ0KSA9PiBtLnR5cGUudG9Mb3dlckNhc2UoKSA9PT0gZmllbGQudG9Mb3dlckNhc2UoKSk7XHJcbiAgICAgICAgaWYgKCFtYXRjaGluZykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZXh0cmFjdCBmaWVsZCAke2ZpZWxkfWApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG1hdGNoaW5nLnZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIG51bWJlckZvcm1hdHRlcihvcHRpb25zOiBJbnRsLk51bWJlckZvcm1hdE9wdGlvbnMgPSB7fSk6IFBvbHlOdW1iZXJGb3JtYXR0ZXIge1xyXG4gICAgICAgIHJldHVybiBuZXcgUG9seU51bWJlckZvcm1hdHRlcih0aGlzLl9pbnRsLCB0aGlzLmZhc3ROdW1iZXJzLCBvcHRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICBkdEZvcm1hdHRlcihkdDogRGF0ZVRpbWUsIGludGxPcHRpb25zOiBJbnRsLkRhdGVUaW1lRm9ybWF0T3B0aW9ucyA9IHt9KTogUG9seURhdGVGb3JtYXR0ZXIge1xyXG4gICAgICAgIHJldHVybiBuZXcgUG9seURhdGVGb3JtYXR0ZXIoZHQsIHRoaXMuX2ludGwsIGludGxPcHRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICByZWxGb3JtYXR0ZXIob3B0aW9uczogSW50bC5SZWxhdGl2ZVRpbWVGb3JtYXRPcHRpb25zID0ge30pOiBQb2x5UmVsRm9ybWF0dGVyIHtcclxuICAgICAgICByZXR1cm4gbmV3IFBvbHlSZWxGb3JtYXR0ZXIodGhpcy5faW50bCwgdGhpcy5pc0VuZ2xpc2goKSwgb3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgbGlzdEZvcm1hdHRlcihvcHRzOiBJbnRsLkxpc3RGb3JtYXRPcHRpb25zID0ge30pIHtcclxuICAgICAgICByZXR1cm4gZ2V0Q2FjaGVkTEYodGhpcy5faW50bCwgb3B0cyk7XHJcbiAgICB9XHJcblxyXG4gICAgaXNFbmdsaXNoKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1iaXR3aXNlXHJcbiAgICAgICAgICAgICEhfltcImVuXCIsIFwiZW4tdXNcIl0uaW5kZXhPZih0aGlzLmxvY2FsZS50b0xvd2VyQ2FzZSgpKSB8fFxyXG4gICAgICAgICAgICBuZXcgSW50bC5EYXRlVGltZUZvcm1hdCh0aGlzLl9pbnRsKS5yZXNvbHZlZE9wdGlvbnMoKS5sb2NhbGUuc3RhcnRzV2l0aChcImVuLXVzXCIpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBlcXVhbHMob3RoZXI6IExvY2FsZSkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxlID09PSBvdGhlci5sb2NhbGUgJiZcclxuICAgICAgICAgICAgdGhpcy5udW1iZXJpbmdTeXN0ZW0gPT09IG90aGVyLm51bWJlcmluZ1N5c3RlbSAmJlxyXG4gICAgICAgICAgICB0aGlzLm91dHB1dENhbGVuZGFyID09PSBvdGhlci5vdXRwdXRDYWxlbmRhclxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfc3VwcG9ydHNGYXN0TnVtYmVycygpIHtcclxuICAgICAgICBpZiAodGhpcy5udW1iZXJpbmdTeXN0ZW0gJiYgdGhpcy5udW1iZXJpbmdTeXN0ZW0gIT09IFwibGF0blwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICB0aGlzLm51bWJlcmluZ1N5c3RlbSA9PT0gXCJsYXRuXCIgfHxcclxuICAgICAgICAgICAgICAgICF0aGlzLmxvY2FsZSB8fFxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhbGUuc3RhcnRzV2l0aChcImVuXCIpIHx8XHJcbiAgICAgICAgICAgICAgICBJbnRsLkRhdGVUaW1lRm9ybWF0KHRoaXMuX2ludGwpLnJlc29sdmVkT3B0aW9ucygpLm51bWJlcmluZ1N5c3RlbSA9PT0gXCJsYXRuXCJcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgRW5nbGlzaCBmcm9tIFwiLi9lbmdsaXNoXCI7XG5pbXBvcnQgKiBhcyBGb3JtYXRzIGZyb20gXCIuL2Zvcm1hdHNcIjtcbmltcG9ydCB7IHBhZFN0YXJ0IH0gZnJvbSBcIi4vdXRpbFwiO1xuaW1wb3J0IHsgTG9jYWxlIH0gZnJvbSBcIi4vbG9jYWxlXCI7XG5pbXBvcnQgeyBEYXRlVGltZSB9IGZyb20gXCIuLi9kYXRldGltZVwiO1xuaW1wb3J0IHsgRHVyYXRpb24gfSBmcm9tIFwiLi4vZHVyYXRpb25cIjtcbmltcG9ydCB7IFN0cmluZ1VuaXRMZW5ndGggfSBmcm9tIFwiLi4vdHlwZXMvY29tbW9uXCI7XG5pbXBvcnQgeyBEdXJhdGlvblVuaXQgfSBmcm9tIFwiLi4vdHlwZXMvZHVyYXRpb25cIjtcbmltcG9ydCB7IFpvbmVPZmZzZXRGb3JtYXQgfSBmcm9tIFwiLi4vdHlwZXMvem9uZVwiO1xuaW1wb3J0IEludGwgZnJvbSBcIi4uL3R5cGVzL2ludGwtbmV4dFwiO1xuXG5mdW5jdGlvbiBzdHJpbmdpZnlUb2tlbnMoXG4gICAgc3BsaXRzOiBGb3JtYXRUb2tlbltdLFxuICAgIHRva2VuVG9TdHJpbmc6ICh0b2tlbjogc3RyaW5nKSA9PiBzdHJpbmcgfCB1bmRlZmluZWRcbikge1xuICAgIGxldCBzID0gXCJcIjtcbiAgICBmb3IgKGNvbnN0IHRva2VuIG9mIHNwbGl0cykge1xuICAgICAgICBpZiAodG9rZW4ubGl0ZXJhbCkge1xuICAgICAgICAgICAgcyArPSB0b2tlbi52YWw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzICs9IHRva2VuVG9TdHJpbmcodG9rZW4udmFsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcztcbn1cblxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5hbWluZy1jb252ZW50aW9uXG5jb25zdCBUb2tlblRvRm9ybWF0T3B0czogUmVjb3JkPHN0cmluZywgSW50bC5EYXRlVGltZUZvcm1hdE9wdGlvbnM+ID0ge1xuICAgIEQ6IEZvcm1hdHMuREFURV9TSE9SVCxcbiAgICBERDogRm9ybWF0cy5EQVRFX01FRCxcbiAgICBEREQ6IEZvcm1hdHMuREFURV9GVUxMLFxuICAgIEREREQ6IEZvcm1hdHMuREFURV9IVUdFLFxuICAgIHQ6IEZvcm1hdHMuVElNRV9TSU1QTEUsXG4gICAgdHQ6IEZvcm1hdHMuVElNRV9XSVRIX1NFQ09ORFMsXG4gICAgdHR0OiBGb3JtYXRzLlRJTUVfV0lUSF9TSE9SVF9PRkZTRVQsXG4gICAgdHR0dDogRm9ybWF0cy5USU1FX1dJVEhfTE9OR19PRkZTRVQsXG4gICAgVDogRm9ybWF0cy5USU1FXzI0X1NJTVBMRSxcbiAgICBUVDogRm9ybWF0cy5USU1FXzI0X1dJVEhfU0VDT05EUyxcbiAgICBUVFQ6IEZvcm1hdHMuVElNRV8yNF9XSVRIX1NIT1JUX09GRlNFVCxcbiAgICBUVFRUOiBGb3JtYXRzLlRJTUVfMjRfV0lUSF9MT05HX09GRlNFVCxcbiAgICBmOiBGb3JtYXRzLkRBVEVUSU1FX1NIT1JULFxuICAgIGZmOiBGb3JtYXRzLkRBVEVUSU1FX01FRCxcbiAgICBmZmY6IEZvcm1hdHMuREFURVRJTUVfRlVMTCxcbiAgICBmZmZmOiBGb3JtYXRzLkRBVEVUSU1FX0hVR0UsXG4gICAgRjogRm9ybWF0cy5EQVRFVElNRV9TSE9SVF9XSVRIX1NFQ09ORFMsXG4gICAgRkY6IEZvcm1hdHMuREFURVRJTUVfTUVEX1dJVEhfU0VDT05EUyxcbiAgICBGRkY6IEZvcm1hdHMuREFURVRJTUVfRlVMTF9XSVRIX1NFQ09ORFMsXG4gICAgRkZGRjogRm9ybWF0cy5EQVRFVElNRV9IVUdFX1dJVEhfU0VDT05EU1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBGb3JtYXRUb2tlbiB7XG4gICAgbGl0ZXJhbDogYm9vbGVhbjtcbiAgICB2YWw6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIEZvcm1hdHRlck9wdGlvbnMgZXh0ZW5kcyBJbnRsLkRhdGVUaW1lRm9ybWF0T3B0aW9ucyB7XG4gICAgYWxsb3daPzogYm9vbGVhbjtcbiAgICBmb3JjZVNpbXBsZT86IGJvb2xlYW47XG4gICAgZm9ybWF0PzogWm9uZU9mZnNldEZvcm1hdDtcbiAgICBwYWRUbz86IG51bWJlcjtcbiAgICBmbG9vcj86IGJvb2xlYW47XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuXG5leHBvcnQgY2xhc3MgRm9ybWF0dGVyIHtcbiAgICAvLyBQcml2YXRlIHJlYWRvbmx5IGZpZWxkc1xuICAgIHByaXZhdGUgX29wdHM6IFJlYWRvbmx5PEZvcm1hdHRlck9wdGlvbnM+O1xuICAgIHByaXZhdGUgX2xvYzogTG9jYWxlO1xuICAgIHByaXZhdGUgX3N5c3RlbUxvYz86IExvY2FsZTtcblxuICAgIHN0YXRpYyBjcmVhdGUobG9jYWxlOiBMb2NhbGUsIG9wdGlvbnM6IEZvcm1hdHRlck9wdGlvbnMgPSB7fSkge1xuICAgICAgICByZXR1cm4gbmV3IEZvcm1hdHRlcihsb2NhbGUsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBwYXJzZUZvcm1hdChmbXQ6IHN0cmluZykge1xuICAgICAgICBsZXQgY3VycmVudCA9IG51bGwsXG4gICAgICAgICAgICBjdXJyZW50RnVsbCA9IFwiXCIsXG4gICAgICAgICAgICBicmFja2V0ZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3Qgc3BsaXRzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm10Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjID0gZm10LmNoYXJBdChpKTtcbiAgICAgICAgICAgIGlmIChjID09PSBcIidcIikge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50RnVsbC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwbGl0cy5wdXNoKHsgbGl0ZXJhbDogYnJhY2tldGVkLCB2YWw6IGN1cnJlbnRGdWxsIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjdXJyZW50RnVsbCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgYnJhY2tldGVkID0gIWJyYWNrZXRlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJyYWNrZXRlZCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRGdWxsICs9IGM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjID09PSBjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgY3VycmVudEZ1bGwgKz0gYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50RnVsbC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwbGl0cy5wdXNoKHsgbGl0ZXJhbDogZmFsc2UsIHZhbDogY3VycmVudEZ1bGwgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1cnJlbnRGdWxsID0gYztcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdXJyZW50RnVsbC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzcGxpdHMucHVzaCh7IGxpdGVyYWw6IGJyYWNrZXRlZCwgdmFsOiBjdXJyZW50RnVsbCB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzcGxpdHM7XG4gICAgfVxuXG4gICAgc3RhdGljIG1hY3JvVG9rZW5Ub0Zvcm1hdE9wdHModG9rZW46IHN0cmluZykge1xuICAgICAgICByZXR1cm4gVG9rZW5Ub0Zvcm1hdE9wdHNbdG9rZW5dO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKGxvY2FsZTogTG9jYWxlLCBmb3JtYXRPcHRpb25zOiBGb3JtYXR0ZXJPcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX29wdHMgPSBmb3JtYXRPcHRpb25zO1xuICAgICAgICB0aGlzLl9sb2MgPSBsb2NhbGU7XG4gICAgICAgIHRoaXMuX3N5c3RlbUxvYyA9IHZvaWQgMDtcbiAgICB9XG5cbiAgICBmb3JtYXRXaXRoU3lzdGVtRGVmYXVsdChkdDogRGF0ZVRpbWUsIG9wdHM6IEludGwuRGF0ZVRpbWVGb3JtYXRPcHRpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLl9zeXN0ZW1Mb2MgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdGhpcy5fc3lzdGVtTG9jID0gdGhpcy5fbG9jLnJlZGVmYXVsdFRvU3lzdGVtKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGYgPSB0aGlzLl9zeXN0ZW1Mb2MuZHRGb3JtYXR0ZXIoZHQsIHsgLi4udGhpcy5fb3B0cywgLi4ub3B0cyB9KTtcbiAgICAgICAgcmV0dXJuIGRmLmZvcm1hdCgpO1xuICAgIH1cblxuICAgIGZvcm1hdERhdGVUaW1lKGR0OiBEYXRlVGltZSwgb3B0czogSW50bC5EYXRlVGltZUZvcm1hdE9wdGlvbnMgPSB7fSk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGRmID0gdGhpcy5fbG9jLmR0Rm9ybWF0dGVyKGR0LCB7IC4uLnRoaXMuX29wdHMsIC4uLm9wdHMgfSk7XG4gICAgICAgIHJldHVybiBkZi5mb3JtYXQoKTtcbiAgICB9XG5cbiAgICBmb3JtYXREYXRlVGltZVBhcnRzKGR0OiBEYXRlVGltZSwgb3B0czogSW50bC5EYXRlVGltZUZvcm1hdE9wdGlvbnMgPSB7fSkge1xuICAgICAgICBjb25zdCBkZiA9IHRoaXMuX2xvYy5kdEZvcm1hdHRlcihkdCwgeyAuLi50aGlzLl9vcHRzLCAuLi5vcHRzIH0pO1xuICAgICAgICByZXR1cm4gZGYuZm9ybWF0VG9QYXJ0cygpO1xuICAgIH1cblxuICAgIHJlc29sdmVkT3B0aW9ucyhkdDogRGF0ZVRpbWUsIG9wdHM6IEludGwuRGF0ZVRpbWVGb3JtYXRPcHRpb25zID0ge30pIHtcbiAgICAgICAgY29uc3QgZGYgPSB0aGlzLl9sb2MuZHRGb3JtYXR0ZXIoZHQsIHsgLi4udGhpcy5fb3B0cywgLi4ub3B0cyB9KTtcbiAgICAgICAgcmV0dXJuIGRmLnJlc29sdmVkT3B0aW9ucygpO1xuICAgIH1cblxuICAgIG51bShuOiBudW1iZXIsIHAgPSAwKSB7XG4gICAgICAgIC8vIHdlIGdldCBzb21lIHBlcmYgb3V0IG9mIGRvaW5nIHRoaXMgaGVyZSwgYW5ub3lpbmdseVxuICAgICAgICBpZiAodGhpcy5fb3B0cy5mb3JjZVNpbXBsZSkge1xuXG4gICAgICAgICAgICByZXR1cm4gcGFkU3RhcnQobiwgcCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3B0cyA9IHsgLi4udGhpcy5fb3B0cyB9O1xuICAgICAgICBpZiAocCA+IDApIHtcbiAgICAgICAgICAgIG9wdHMucGFkVG8gPSBwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYy5udW1iZXJGb3JtYXR0ZXIob3B0cykuZm9ybWF0KG4pO1xuICAgIH1cblxuICAgIGZvcm1hdERhdGVUaW1lRnJvbVN0cmluZyhkdDogRGF0ZVRpbWUsIGZtdDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3Qga25vd25FbmdsaXNoID0gdGhpcy5fbG9jLmxpc3RpbmdNb2RlKCkgPT09IFwiZW5cIixcbiAgICAgICAgICAgIHVzZURhdGVUaW1lRm9ybWF0dGVyID0gdGhpcy5fbG9jLm91dHB1dENhbGVuZGFyICYmIHRoaXMuX2xvYy5vdXRwdXRDYWxlbmRhciAhPT0gXCJncmVnb3J5XCIsXG4gICAgICAgICAgICBzdHJpbmcgPSAob3B0czogSW50bC5EYXRlVGltZUZvcm1hdE9wdGlvbnMsIGV4dHJhY3Q6IEludGwuRGF0ZVRpbWVGb3JtYXRQYXJ0VHlwZXMpID0+IHRoaXMuX2xvYy5leHRyYWN0KGR0LCBvcHRzLCBleHRyYWN0KSxcbiAgICAgICAgICAgIGZvcm1hdE9mZnNldCA9IChvcHRzOiBGb3JtYXR0ZXJPcHRpb25zICYgeyBmb3JtYXQ6IFpvbmVPZmZzZXRGb3JtYXQgfSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChkdC5pc09mZnNldEZpeGVkICYmIGR0Lm9mZnNldCA9PT0gMCAmJiBvcHRzLmFsbG93Wikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJaXCI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGR0LmlzVmFsaWQgPyBkdC56b25lLmZvcm1hdE9mZnNldChkdC50cywgb3B0cy5mb3JtYXQpIDogXCJcIjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtZXJpZGllbSA9ICgpID0+XG4gICAgICAgICAgICAgICAga25vd25FbmdsaXNoXG4gICAgICAgICAgICAgICAgICAgID8gRW5nbGlzaC5tZXJpZGllbUZvckRhdGVUaW1lKGR0KVxuICAgICAgICAgICAgICAgICAgICA6IHN0cmluZyh7IGhvdXI6IFwibnVtZXJpY1wiLCBob3VyQ3ljbGU6IFwiaDEyXCIgfSwgXCJkYXlQZXJpb2RcIiksXG4gICAgICAgICAgICBtb250aCA9IChsZW5ndGg6IFN0cmluZ1VuaXRMZW5ndGgsIHN0YW5kYWxvbmU6IGJvb2xlYW4pID0+XG4gICAgICAgICAgICAgICAga25vd25FbmdsaXNoXG4gICAgICAgICAgICAgICAgICAgID8gRW5nbGlzaC5tb250aEZvckRhdGVUaW1lKGR0LCBsZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIDogc3RyaW5nKHN0YW5kYWxvbmUgPyB7IG1vbnRoOiBsZW5ndGggfSA6IHsgbW9udGg6IGxlbmd0aCwgZGF5OiBcIm51bWVyaWNcIiB9LCBcIm1vbnRoXCIpLFxuICAgICAgICAgICAgd2Vla2RheSA9IChsZW5ndGg6IFN0cmluZ1VuaXRMZW5ndGgsIHN0YW5kYWxvbmU6IGJvb2xlYW4pID0+XG4gICAgICAgICAgICAgICAga25vd25FbmdsaXNoXG4gICAgICAgICAgICAgICAgICAgID8gRW5nbGlzaC53ZWVrZGF5Rm9yRGF0ZVRpbWUoZHQsIGxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgOiBzdHJpbmcoXG4gICAgICAgICAgICAgICAgICAgIHN0YW5kYWxvbmUgPyB7IHdlZWtkYXk6IGxlbmd0aCB9IDogeyB3ZWVrZGF5OiBsZW5ndGgsIG1vbnRoOiBcImxvbmdcIiwgZGF5OiBcIm51bWVyaWNcIiB9LFxuICAgICAgICAgICAgICAgICAgICBcIndlZWtkYXlcIlxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgbWF5YmVNYWNybyA9ICh0b2tlbjogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZm9ybWF0T3B0cyA9IEZvcm1hdHRlci5tYWNyb1Rva2VuVG9Gb3JtYXRPcHRzKHRva2VuKTtcbiAgICAgICAgICAgICAgICBpZiAoZm9ybWF0T3B0cykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXRXaXRoU3lzdGVtRGVmYXVsdChkdCwgZm9ybWF0T3B0cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVyYSA9IChsZW5ndGg6IFN0cmluZ1VuaXRMZW5ndGgpID0+XG4gICAgICAgICAgICAgICAga25vd25FbmdsaXNoID8gRW5nbGlzaC5lcmFGb3JEYXRlVGltZShkdCwgbGVuZ3RoKSA6IHN0cmluZyh7IGVyYTogbGVuZ3RoIH0sIFwiZXJhXCIpLFxuICAgICAgICAgICAgdG9rZW5Ub1N0cmluZyA9ICh0b2tlbjogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICAgICAgICAgICAgICAvLyBXaGVyZSBwb3NzaWJsZTogaHR0cDovL2NsZHIudW5pY29kZS5vcmcvdHJhbnNsYXRpb24vZGF0ZS10aW1lLTEvZGF0ZS10aW1lI1RPQy1TdGFuZGFsb25lLXZzLi1Gb3JtYXQtU3R5bGVzXG4gICAgICAgICAgICAgICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgICAgICAgICAgICAgICAvLyBtc1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubnVtKGR0Lm1pbGxpc2Vjb25kKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVcIjpcbiAgICAgICAgICAgICAgICAgICAgLy8gZmFsbHMgdGhyb3VnaFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU1NTXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5udW0oZHQubWlsbGlzZWNvbmQsIDMpO1xuICAgICAgICAgICAgICAgICAgICAvLyBzZWNvbmRzXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5udW0oZHQuc2Vjb25kKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5udW0oZHQuc2Vjb25kLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZnJhY3Rpb25hbCBzZWNvbmRzXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1dVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubnVtKE1hdGguZmxvb3IoZHQubWlsbGlzZWNvbmQgLyAxMCksIDIpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidXV1XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5udW0oTWF0aC5mbG9vcihkdC5taWxsaXNlY29uZCAvIDEwMCkpO1xuICAgICAgICAgICAgICAgICAgICAvLyBtaW51dGVzXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5udW0oZHQubWludXRlKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1tXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5udW0oZHQubWludXRlLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gaG91cnNcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImhcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm51bShkdC5ob3VyICUgMTIgPT09IDAgPyAxMiA6IGR0LmhvdXIgJSAxMik7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJoaFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubnVtKGR0LmhvdXIgJSAxMiA9PT0gMCA/IDEyIDogZHQuaG91ciAlIDEyLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm51bShkdC5ob3VyKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhIXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5udW0oZHQuaG91ciwgMik7XG4gICAgICAgICAgICAgICAgICAgIC8vIG9mZnNldFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiWlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGlrZSArNlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdE9mZnNldCh7IGZvcm1hdDogXCJuYXJyb3dcIiwgYWxsb3daOiB0aGlzLl9vcHRzLmFsbG93WiB9KTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlpaXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsaWtlICswNjowMFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdE9mZnNldCh7IGZvcm1hdDogXCJzaG9ydFwiLCBhbGxvd1o6IHRoaXMuX29wdHMuYWxsb3daIH0pO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiWlpaXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsaWtlICswNjAwXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0T2Zmc2V0KHsgZm9ybWF0OiBcInRlY2hpZVwiLCBhbGxvd1o6IHRoaXMuX29wdHMuYWxsb3daIH0pO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiWlpaWlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGlrZSBFU1RcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkdC56b25lLm9mZnNldE5hbWUoZHQudHMsIHsgZm9ybWF0OiBcInNob3J0XCIsIGxvY2FsZTogdGhpcy5fbG9jLmxvY2FsZSB9KSB8fCBcIlwiO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiWlpaWlpcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxpa2UgRWFzdGVybiBTdGFuZGFyZCBUaW1lXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZHQuem9uZS5vZmZzZXROYW1lKGR0LnRzLCB7IGZvcm1hdDogXCJsb25nXCIsIGxvY2FsZTogdGhpcy5fbG9jLmxvY2FsZSB9KSB8fCBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAvLyB6b25lXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ6XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsaWtlIEFtZXJpY2EvTmV3X1lvcmtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkdC56b25lTmFtZSB8fCBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAvLyBtZXJpZGllbXNcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImFcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXJpZGllbSgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBkYXRlc1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVzZURhdGVUaW1lRm9ybWF0dGVyID8gc3RyaW5nKHsgZGF5OiBcIm51bWVyaWNcIiB9LCBcImRheVwiKSA6IHRoaXMubnVtKGR0LmRheSk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJkZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVzZURhdGVUaW1lRm9ybWF0dGVyID8gc3RyaW5nKHsgZGF5OiBcIjItZGlnaXRcIiB9LCBcImRheVwiKSA6IHRoaXMubnVtKGR0LmRheSwgMik7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdlZWtkYXlzIC0gc3RhbmRhbG9uZVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGlrZSAxXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5udW0oZHQud2Vla2RheSk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjY2NcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxpa2UgJ1R1ZXMnXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2Vla2RheShcInNob3J0XCIsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY2NjY1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGlrZSAnVHVlc2RheSdcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3ZWVrZGF5KFwibG9uZ1wiLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNjY2NjXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsaWtlICdUJ1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdlZWtkYXkoXCJuYXJyb3dcIiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdlZWtkYXlzIC0gZm9ybWF0XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJFXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsaWtlIDFcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm51bShkdC53ZWVrZGF5KTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkVFRVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGlrZSAnVHVlcydcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3ZWVrZGF5KFwic2hvcnRcIiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiRUVFRVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGlrZSAnVHVlc2RheSdcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3ZWVrZGF5KFwibG9uZ1wiLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJFRUVFRVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGlrZSAnVCdcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3ZWVrZGF5KFwibmFycm93XCIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gbW9udGhzIC0gc3RhbmRhbG9uZVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGlrZSAxXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXNlRGF0ZVRpbWVGb3JtYXR0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHN0cmluZyh7IG1vbnRoOiBcIm51bWVyaWNcIiwgZGF5OiBcIm51bWVyaWNcIiB9LCBcIm1vbnRoXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLm51bShkdC5tb250aCk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJMTFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGlrZSAwMSwgZG9lc24ndCBzZWVtIHRvIHdvcmtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1c2VEYXRlVGltZUZvcm1hdHRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc3RyaW5nKHsgbW9udGg6IFwiMi1kaWdpdFwiLCBkYXk6IFwibnVtZXJpY1wiIH0sIFwibW9udGhcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMubnVtKGR0Lm1vbnRoLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkxMTFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGlrZSBKYW5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtb250aChcInNob3J0XCIsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTExMTFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGlrZSBKYW51YXJ5XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9udGgoXCJsb25nXCIsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTExMTExcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxpa2UgSlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vbnRoKFwibmFycm93XCIsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAvLyBtb250aHMgLSBmb3JtYXRcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxpa2UgMVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVzZURhdGVUaW1lRm9ybWF0dGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzdHJpbmcoeyBtb250aDogXCJudW1lcmljXCIgfSwgXCJtb250aFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5udW0oZHQubW9udGgpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTU1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxpa2UgMDFcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1c2VEYXRlVGltZUZvcm1hdHRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc3RyaW5nKHsgbW9udGg6IFwiMi1kaWdpdFwiIH0sIFwibW9udGhcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMubnVtKGR0Lm1vbnRoLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk1NTVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGlrZSBKYW5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtb250aChcInNob3J0XCIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk1NTU1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxpa2UgSmFudWFyeVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vbnRoKFwibG9uZ1wiLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJNTU1NTVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGlrZSBKXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9udGgoXCJuYXJyb3dcIiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAvLyB5ZWFyc1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwieVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGlrZSAyMDE0XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXNlRGF0ZVRpbWVGb3JtYXR0ZXIgPyBzdHJpbmcoeyB5ZWFyOiBcIm51bWVyaWNcIiB9LCBcInllYXJcIikgOiB0aGlzLm51bShkdC55ZWFyKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInl5XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsaWtlIDE0XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXNlRGF0ZVRpbWVGb3JtYXR0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHN0cmluZyh7IHllYXI6IFwiMi1kaWdpdFwiIH0sIFwieWVhclwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5udW0ocGFyc2VJbnQoZHQueWVhci50b1N0cmluZygpLnNsaWNlKC0yKSwgMTApLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInl5eXlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxpa2UgMDAxMlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVzZURhdGVUaW1lRm9ybWF0dGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzdHJpbmcoeyB5ZWFyOiBcIm51bWVyaWNcIiB9LCBcInllYXJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMubnVtKGR0LnllYXIsIDQpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwieXl5eXl5XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsaWtlIDAwMDAxMlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVzZURhdGVUaW1lRm9ybWF0dGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzdHJpbmcoeyB5ZWFyOiBcIm51bWVyaWNcIiB9LCBcInllYXJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMubnVtKGR0LnllYXIsIDYpO1xuICAgICAgICAgICAgICAgICAgICAvLyBlcmFzXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsaWtlIEFEXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXJhKFwic2hvcnRcIik7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHR1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGlrZSBBbm5vIERvbWluaVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVyYShcImxvbmdcIik7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHR0dHR1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVyYShcIm5hcnJvd1wiKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImtrXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5udW0ocGFyc2VJbnQoZHQud2Vla1llYXIudG9TdHJpbmcoKS5zbGljZSgtMiksIDEwKSwgMik7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJra2trXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5udW0oZHQud2Vla1llYXIsIDQpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiV1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubnVtKGR0LndlZWtOdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiV1dcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm51bShkdC53ZWVrTnVtYmVyLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm9cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm51bShkdC5vcmRpbmFsKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm9vb1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubnVtKGR0Lm9yZGluYWwsIDMpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGlrZSAxXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5udW0oZHQucXVhcnRlcik7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJxcVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGlrZSAwMVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubnVtKGR0LnF1YXJ0ZXIsIDIpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiWFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubnVtKE1hdGguZmxvb3IoZHQudHMgLyAxMDAwKSk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ4XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5udW0oZHQudHMpO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1heWJlTWFjcm8odG9rZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHN0cmluZ2lmeVRva2VucyhGb3JtYXR0ZXIucGFyc2VGb3JtYXQoZm10KSwgdG9rZW5Ub1N0cmluZyk7XG4gICAgfVxuXG4gICAgZm9ybWF0RHVyYXRpb25Gcm9tU3RyaW5nKGR1cjogRHVyYXRpb24sIGZvcm1hdDogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IHRva2VuVG9GaWVsZCA9ICh0b2tlbjogc3RyaW5nKTogRHVyYXRpb25Vbml0IHwgdW5kZWZpbmVkID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAodG9rZW5bMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiU1wiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJtaWxsaXNlY29uZHNcIjtcbiAgICAgICAgICAgICAgICBjYXNlIFwic1wiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJzZWNvbmRzXCI7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm1cIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibWludXRlc1wiO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJoXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImhvdXJzXCI7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiZGF5c1wiO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJNXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm1vbnRoc1wiO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ5XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcInllYXJzXCI7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgdG9rZW5Ub1N0cmluZyA9IChsaWxkdXI6IER1cmF0aW9uKSA9PiAodG9rZW46IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWFwcGVkID0gdG9rZW5Ub0ZpZWxkKHRva2VuKTtcbiAgICAgICAgICAgIGlmIChtYXBwZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5udW0obGlsZHVyLmdldChtYXBwZWQpLCB0b2tlbi5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB0b2tlbnMgPSBGb3JtYXR0ZXIucGFyc2VGb3JtYXQoZm9ybWF0KTtcbiAgICAgICAgY29uc3QgcmVhbFRva2VucyA9IHRva2Vucy5yZWR1Y2U8c3RyaW5nW10+KChmb3VuZCwge1xuICAgICAgICAgICAgbGl0ZXJhbCxcbiAgICAgICAgICAgIHZhbFxuICAgICAgICB9KSA9PiAobGl0ZXJhbCA/IGZvdW5kIDogZm91bmQuY29uY2F0KHZhbCkpLCBbXSk7XG4gICAgICAgIGNvbnN0IGNvbGxhcHNlZCA9IGR1ci5zaGlmdFRvKC4uLihyZWFsVG9rZW5zLm1hcCh0b2tlblRvRmllbGQpLmZpbHRlcigodCkgPT4gISF0KSBhcyBEdXJhdGlvblVuaXRbXSkpO1xuXG4gICAgICAgIHJldHVybiBzdHJpbmdpZnlUb2tlbnModG9rZW5zLCB0b2tlblRvU3RyaW5nKGNvbGxhcHNlZCkpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7XG4gICAgdW50cnVuY2F0ZVllYXIsXG4gICAgc2lnbmVkT2Zmc2V0LFxuICAgIHBhcnNlSW50ZWdlcixcbiAgICBwYXJzZU1pbGxpcyxcbiAgICBJQU5BX1JFR0VYLFxuICAgIGlzVW5kZWZpbmVkLFxuICAgIHBhcnNlRmxvYXRpbmdcbn0gZnJvbSBcIi4vdXRpbFwiO1xuaW1wb3J0ICogYXMgRW5nbGlzaCBmcm9tIFwiLi9lbmdsaXNoXCI7XG5pbXBvcnQgeyBGaXhlZE9mZnNldFpvbmUgfSBmcm9tIFwiLi4vem9uZXMvZml4ZWRPZmZzZXRab25lXCI7XG5pbXBvcnQgeyBJQU5BWm9uZSB9IGZyb20gXCIuLi96b25lcy9JQU5BWm9uZVwiO1xuaW1wb3J0IHsgWm9uZSB9IGZyb20gXCIuLi96b25lXCI7XG5pbXBvcnQgeyBHZW5lcmljRGF0ZVRpbWUgfSBmcm9tIFwiLi4vdHlwZXMvZGF0ZXRpbWVcIjtcblxuLypcbiAqIFRoaXMgZmlsZSBoYW5kbGVzIHBhcnNpbmcgZm9yIHdlbGwtc3BlY2lmaWVkIGZvcm1hdHMuIEhlcmUncyBob3cgaXQgd29ya3M6XG4gKiBUd28gdGhpbmdzIGdvIGludG8gcGFyc2luZzogYSByZWdleCB0byBtYXRjaCB3aXRoIGFuZCBhbiBleHRyYWN0b3IgdG8gdGFrZSBhcGFydCB0aGUgZ3JvdXBzIGluIHRoZSBtYXRjaC5cbiAqIEFuIGV4dHJhY3RvciBpcyBqdXN0IGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIHJlZ2V4IG1hdGNoIGFycmF5IGFuZCByZXR1cm5zIGEgeyB5ZWFyOiAuLi4sIG1vbnRoOiAuLi4gfSBvYmplY3RcbiAqIHBhcnNlKCkgZG9lcyB0aGUgd29yayBvZiBleGVjdXRpbmcgdGhlIHJlZ2V4IGFuZCBhcHBseWluZyB0aGUgZXh0cmFjdG9yLiBJdCB0YWtlcyBtdWx0aXBsZSByZWdleC9leHRyYWN0b3IgcGFpcnMgdG8gdHJ5IGluIHNlcXVlbmNlLlxuICogRXh0cmFjdG9ycyBjYW4gdGFrZSBhIFwiY3Vyc29yXCIgcmVwcmVzZW50aW5nIHRoZSBvZmZzZXQgaW4gdGhlIG1hdGNoIHRvIGxvb2sgYXQuIFRoaXMgbWFrZXMgaXQgZWFzeSB0byBjb21iaW5lIGV4dHJhY3RvcnMuXG4gKiBjb21iaW5lRXh0cmFjdG9ycygpIGRvZXMgdGhlIHdvcmsgb2YgY29tYmluaW5nIHRoZW0sIGtlZXBpbmcgdHJhY2sgb2YgdGhlIGN1cnNvciB0aHJvdWdoIG11bHRpcGxlIGV4dHJhY3Rpb25zLlxuICogU29tZSBleHRyYWN0aW9ucyBhcmUgc3VwZXIgZHVtYiBhbmQgc2ltcGxlUGFyc2UgYW5kIGZyb21TdHJpbmdzIGhlbHAgRFJZIHRoZW0uXG4gKi9cblxudHlwZSBQYXJzZVJlc3VsdCA9IFtHZW5lcmljRGF0ZVRpbWUgfCBudWxsLCBab25lIHwgbnVsbF07XG50eXBlIEV4dHJhY3RvciA9IChtYXRjaDogUmVnRXhwRXhlY0FycmF5KSA9PiBQYXJzZVJlc3VsdDtcbnR5cGUgQ29tYmluYWJsZVBhcnNlUmVzdWx0ID0gW0dlbmVyaWNEYXRlVGltZSB8IG51bGwsIFpvbmUgfCBudWxsLCBudW1iZXJdO1xudHlwZSBDb21iaW5hYmxlRXh0cmFjdG9yID0gKG1hdGNoOiBSZWdFeHBFeGVjQXJyYXksIGN1cnNvcjogbnVtYmVyKSA9PiBDb21iaW5hYmxlUGFyc2VSZXN1bHQ7XG50eXBlIFBhcnNlUGF0dGVybiA9IFtSZWdFeHAsIEV4dHJhY3Rvcl07XG5cbmZ1bmN0aW9uIGNvbWJpbmVSZWdleGVzKC4uLnJlZ2V4ZXM6IFJlZ0V4cFtdKSB7XG4gICAgY29uc3QgZnVsbCA9IHJlZ2V4ZXMucmVkdWNlKChmLCByKSA9PiBmICsgci5zb3VyY2UsIFwiXCIpO1xuICAgIHJldHVybiBSZWdFeHAoYF4ke2Z1bGx9JGApO1xufVxuXG5mdW5jdGlvbiBjb21iaW5lRXh0cmFjdG9ycyguLi5leHRyYWN0b3JzOiBDb21iaW5hYmxlRXh0cmFjdG9yW10pIHtcblxuICAgIHJldHVybiAobTogUmVnRXhwRXhlY0FycmF5KSA9PlxuICAgICAgICBleHRyYWN0b3JzXG4gICAgICAgICAgICAucmVkdWNlPENvbWJpbmFibGVQYXJzZVJlc3VsdD4oXG4gICAgICAgICAgICAgICAgKFttZXJnZWRWYWxzLCBtZXJnZWRab25lLCBjdXJzb3JdLCBleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbdmFsLCB6b25lLCBuZXh0XSA9IGV4KG0sIGN1cnNvcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbeyAuLi5tZXJnZWRWYWxzLCAuLi52YWwgfSwgem9uZSB8fCBtZXJnZWRab25lLCBuZXh0XTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFt7fSwgbnVsbCwgMV1cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5zbGljZSgwLCAyKSBhcyBQYXJzZVJlc3VsdDtcbn1cblxuZnVuY3Rpb24gcGFyc2Uoczogc3RyaW5nLCAuLi5wYXR0ZXJuczogKFBhcnNlUGF0dGVybilbXSk6IFBhcnNlUmVzdWx0IHtcbiAgICBpZiAocyA9PT0gdW5kZWZpbmVkIHx8IHMgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtudWxsLCBudWxsXTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IFtyZWdleCwgZXh0cmFjdG9yXSBvZiBwYXR0ZXJucykge1xuICAgICAgICBjb25zdCBtID0gcmVnZXguZXhlYyhzKTtcbiAgICAgICAgaWYgKCEhbSkge1xuICAgICAgICAgICAgcmV0dXJuIGV4dHJhY3RvcihtKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBbbnVsbCwgbnVsbF07XG59XG5cbmZ1bmN0aW9uIHNpbXBsZVBhcnNlKC4uLmtleXM6IChrZXlvZiBHZW5lcmljRGF0ZVRpbWUpW10pIHtcbiAgICByZXR1cm4gKG1hdGNoOiBSZWdFeHBFeGVjQXJyYXksIGN1cnNvcjogbnVtYmVyKTogQ29tYmluYWJsZVBhcnNlUmVzdWx0ID0+IHtcbiAgICAgICAgY29uc3QgcmV0OiBSZWNvcmQ8c3RyaW5nLCBudW1iZXIgfCB1bmRlZmluZWQ+ID0ge307XG4gICAgICAgIGxldCBpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXRba2V5c1tpXV0gPSBwYXJzZUludGVnZXIobWF0Y2hbY3Vyc29yICsgaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbcmV0LCBudWxsLCBjdXJzb3IgKyBpXTtcbiAgICB9O1xufVxuXG4vLyBJU08gYW5kIFNRTCBwYXJzaW5nXG5jb25zdCBvZmZzZXRSZWdleCA9IC8oPzooWil8KFsrLV1cXGRcXGQpKD86Oj8oXFxkXFxkKSk/KS87XG5jb25zdCBpc29FeHRlbmRlZFpvbmUgPSBgKD86JHtvZmZzZXRSZWdleC5zb3VyY2V9Pyg/OlxcXFxbKCR7SUFOQV9SRUdFWC5zb3VyY2V9KVxcXFxdKT8pP2A7XG5jb25zdCBpc29UaW1lQmFzZVJlZ2V4ID0gLyhcXGRcXGQpKD86Oj8oXFxkXFxkKSg/Ojo/KFxcZFxcZCkoPzpbLixdKFxcZHsxLDMwfSkpPyk/KT8vO1xuY29uc3QgaXNvVGltZVJlZ2V4ID0gUmVnRXhwKGAke2lzb1RpbWVCYXNlUmVnZXguc291cmNlfSR7aXNvRXh0ZW5kZWRab25lfWApO1xuY29uc3QgaXNvVGltZUV4dGVuc2lvblJlZ2V4ID0gUmVnRXhwKGAoPzpUJHtpc29UaW1lUmVnZXguc291cmNlfSk/YCk7XG5jb25zdCBpc29ZbWRSZWdleCA9IC8oWystXVxcZHs2fXxcXGR7NH0pKD86LT8oXFxkXFxkKSg/Oi0/KFxcZFxcZCkpPyk/LztcbmNvbnN0IGlzb1dlZWtSZWdleCA9IC8oXFxkezR9KS0/VyhcXGRcXGQpKD86LT8oXFxkKSk/LztcbmNvbnN0IGlzb09yZGluYWxSZWdleCA9IC8oXFxkezR9KS0/KFxcZHszfSkvO1xuY29uc3QgZXh0cmFjdElTT1dlZWtEYXRhID0gc2ltcGxlUGFyc2UoXCJ3ZWVrWWVhclwiLCBcIndlZWtOdW1iZXJcIiwgXCJ3ZWVrZGF5XCIpO1xuY29uc3QgZXh0cmFjdElTT09yZGluYWxEYXRhID0gc2ltcGxlUGFyc2UoXCJ5ZWFyXCIsIFwib3JkaW5hbFwiKTtcbmNvbnN0IHNxbFltZFJlZ2V4ID0gLyhcXGR7NH0pLShcXGRcXGQpLShcXGRcXGQpLzsgLy8gZHVtYmVkLWRvd24gdmVyc2lvbiBvZiB0aGUgSVNPIG9uZVxuY29uc3Qgc3FsVGltZVJlZ2V4ID0gUmVnRXhwKFxuICAgIGAke2lzb1RpbWVCYXNlUmVnZXguc291cmNlfSA/KD86JHtvZmZzZXRSZWdleC5zb3VyY2V9fCgke0lBTkFfUkVHRVguc291cmNlfSkpP2Bcbik7XG5jb25zdCBzcWxUaW1lRXh0ZW5zaW9uUmVnZXggPSBSZWdFeHAoYCg/OiAke3NxbFRpbWVSZWdleC5zb3VyY2V9KT9gKTtcblxuZnVuY3Rpb24gaW50KG1hdGNoOiBSZWdFeHBFeGVjQXJyYXksIHBvczogbnVtYmVyLCBmYWxsYmFjazogbnVtYmVyKSB7XG5cbiAgICByZXR1cm4gaXNVbmRlZmluZWQobWF0Y2hbcG9zXSkgPyBmYWxsYmFjayA6IHBhcnNlSW50ZWdlcihtYXRjaFtwb3NdKTtcbn1cblxuZnVuY3Rpb24gZXh0cmFjdElTT1ltZChtYXRjaDogUmVnRXhwRXhlY0FycmF5LCBjdXJzb3I6IG51bWJlcik6IENvbWJpbmFibGVQYXJzZVJlc3VsdCB7XG4gICAgY29uc3QgaXRlbSA9IHtcbiAgICAgICAgeWVhcjogaW50KG1hdGNoLCBjdXJzb3IsIDApLCAvLyAwIGRlZmF1bHQgdmFsdWUgbmV2ZXIgdXNlZD9cbiAgICAgICAgbW9udGg6IGludChtYXRjaCwgY3Vyc29yICsgMSwgMSksXG4gICAgICAgIGRheTogaW50KG1hdGNoLCBjdXJzb3IgKyAyLCAxKVxuICAgIH07XG5cbiAgICByZXR1cm4gW2l0ZW0sIG51bGwsIGN1cnNvciArIDNdO1xufVxuXG5mdW5jdGlvbiBleHRyYWN0SVNPVGltZShtYXRjaDogUmVnRXhwRXhlY0FycmF5LCBjdXJzb3I6IG51bWJlcik6IENvbWJpbmFibGVQYXJzZVJlc3VsdCB7XG4gICAgY29uc3QgaXRlbSA9IHtcbiAgICAgICAgaG91cjogaW50KG1hdGNoLCBjdXJzb3IsIDApLFxuICAgICAgICBtaW51dGU6IGludChtYXRjaCwgY3Vyc29yICsgMSwgMCksXG4gICAgICAgIHNlY29uZDogaW50KG1hdGNoLCBjdXJzb3IgKyAyLCAwKSxcbiAgICAgICAgbWlsbGlzZWNvbmQ6IHBhcnNlTWlsbGlzKG1hdGNoW2N1cnNvciArIDNdKVxuICAgIH07XG5cbiAgICByZXR1cm4gW2l0ZW0sIG51bGwsIGN1cnNvciArIDRdO1xufVxuXG5mdW5jdGlvbiBleHRyYWN0SVNPT2Zmc2V0KG1hdGNoOiBSZWdFeHBFeGVjQXJyYXksIGN1cnNvcjogbnVtYmVyKTogQ29tYmluYWJsZVBhcnNlUmVzdWx0IHtcbiAgICBjb25zdCBsb2NhbCA9ICFtYXRjaFtjdXJzb3JdICYmICFtYXRjaFtjdXJzb3IgKyAxXSxcbiAgICAgICAgZnVsbE9mZnNldCA9IHNpZ25lZE9mZnNldChtYXRjaFtjdXJzb3IgKyAxXSwgbWF0Y2hbY3Vyc29yICsgMl0pLFxuICAgICAgICB6b25lID0gbG9jYWwgPyBudWxsIDogRml4ZWRPZmZzZXRab25lLmluc3RhbmNlKGZ1bGxPZmZzZXQpO1xuICAgIHJldHVybiBbe30sIHpvbmUsIGN1cnNvciArIDNdO1xufVxuXG5mdW5jdGlvbiBleHRyYWN0SUFOQVpvbmUobWF0Y2g6IFJlZ0V4cEV4ZWNBcnJheSwgY3Vyc29yOiBudW1iZXIpOiBDb21iaW5hYmxlUGFyc2VSZXN1bHQge1xuICAgIGNvbnN0IHpvbmUgPSBtYXRjaFtjdXJzb3JdID8gSUFOQVpvbmUuY3JlYXRlKG1hdGNoW2N1cnNvcl0pIDogbnVsbDtcbiAgICByZXR1cm4gW3t9LCB6b25lLCBjdXJzb3IgKyAxXTtcbn1cblxuLy8gSVNPIHRpbWUgcGFyc2luZ1xuXG5jb25zdCBpc29UaW1lT25seSA9IFJlZ0V4cChgXlQ/JHtpc29UaW1lQmFzZVJlZ2V4LnNvdXJjZX0kYCk7XG5cbi8vIElTTyBkdXJhdGlvbiBwYXJzaW5nXG5cbmNvbnN0IGlzb0R1cmF0aW9uID1cbiAgICAvXi0/UCg/Oig/OigtP1xcZHsxLDIwfSg/OlxcLlxcZHsxLDIwfSk/KVkpPyg/OigtP1xcZHsxLDIwfSg/OlxcLlxcZHsxLDIwfSk/KU0pPyg/OigtP1xcZHsxLDIwfSg/OlxcLlxcZHsxLDIwfSk/KVcpPyg/OigtP1xcZHsxLDIwfSg/OlxcLlxcZHsxLDIwfSk/KUQpPyg/OlQoPzooLT9cXGR7MSwyMH0oPzpcXC5cXGR7MSwyMH0pPylIKT8oPzooLT9cXGR7MSwyMH0oPzpcXC5cXGR7MSwyMH0pPylNKT8oPzooLT9cXGR7MSwyMH0pKD86Wy4sXSgtP1xcZHsxLDIwfSkpP1MpPyk/KSQvO1xuXG5mdW5jdGlvbiBleHRyYWN0SVNPRHVyYXRpb24obWF0Y2g6IFJlZ0V4cEV4ZWNBcnJheSk6IGFueSB7XG4gICAgY29uc3QgW3MsIHllYXJTdHIsIG1vbnRoU3RyLCB3ZWVrU3RyLCBkYXlTdHIsIGhvdXJTdHIsIG1pbnV0ZVN0ciwgc2Vjb25kU3RyLCBtaWxsaXNlY29uZHNTdHJdID1cbiAgICAgICAgbWF0Y2g7XG5cbiAgICBjb25zdCBoYXNOZWdhdGl2ZVByZWZpeDogYm9vbGVhbiA9IHMuc3RhcnRzV2l0aChcIi1cIik7XG4gICAgY29uc3QgbmVnYXRpdmVTZWNvbmRzOiBib29sZWFuID0gISFzZWNvbmRTdHIgJiYgc2Vjb25kU3RyLnN0YXJ0c1dpdGgoXCItXCIpO1xuXG4gICAgY29uc3QgbWF5YmVOZWdhdGUgPSAobnVtOiBudW1iZXIgfCB2b2lkLCBmb3JjZTogYm9vbGVhbiA9ICExKSA9PlxuICAgICAgICB0eXBlb2YgbnVtID09PSB0eXBlb2YgMCAmJiAoZm9yY2UgfHwgKG51bSAmJiBoYXNOZWdhdGl2ZVByZWZpeCkpID8gLW51bSA6IG51bTtcblxuICAgIHJldHVybiBbe1xuICAgICAgICB5ZWFyczogbWF5YmVOZWdhdGUocGFyc2VGbG9hdGluZyh5ZWFyU3RyKSksXG4gICAgICAgIG1vbnRoczogbWF5YmVOZWdhdGUocGFyc2VGbG9hdGluZyhtb250aFN0cikpLFxuICAgICAgICB3ZWVrczogbWF5YmVOZWdhdGUocGFyc2VGbG9hdGluZyh3ZWVrU3RyKSksXG4gICAgICAgIGRheXM6IG1heWJlTmVnYXRlKHBhcnNlRmxvYXRpbmcoZGF5U3RyKSksXG4gICAgICAgIGhvdXJzOiBtYXliZU5lZ2F0ZShwYXJzZUZsb2F0aW5nKGhvdXJTdHIpKSxcbiAgICAgICAgbWludXRlczogbWF5YmVOZWdhdGUocGFyc2VGbG9hdGluZyhtaW51dGVTdHIpKSxcbiAgICAgICAgc2Vjb25kczogbWF5YmVOZWdhdGUocGFyc2VGbG9hdGluZyhzZWNvbmRTdHIpLCBzZWNvbmRTdHIgPT09IFwiLTBcIiksXG4gICAgICAgIG1pbGxpc2Vjb25kczogbWF5YmVOZWdhdGUocGFyc2VNaWxsaXMobWlsbGlzZWNvbmRzU3RyKSwgbmVnYXRpdmVTZWNvbmRzKVxuICAgIH1dO1xufVxuXG4vLyBUaGVzZSBhcmUgYSBsaXR0bGUgYnJhaW4gZGVhZC4gRURUICpzaG91bGQqIHRlbGwgdXMgdGhhdCB3ZSdyZSBpbiwgc2F5LCBBbWVyaWNhL05ld19Zb3JrXG4vLyBhbmQgbm90IGp1c3QgdGhhdCB3ZSdyZSBpbiAtMjQwICpyaWdodCBub3cqLiBCdXQgc2luY2UgSSBkb24ndCB0aGluayB0aGVzZSBhcmUgdXNlZCB0aGF0IG9mdGVuXG4vLyBJJ20ganVzdCBnb2luZyB0byBpZ25vcmUgdGhhdFxuY29uc3Qgb2JzT2Zmc2V0czogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHtcbiAgICBHTVQ6IDAsXG4gICAgRURUOiAtNCAqIDYwLFxuICAgIEVTVDogLTUgKiA2MCxcbiAgICBDRFQ6IC01ICogNjAsXG4gICAgQ1NUOiAtNiAqIDYwLFxuICAgIE1EVDogLTYgKiA2MCxcbiAgICBNU1Q6IC03ICogNjAsXG4gICAgUERUOiAtNyAqIDYwLFxuICAgIFBTVDogLTggKiA2MFxufTtcblxuZnVuY3Rpb24gZnJvbVN0cmluZ3Mod2Vla2RheVN0cjogc3RyaW5nLCB5ZWFyU3RyOiBzdHJpbmcsIG1vbnRoU3RyOiBzdHJpbmcsIGRheVN0cjogc3RyaW5nLCBob3VyU3RyOiBzdHJpbmcsIG1pbnV0ZVN0cjogc3RyaW5nLCBzZWNvbmRTdHI6IHN0cmluZykge1xuICAgIGxldCB3ZWVrZGF5O1xuICAgIGlmICh3ZWVrZGF5U3RyKSB7XG4gICAgICAgIHdlZWtkYXkgPSB3ZWVrZGF5U3RyLmxlbmd0aCA+IDNcbiAgICAgICAgICAgID8gRW5nbGlzaC53ZWVrZGF5c0xvbmcuaW5kZXhPZih3ZWVrZGF5U3RyKSArIDFcbiAgICAgICAgICAgIDogRW5nbGlzaC53ZWVrZGF5c1Nob3J0LmluZGV4T2Yod2Vla2RheVN0cikgKyAxO1xuICAgIH1cblxuICAgIGNvbnN0IHllYXIgPSB5ZWFyU3RyLmxlbmd0aCA9PT0gMiA/IHVudHJ1bmNhdGVZZWFyKHBhcnNlSW50ZWdlcih5ZWFyU3RyKSBhcyBudW1iZXIpIDogcGFyc2VJbnRlZ2VyKHllYXJTdHIpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgeWVhcixcbiAgICAgICAgbW9udGg6IEVuZ2xpc2gubW9udGhzU2hvcnQuaW5kZXhPZihtb250aFN0cikgKyAxLFxuICAgICAgICBkYXk6IHBhcnNlSW50ZWdlcihkYXlTdHIpLFxuICAgICAgICBob3VyOiBwYXJzZUludGVnZXIoaG91clN0ciksXG4gICAgICAgIG1pbnV0ZTogcGFyc2VJbnRlZ2VyKG1pbnV0ZVN0ciksXG4gICAgICAgIHNlY29uZDogcGFyc2VJbnRlZ2VyKHNlY29uZFN0ciksXG4gICAgICAgIHdlZWtkYXlcbiAgICB9O1xufVxuXG4vLyBSRkMgMjgyMi81MzIyXG5jb25zdCByZmMyODIyID0gL14oPzooTW9ufFR1ZXxXZWR8VGh1fEZyaXxTYXR8U3VuKSxcXHMpPyhcXGR7MSwyfSlcXHMoSmFufEZlYnxNYXJ8QXByfE1heXxKdW58SnVsfEF1Z3xTZXB8T2N0fE5vdnxEZWMpXFxzKFxcZHsyLDR9KVxccyhcXGRcXGQpOihcXGRcXGQpKD86OihcXGRcXGQpKT9cXHMoPzooVVR8R01UfFtFQ01QXVtTRF1UKXwoW1p6XSl8KD86KFsrLV1cXGRcXGQpKFxcZFxcZCkpKSQvO1xuXG5mdW5jdGlvbiBleHRyYWN0UkZDMjgyMihtYXRjaDogUmVnRXhwRXhlY0FycmF5KTogUGFyc2VSZXN1bHQge1xuICAgIGNvbnN0IFtcbiAgICAgICAgICAgICxcbiAgICAgICAgICAgIHdlZWtkYXlTdHIsXG4gICAgICAgICAgICBkYXlTdHIsXG4gICAgICAgICAgICBtb250aFN0cixcbiAgICAgICAgICAgIHllYXJTdHIsXG4gICAgICAgICAgICBob3VyU3RyLFxuICAgICAgICAgICAgbWludXRlU3RyLFxuICAgICAgICAgICAgc2Vjb25kU3RyLFxuICAgICAgICAgICAgb2JzT2Zmc2V0LFxuICAgICAgICAgICAgbWlsT2Zmc2V0LFxuICAgICAgICAgICAgb2ZmSG91clN0cixcbiAgICAgICAgICAgIG9mZk1pbnV0ZVN0clxuICAgICAgICBdID0gbWF0Y2gsXG4gICAgICAgIHJlc3VsdCA9IGZyb21TdHJpbmdzKHdlZWtkYXlTdHIsIHllYXJTdHIsIG1vbnRoU3RyLCBkYXlTdHIsIGhvdXJTdHIsIG1pbnV0ZVN0ciwgc2Vjb25kU3RyKTtcblxuICAgIGxldCBvZmZzZXQ7XG4gICAgaWYgKG9ic09mZnNldCkge1xuICAgICAgICBvZmZzZXQgPSBvYnNPZmZzZXRzW29ic09mZnNldF07XG4gICAgfVxuICAgIGVsc2UgaWYgKG1pbE9mZnNldCkge1xuICAgICAgICBvZmZzZXQgPSAwO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgb2Zmc2V0ID0gc2lnbmVkT2Zmc2V0KG9mZkhvdXJTdHIsIG9mZk1pbnV0ZVN0cik7XG4gICAgfVxuXG4gICAgcmV0dXJuIFtyZXN1bHQsIG5ldyBGaXhlZE9mZnNldFpvbmUob2Zmc2V0KV07XG59XG5cbmZ1bmN0aW9uIHByZXByb2Nlc3NSRkMyODIyKHM6IHN0cmluZykge1xuICAgIC8vIFJlbW92ZSBjb21tZW50cyBhbmQgZm9sZGluZyB3aGl0ZXNwYWNlIGFuZCByZXBsYWNlIG11bHRpcGxlLXNwYWNlcyB3aXRoIGEgc2luZ2xlIHNwYWNlXG4gICAgcmV0dXJuIHNcbiAgICAgICAgLnJlcGxhY2UoL1xcKFteKV0qXFwpfFtcXG5cXHRdL2csIFwiIFwiKVxuICAgICAgICAucmVwbGFjZSgvKFxcc1xccyspL2csIFwiIFwiKVxuICAgICAgICAudHJpbSgpO1xufVxuXG4vLyBodHRwIGRhdGVcblxuY29uc3QgcmZjMTEyMyA9IC9eKE1vbnxUdWV8V2VkfFRodXxGcml8U2F0fFN1biksIChcXGRcXGQpIChKYW58RmVifE1hcnxBcHJ8TWF5fEp1bnxKdWx8QXVnfFNlcHxPY3R8Tm92fERlYykgKFxcZHs0fSkgKFxcZFxcZCk6KFxcZFxcZCk6KFxcZFxcZCkgR01UJC8sXG4gICAgcmZjODUwID0gL14oTW9uZGF5fFR1ZXNkYXl8V2VkbmVzZGF5fFRodXJzZGF5fEZyaWRheXxTYXR1cmRheXxTdW5kYXkpLCAoXFxkXFxkKS0oSmFufEZlYnxNYXJ8QXByfE1heXxKdW58SnVsfEF1Z3xTZXB8T2N0fE5vdnxEZWMpLShcXGRcXGQpIChcXGRcXGQpOihcXGRcXGQpOihcXGRcXGQpIEdNVCQvLFxuICAgIGFzY2lpID0gL14oTW9ufFR1ZXxXZWR8VGh1fEZyaXxTYXR8U3VuKSAoSmFufEZlYnxNYXJ8QXByfE1heXxKdW58SnVsfEF1Z3xTZXB8T2N0fE5vdnxEZWMpICggXFxkfFxcZFxcZCkgKFxcZFxcZCk6KFxcZFxcZCk6KFxcZFxcZCkgKFxcZHs0fSkkLztcblxuZnVuY3Rpb24gZXh0cmFjdFJGQzExMjNPcjg1MChtYXRjaDogUmVnRXhwRXhlY0FycmF5KTogUGFyc2VSZXN1bHQge1xuICAgIGNvbnN0IFssIHdlZWtkYXlTdHIsIGRheVN0ciwgbW9udGhTdHIsIHllYXJTdHIsIGhvdXJTdHIsIG1pbnV0ZVN0ciwgc2Vjb25kU3RyXSA9IG1hdGNoLFxuICAgICAgICByZXN1bHQgPSBmcm9tU3RyaW5ncyh3ZWVrZGF5U3RyLCB5ZWFyU3RyLCBtb250aFN0ciwgZGF5U3RyLCBob3VyU3RyLCBtaW51dGVTdHIsIHNlY29uZFN0cik7XG4gICAgcmV0dXJuIFtyZXN1bHQsIEZpeGVkT2Zmc2V0Wm9uZS51dGNJbnN0YW5jZV07XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RBU0NJSShtYXRjaDogUmVnRXhwRXhlY0FycmF5KTogUGFyc2VSZXN1bHQge1xuICAgIGNvbnN0IFssIHdlZWtkYXlTdHIsIG1vbnRoU3RyLCBkYXlTdHIsIGhvdXJTdHIsIG1pbnV0ZVN0ciwgc2Vjb25kU3RyLCB5ZWFyU3RyXSA9IG1hdGNoLFxuICAgICAgICByZXN1bHQgPSBmcm9tU3RyaW5ncyh3ZWVrZGF5U3RyLCB5ZWFyU3RyLCBtb250aFN0ciwgZGF5U3RyLCBob3VyU3RyLCBtaW51dGVTdHIsIHNlY29uZFN0cik7XG4gICAgcmV0dXJuIFtyZXN1bHQsIEZpeGVkT2Zmc2V0Wm9uZS51dGNJbnN0YW5jZV07XG59XG5cbmNvbnN0IGlzb1ltZFdpdGhUaW1lRXh0ZW5zaW9uUmVnZXggPSBjb21iaW5lUmVnZXhlcyhpc29ZbWRSZWdleCwgaXNvVGltZUV4dGVuc2lvblJlZ2V4KTtcbmNvbnN0IGlzb1dlZWtXaXRoVGltZUV4dGVuc2lvblJlZ2V4ID0gY29tYmluZVJlZ2V4ZXMoaXNvV2Vla1JlZ2V4LCBpc29UaW1lRXh0ZW5zaW9uUmVnZXgpO1xuY29uc3QgaXNvT3JkaW5hbFdpdGhUaW1lRXh0ZW5zaW9uUmVnZXggPSBjb21iaW5lUmVnZXhlcyhpc29PcmRpbmFsUmVnZXgsIGlzb1RpbWVFeHRlbnNpb25SZWdleCk7XG5jb25zdCBpc29UaW1lQ29tYmluZWRSZWdleCA9IGNvbWJpbmVSZWdleGVzKGlzb1RpbWVSZWdleCk7XG5cbmNvbnN0IGV4dHJhY3RJU09ZbWRUaW1lQW5kT2Zmc2V0ID0gY29tYmluZUV4dHJhY3RvcnMoXG4gICAgZXh0cmFjdElTT1ltZCxcbiAgICBleHRyYWN0SVNPVGltZSxcbiAgICBleHRyYWN0SVNPT2Zmc2V0LFxuICAgIGV4dHJhY3RJQU5BWm9uZVxuKTtcbmNvbnN0IGV4dHJhY3RJU09XZWVrVGltZUFuZE9mZnNldCA9IGNvbWJpbmVFeHRyYWN0b3JzKFxuICAgIGV4dHJhY3RJU09XZWVrRGF0YSxcbiAgICBleHRyYWN0SVNPVGltZSxcbiAgICBleHRyYWN0SVNPT2Zmc2V0LFxuICAgIGV4dHJhY3RJQU5BWm9uZVxuKTtcbmNvbnN0IGV4dHJhY3RJU09PcmRpbmFsRGF0ZUFuZFRpbWUgPSBjb21iaW5lRXh0cmFjdG9ycyhcbiAgICBleHRyYWN0SVNPT3JkaW5hbERhdGEsXG4gICAgZXh0cmFjdElTT1RpbWUsXG4gICAgZXh0cmFjdElTT09mZnNldCxcbiAgICBleHRyYWN0SUFOQVpvbmVcbik7XG5jb25zdCBleHRyYWN0SVNPVGltZUFuZE9mZnNldCA9IGNvbWJpbmVFeHRyYWN0b3JzKFxuICAgIGV4dHJhY3RJU09UaW1lLFxuICAgIGV4dHJhY3RJU09PZmZzZXQsXG4gICAgZXh0cmFjdElBTkFab25lXG4pO1xuXG4vKipcbiAqIGVuZCBAcHJpdmF0ZVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUhUVFBEYXRlKHM6IHN0cmluZykge1xuICAgIHJldHVybiBwYXJzZShcbiAgICAgICAgcyxcbiAgICAgICAgW3JmYzExMjMsIGV4dHJhY3RSRkMxMTIzT3I4NTBdLFxuICAgICAgICBbcmZjODUwLCBleHRyYWN0UkZDMTEyM09yODUwXSxcbiAgICAgICAgW2FzY2lpLCBleHRyYWN0QVNDSUldXG4gICAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlSVNPRGF0ZShzOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gcGFyc2UoXG4gICAgICAgIHMsXG4gICAgICAgIFtpc29ZbWRXaXRoVGltZUV4dGVuc2lvblJlZ2V4LCBleHRyYWN0SVNPWW1kVGltZUFuZE9mZnNldF0sXG4gICAgICAgIFtpc29XZWVrV2l0aFRpbWVFeHRlbnNpb25SZWdleCwgZXh0cmFjdElTT1dlZWtUaW1lQW5kT2Zmc2V0XSxcbiAgICAgICAgW2lzb09yZGluYWxXaXRoVGltZUV4dGVuc2lvblJlZ2V4LCBleHRyYWN0SVNPT3JkaW5hbERhdGVBbmRUaW1lXSxcbiAgICAgICAgW2lzb1RpbWVDb21iaW5lZFJlZ2V4LCBleHRyYWN0SVNPVGltZUFuZE9mZnNldF1cbiAgICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VJU09EdXJhdGlvbihzOiBzdHJpbmcpOiBQYXJzZVJlc3VsdCB7XG4gICAgcmV0dXJuIHBhcnNlKHMsIFtpc29EdXJhdGlvbiwgZXh0cmFjdElTT0R1cmF0aW9uXSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUlTT1RpbWVPbmx5KHM6IHN0cmluZykge1xuICAgIHJldHVybiBwYXJzZShzLCBbaXNvVGltZU9ubHksIGNvbWJpbmVFeHRyYWN0b3JzKGV4dHJhY3RJU09UaW1lKV0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VSRkMyODIyRGF0ZShzOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gcGFyc2UocHJlcHJvY2Vzc1JGQzI4MjIocyksIFtyZmMyODIyLCBleHRyYWN0UkZDMjgyMl0pO1xufVxuXG5jb25zdCBzcWxZbWRXaXRoVGltZUV4dGVuc2lvblJlZ2V4ID0gY29tYmluZVJlZ2V4ZXMoc3FsWW1kUmVnZXgsIHNxbFRpbWVFeHRlbnNpb25SZWdleCk7XG5jb25zdCBzcWxUaW1lQ29tYmluZWRSZWdleCA9IGNvbWJpbmVSZWdleGVzKHNxbFRpbWVSZWdleCk7XG5cbmNvbnN0IGV4dHJhY3RJU09UaW1lT2Zmc2V0QW5kSUFOQVpvbmUgPSBjb21iaW5lRXh0cmFjdG9ycyhcbiAgICBleHRyYWN0SVNPVGltZSxcbiAgICBleHRyYWN0SVNPT2Zmc2V0LFxuICAgIGV4dHJhY3RJQU5BWm9uZVxuKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU1FMKHM6IHN0cmluZykge1xuICAgIHJldHVybiBwYXJzZShcbiAgICAgICAgcyxcbiAgICAgICAgW3NxbFltZFdpdGhUaW1lRXh0ZW5zaW9uUmVnZXgsIGV4dHJhY3RJU09ZbWRUaW1lQW5kT2Zmc2V0XSxcbiAgICAgICAgW3NxbFRpbWVDb21iaW5lZFJlZ2V4LCBleHRyYWN0SVNPVGltZU9mZnNldEFuZElBTkFab25lXVxuICAgICk7XG59XG4iLCJleHBvcnQgY2xhc3MgSW52YWxpZCB7XG5cbiAgcHJpdmF0ZSBfZm9ybWF0dGVkRXhwbGFuYXRpb246IHN0cmluZyA9IFwiXCI7XG5cbiAgY29uc3RydWN0b3IocHVibGljIHJlYXNvbjogc3RyaW5nLCBwdWJsaWMgZXhwbGFuYXRpb24/OiBzdHJpbmcpIHtcbiAgICBleHBsYW5hdGlvbiAmJiAodGhpcy5fZm9ybWF0dGVkRXhwbGFuYXRpb24gPSBgOiAke2V4cGxhbmF0aW9ufWApO1xuICB9XG5cbiAgdG9NZXNzYWdlKCkge1xuICAgIHJldHVybiBgJHt0aGlzLnJlYXNvbn0ke3RoaXMuX2Zvcm1hdHRlZEV4cGxhbmF0aW9ufWA7XG4gIH1cblxufVxuIiwiaW1wb3J0IHtcbiAgICBhc051bWJlcixcbiAgICBpc1VuZGVmaW5lZCxcbiAgICBpc051bWJlcixcbiAgICBub3JtYWxpemVPYmplY3QsXG4gICAgcm91bmRUbyxcbiAgICBPUkRFUkVEX1VOSVRTLFxuICAgIFJFVkVSU0VfT1JERVJFRF9VTklUUyxcbiAgICBIVU1BTl9PUkRFUkVEX1VOSVRTXG59IGZyb20gXCIuL2ltcGwvdXRpbFwiO1xuaW1wb3J0IHsgTG9jYWxlIH0gZnJvbSBcIi4vaW1wbC9sb2NhbGVcIjtcbmltcG9ydCB7IEZvcm1hdHRlciB9IGZyb20gXCIuL2ltcGwvZm9ybWF0dGVyXCI7XG5pbXBvcnQgeyBwYXJzZUlTT0R1cmF0aW9uLCBwYXJzZUlTT1RpbWVPbmx5IH0gZnJvbSBcIi4vaW1wbC9yZWdleFBhcnNlclwiO1xuaW1wb3J0IHsgSW52YWxpZEFyZ3VtZW50RXJyb3IsIEludmFsaWREdXJhdGlvbkVycm9yLCBJbnZhbGlkVW5pdEVycm9yIH0gZnJvbSBcIi4vZXJyb3JzXCI7XG5pbXBvcnQge1xuICAgIER1cmF0aW9uT2JqZWN0LFxuICAgIER1cmF0aW9uT3B0aW9ucyxcbiAgICBEdXJhdGlvblRvRm9ybWF0T3B0aW9ucyxcbiAgICBEdXJhdGlvblVuaXQsXG4gICAgVW5wYXJzZWREdXJhdGlvbk9iamVjdCxcbiAgICBOb3JtYWxpemVkRHVyYXRpb25Vbml0LFxuICAgIE5vcm1hbGl6ZWREdXJhdGlvbk9iamVjdCxcbiAgICBEdXJhdGlvblRvSHVtYW5PcHRpb25zLFxuICAgIE5vcm1hbGl6ZWRIdW1hbkR1cmF0aW9uVW5pdFxufSBmcm9tIFwiLi90eXBlcy9kdXJhdGlvblwiO1xuaW1wb3J0IHsgQ29udmVyc2lvbkFjY3VyYWN5IH0gZnJvbSBcIi4vdHlwZXMvY29tbW9uXCI7XG5pbXBvcnQgeyBTZXR0aW5ncyB9IGZyb20gXCIuL3NldHRpbmdzXCI7XG5pbXBvcnQgeyBJbnZhbGlkIH0gZnJvbSBcIi4vdHlwZXMvaW52YWxpZFwiO1xuaW1wb3J0IHsgTnVtYmVyaW5nU3lzdGVtIH0gZnJvbSBcIi4vdHlwZXMvbG9jYWxlXCI7XG5pbXBvcnQgeyBUb0lTT1RpbWVPcHRpb25zIH0gZnJvbSBcIi4vdHlwZXMvZGF0ZXRpbWVcIjtcbmltcG9ydCBJbnRsIGZyb20gXCIuL3R5cGVzL2ludGwtbmV4dFwiO1xuXG50eXBlIENvbnZlcnNpb25NYXRyaXhVbml0ID0gRXhjbHVkZTxOb3JtYWxpemVkRHVyYXRpb25Vbml0LCBcIm1pbGxpc2Vjb25kc1wiPjtcbnR5cGUgQ29udmVyc2lvbk1hdHJpeCA9IFJlYWRvbmx5PHsgW2tleWEgaW4gQ29udmVyc2lvbk1hdHJpeFVuaXRdOiB7IFtrZXliIGluIE5vcm1hbGl6ZWREdXJhdGlvblVuaXRdPzogbnVtYmVyIH0gfT47XG5cbmNvbnN0IElOVkFMSUQgPSBcIkludmFsaWQgRHVyYXRpb25cIjtcblxuLy8gdW5pdCBjb252ZXJzaW9uIGNvbnN0YW50c1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5hbWluZy1jb252ZW50aW9uXG5leHBvcnQgY29uc3QgbG93T3JkZXJNYXRyaXggPSB7XG4gICAgd2Vla3M6IHtcbiAgICAgICAgZGF5czogNyxcbiAgICAgICAgaG91cnM6IDcgKiAyNCxcbiAgICAgICAgbWludXRlczogNyAqIDI0ICogNjAsXG4gICAgICAgIHNlY29uZHM6IDcgKiAyNCAqIDYwICogNjAsXG4gICAgICAgIG1pbGxpc2Vjb25kczogNyAqIDI0ICogNjAgKiA2MCAqIDEwMDBcbiAgICB9LFxuICAgIGRheXM6IHtcbiAgICAgICAgaG91cnM6IDI0LFxuICAgICAgICBtaW51dGVzOiAyNCAqIDYwLFxuICAgICAgICBzZWNvbmRzOiAyNCAqIDYwICogNjAsXG4gICAgICAgIG1pbGxpc2Vjb25kczogMjQgKiA2MCAqIDYwICogMTAwMFxuICAgIH0sXG4gICAgaG91cnM6IHsgbWludXRlczogNjAsIHNlY29uZHM6IDYwICogNjAsIG1pbGxpc2Vjb25kczogNjAgKiA2MCAqIDEwMDAgfSxcbiAgICBtaW51dGVzOiB7IHNlY29uZHM6IDYwLCBtaWxsaXNlY29uZHM6IDYwICogMTAwMCB9LFxuICAgIHNlY29uZHM6IHsgbWlsbGlzZWNvbmRzOiAxMDAwIH1cbn07XG5jb25zdCBjYXN1YWxNYXRyaXg6IENvbnZlcnNpb25NYXRyaXggPSB7XG4gICAgeWVhcnM6IHtcbiAgICAgICAgcXVhcnRlcnM6IDQsXG4gICAgICAgIG1vbnRoczogMTIsXG4gICAgICAgIHdlZWtzOiA1MixcbiAgICAgICAgZGF5czogMzY1LFxuICAgICAgICBob3VyczogMzY1ICogMjQsXG4gICAgICAgIG1pbnV0ZXM6IDM2NSAqIDI0ICogNjAsXG4gICAgICAgIHNlY29uZHM6IDM2NSAqIDI0ICogNjAgKiA2MCxcbiAgICAgICAgbWlsbGlzZWNvbmRzOiAzNjUgKiAyNCAqIDYwICogNjAgKiAxMDAwXG4gICAgfSxcbiAgICBxdWFydGVyczoge1xuICAgICAgICBtb250aHM6IDMsXG4gICAgICAgIHdlZWtzOiAxMyxcbiAgICAgICAgZGF5czogOTEsXG4gICAgICAgIGhvdXJzOiA5MSAqIDI0LFxuICAgICAgICBtaW51dGVzOiA5MSAqIDI0ICogNjAsXG4gICAgICAgIHNlY29uZHM6IDkxICogMjQgKiA2MCAqIDYwLFxuICAgICAgICBtaWxsaXNlY29uZHM6IDkxICogMjQgKiA2MCAqIDYwICogMTAwMFxuICAgIH0sXG4gICAgbW9udGhzOiB7XG4gICAgICAgIHdlZWtzOiA0LFxuICAgICAgICBkYXlzOiAzMCxcbiAgICAgICAgaG91cnM6IDMwICogMjQsXG4gICAgICAgIG1pbnV0ZXM6IDMwICogMjQgKiA2MCxcbiAgICAgICAgc2Vjb25kczogMzAgKiAyNCAqIDYwICogNjAsXG4gICAgICAgIG1pbGxpc2Vjb25kczogMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwXG4gICAgfSxcbiAgICAuLi5sb3dPcmRlck1hdHJpeFxufTtcbmNvbnN0IGRheXNJblllYXJBY2N1cmF0ZSA9IDE0NjA5Ny4wIC8gNDAwO1xuY29uc3QgZGF5c0luTW9udGhBY2N1cmF0ZSA9IDE0NjA5Ny4wIC8gNDgwMDtcbmNvbnN0IGFjY3VyYXRlTWF0cml4OiBDb252ZXJzaW9uTWF0cml4ID0ge1xuICAgIHllYXJzOiB7XG4gICAgICAgIHF1YXJ0ZXJzOiA0LFxuICAgICAgICBtb250aHM6IDEyLFxuICAgICAgICB3ZWVrczogZGF5c0luWWVhckFjY3VyYXRlIC8gNyxcbiAgICAgICAgZGF5czogZGF5c0luWWVhckFjY3VyYXRlLFxuICAgICAgICBob3VyczogZGF5c0luWWVhckFjY3VyYXRlICogMjQsXG4gICAgICAgIG1pbnV0ZXM6IGRheXNJblllYXJBY2N1cmF0ZSAqIDI0ICogNjAsXG4gICAgICAgIHNlY29uZHM6IGRheXNJblllYXJBY2N1cmF0ZSAqIDI0ICogNjAgKiA2MCxcbiAgICAgICAgbWlsbGlzZWNvbmRzOiBkYXlzSW5ZZWFyQWNjdXJhdGUgKiAyNCAqIDYwICogNjAgKiAxMDAwXG4gICAgfSxcbiAgICBxdWFydGVyczoge1xuICAgICAgICBtb250aHM6IDMsXG4gICAgICAgIHdlZWtzOiBkYXlzSW5ZZWFyQWNjdXJhdGUgLyAyOCxcbiAgICAgICAgZGF5czogZGF5c0luWWVhckFjY3VyYXRlIC8gNCxcbiAgICAgICAgaG91cnM6IChkYXlzSW5ZZWFyQWNjdXJhdGUgKiAyNCkgLyA0LFxuICAgICAgICBtaW51dGVzOiAoZGF5c0luWWVhckFjY3VyYXRlICogMjQgKiA2MCkgLyA0LFxuICAgICAgICBzZWNvbmRzOiAoZGF5c0luWWVhckFjY3VyYXRlICogMjQgKiA2MCAqIDYwKSAvIDQsXG4gICAgICAgIG1pbGxpc2Vjb25kczogKGRheXNJblllYXJBY2N1cmF0ZSAqIDI0ICogNjAgKiA2MCAqIDEwMDApIC8gNFxuICAgIH0sXG4gICAgbW9udGhzOiB7XG4gICAgICAgIHdlZWtzOiBkYXlzSW5Nb250aEFjY3VyYXRlIC8gNyxcbiAgICAgICAgZGF5czogZGF5c0luTW9udGhBY2N1cmF0ZSxcbiAgICAgICAgaG91cnM6IGRheXNJbk1vbnRoQWNjdXJhdGUgKiAyNCxcbiAgICAgICAgbWludXRlczogZGF5c0luTW9udGhBY2N1cmF0ZSAqIDI0ICogNjAsXG4gICAgICAgIHNlY29uZHM6IGRheXNJbk1vbnRoQWNjdXJhdGUgKiAyNCAqIDYwICogNjAsXG4gICAgICAgIG1pbGxpc2Vjb25kczogZGF5c0luTW9udGhBY2N1cmF0ZSAqIDI0ICogNjAgKiA2MCAqIDEwMDBcbiAgICB9LFxuICAgIC4uLmxvd09yZGVyTWF0cml4XG59O1xuXG5mdW5jdGlvbiBhbnRpVHJ1bmMobjogbnVtYmVyKSB7XG4gICAgcmV0dXJuIG4gPCAwID8gTWF0aC5mbG9vcihuKSA6IE1hdGguY2VpbChuKTtcbn1cblxuLy8gTkI6IG11dGF0ZXMgcGFyYW1ldGVyc1xuZnVuY3Rpb24gY29udmVydChtYXRyaXg6IENvbnZlcnNpb25NYXRyaXgsXG4gICAgICAgICAgICAgICAgIGZyb21NYXA6IE5vcm1hbGl6ZWREdXJhdGlvbk9iamVjdCxcbiAgICAgICAgICAgICAgICAgZnJvbVVuaXQ6IE5vcm1hbGl6ZWREdXJhdGlvblVuaXQsXG4gICAgICAgICAgICAgICAgIHRvTWFwOiBOb3JtYWxpemVkRHVyYXRpb25PYmplY3QsXG4gICAgICAgICAgICAgICAgIHRvVW5pdDogQ29udmVyc2lvbk1hdHJpeFVuaXQpIHtcbiAgICBjb25zdCBjb252ID0gbWF0cml4W3RvVW5pdF1bZnJvbVVuaXRdIGFzIG51bWJlcixcbiAgICAgICAgcmF3ID0gKGZyb21NYXBbZnJvbVVuaXRdIGFzIG51bWJlcikgLyBjb252LFxuICAgICAgICBzYW1lU2lnbiA9IE1hdGguc2lnbihyYXcpID09PSBNYXRoLnNpZ24odG9NYXBbdG9Vbml0XSBhcyBudW1iZXIpLFxuICAgICAgICAvLyBvaywgc28gdGhpcyBpcyB3aWxkLCBidXQgc2VlIHRoZSBtYXRyaXggaW4gdGhlIHRlc3RzXG4gICAgICAgIGFkZGVkID1cbiAgICAgICAgICAgICFzYW1lU2lnbiAmJiB0b01hcFt0b1VuaXRdICE9PSAwICYmIE1hdGguYWJzKHJhdykgPD0gMSA/IGFudGlUcnVuYyhyYXcpIDogTWF0aC50cnVuYyhyYXcpO1xuXG4gICAgdG9NYXBbdG9Vbml0XSA9ICh0b01hcFt0b1VuaXRdIGFzIG51bWJlcikgKyBhZGRlZDtcbiAgICBmcm9tTWFwW2Zyb21Vbml0XSA9IChmcm9tTWFwW2Zyb21Vbml0XSBhcyBudW1iZXIpIC0gYWRkZWQgKiBjb252O1xufVxuXG5mdW5jdGlvbiBlcSh2MTogbnVtYmVyIHwgdW5kZWZpbmVkLCB2MjogbnVtYmVyIHwgdW5kZWZpbmVkKSB7XG4gICAgLy8gQ29uc2lkZXIgMCBhbmQgdW5kZWZpbmVkIGFzIGVxdWFsXG4gICAgaWYgKHYxID09PSB1bmRlZmluZWQgfHwgdjEgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHYyID09PSB1bmRlZmluZWQgfHwgdjIgPT09IDA7XG4gICAgfVxuICAgIHJldHVybiB2MSA9PT0gdjI7XG59XG5cbi8vIE5COiBtdXRhdGVzIHZhbHMgcGFyYW1ldGVyc1xuZnVuY3Rpb24gbm9ybWFsaXplVmFsdWVzKG1hdHJpeDogQ29udmVyc2lvbk1hdHJpeCwgdmFsczogTm9ybWFsaXplZER1cmF0aW9uT2JqZWN0KSB7XG4gICAgbGV0IHByZXZpb3VzVW5pdDogTm9ybWFsaXplZER1cmF0aW9uVW5pdCB8IHVuZGVmaW5lZDtcbiAgICBSRVZFUlNFX09SREVSRURfVU5JVFMuZm9yRWFjaCh1bml0ID0+IHtcbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZCh2YWxzW3VuaXRdKSkge1xuICAgICAgICAgICAgaWYgKHByZXZpb3VzVW5pdCkge1xuICAgICAgICAgICAgICAgIGNvbnZlcnQobWF0cml4LCB2YWxzLCBwcmV2aW91c1VuaXQsIHZhbHMsIHVuaXQgYXMgQ29udmVyc2lvbk1hdHJpeFVuaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJldmlvdXNVbml0ID0gdW5pdDtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG4vLyBSZW1vdmUgYWxsIHByb3BlcnRpZXMgd2l0aCBhIHZhbHVlIG9mIDAgZnJvbSBhbiBvYmplY3RcbmZ1bmN0aW9uIHJlbW92ZVplcm9lcyh2YWxzOiBEdXJhdGlvbk9iamVjdCA9IHt9KTogRHVyYXRpb25PYmplY3Qge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyh2YWxzKS5yZWR1Y2UoKGFjYywgW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gMCkge1xuICAgICAgICAgICAgYWNjW2tleSBhcyBEdXJhdGlvblVuaXRdID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9IGFzIER1cmF0aW9uT2JqZWN0KTtcbn1cblxuaW50ZXJmYWNlIENvbmZpZyB7XG4gICAgY29udmVyc2lvbkFjY3VyYWN5PzogQ29udmVyc2lvbkFjY3VyYWN5O1xuICAgIGludmFsaWQ/OiBJbnZhbGlkO1xuICAgIHZhbHVlcz86IE5vcm1hbGl6ZWREdXJhdGlvbk9iamVjdDtcbiAgICBsb2M/OiBMb2NhbGU7XG59XG5cbi8qKlxuICogQSBEdXJhdGlvbiBvYmplY3QgcmVwcmVzZW50cyBhIHBlcmlvZCBvZiB0aW1lLCBsaWtlIFwiMiBtb250aHNcIiBvciBcIjEgZGF5LCAxIGhvdXJcIi4gQ29uY2VwdHVhbGx5LCBpdCdzIGp1c3QgYSBtYXAgb2YgdW5pdHMgdG8gdGhlaXIgcXVhbnRpdGllcywgYWNjb21wYW5pZWQgYnkgc29tZSBhZGRpdGlvbmFsIGNvbmZpZ3VyYXRpb24gYW5kIG1ldGhvZHMgZm9yIGNyZWF0aW5nLCBwYXJzaW5nLCBpbnRlcnJvZ2F0aW5nLCB0cmFuc2Zvcm1pbmcsIGFuZCBmb3JtYXR0aW5nIHRoZW0uIFRoZXkgY2FuIGJlIHVzZWQgb24gdGhlaXIgb3duIG9yIGluIGNvbmp1bmN0aW9uIHdpdGggb3RoZXIgTHV4b24gdHlwZXM7IGZvciBleGFtcGxlLCB5b3UgY2FuIHVzZSB7QGxpbmsgRGF0ZVRpbWUjcGx1c30gdG8gYWRkIGEgRHVyYXRpb24gb2JqZWN0IHRvIGEgRGF0ZVRpbWUsIHByb2R1Y2luZyBhbm90aGVyIERhdGVUaW1lLiAqXG4gKiBIZXJlIGlzIGEgYnJpZWYgb3ZlcnZpZXcgb2YgY29tbW9ubHkgdXNlZCBtZXRob2RzIGFuZCBnZXR0ZXJzIGluIER1cmF0aW9uOlxuICpcbiAqICogKipDcmVhdGlvbioqIFRvIGNyZWF0ZSBhIER1cmF0aW9uLCB1c2Uge0BsaW5rIER1cmF0aW9uI2Zyb21NaWxsaXN9LCB7QGxpbmsgRHVyYXRpb24jZnJvbU9iamVjdH0sIG9yIHtAbGluayBEdXJhdGlvbiNmcm9tSVNPfS5cbiAqICogKipVbml0IHZhbHVlcyoqIFNlZSB0aGUge0BsaW5rIER1cmF0aW9uI3llYXJzfSwge0BsaW5rIER1cmF0aW9uI21vbnRoc30sIHtAbGluayBEdXJhdGlvbiN3ZWVrc30sIHtAbGluayBEdXJhdGlvbiNkYXlzfSwge0BsaW5rIER1cmF0aW9uI2hvdXJzfSwge0BsaW5rIER1cmF0aW9uI21pbnV0ZXN9LCB7QGxpbmsgRHVyYXRpb24jc2Vjb25kc30sIHtAbGluayBEdXJhdGlvbiNtaWxsaXNlY29uZHN9IGFjY2Vzc29ycy5cbiAqICogKipDb25maWd1cmF0aW9uKiogU2VlICB7QGxpbmsgRHVyYXRpb24jbG9jYWxlfSBhbmQge0BsaW5rIER1cmF0aW9uI251bWJlcmluZ1N5c3RlbX0gYWNjZXNzb3JzLlxuICogKiAqKlRyYW5zZm9ybWF0aW9uKiogVG8gY3JlYXRlIG5ldyBEdXJhdGlvbnMgb3V0IG9mIG9sZCBvbmVzIHVzZSB7QGxpbmsgRHVyYXRpb24jcGx1c30sIHtAbGluayBEdXJhdGlvbiNtaW51c30sIHtAbGluayBEdXJhdGlvbiNub3JtYWxpemV9LCB7QGxpbmsgRHVyYXRpb24jc2V0fSwge0BsaW5rIER1cmF0aW9uI3JlY29uZmlndXJlfSwge0BsaW5rIER1cmF0aW9uI3NoaWZ0VG99LCBhbmQge0BsaW5rIER1cmF0aW9uI25lZ2F0ZX0uXG4gKiAqICoqT3V0cHV0KiogVG8gY29udmVydCB0aGUgRHVyYXRpb24gaW50byBvdGhlciByZXByZXNlbnRhdGlvbnMsIHNlZSB7QGxpbmsgRHVyYXRpb24jYXN9LCB7QGxpbmsgRHVyYXRpb24jdG9JU099LCB7QGxpbmsgRHVyYXRpb24jdG9Gb3JtYXR9LCBhbmQge0BsaW5rIER1cmF0aW9uI3RvSlNPTn1cbiAqXG4gKiBUaGVyZSBhcmUgbW9yZSBtZXRob2RzIGRvY3VtZW50ZWQgYmVsb3cuIEluIGFkZGl0aW9uLCBmb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBzdWJ0bGVyIHRvcGljcyBsaWtlIGludGVybmF0aW9uYWxpemF0aW9uIGFuZCB2YWxpZGl0eSwgc2VlIHRoZSBleHRlcm5hbCBkb2N1bWVudGF0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgRHVyYXRpb24gaW1wbGVtZW50cyBOb3JtYWxpemVkRHVyYXRpb25PYmplY3Qge1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29udmVyc2lvbiBzeXN0ZW0gdG8gdXNlXG4gICAgICogQHR5cGUge0NvbnZlcnNpb25BY2N1cmFjeX1cbiAgICAgKi9cbiAgICBnZXQgY29udmVyc2lvbkFjY3VyYWN5KCk6IENvbnZlcnNpb25BY2N1cmFjeSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb252ZXJzaW9uQWNjdXJhY3k7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBleHBsYW5hdGlvbiBvZiB3aHkgdGhpcyBEdXJhdGlvbiBiZWNhbWUgaW52YWxpZCwgb3IgbnVsbCBpZiB0aGUgRHVyYXRpb24gaXMgdmFsaWRcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldCBpbnZhbGlkRXhwbGFuYXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZhbGlkID8gdGhpcy5faW52YWxpZC5leHBsYW5hdGlvbiA6IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBlcnJvciBjb2RlIGlmIHRoaXMgRHVyYXRpb24gYmVjYW1lIGludmFsaWQsIG9yIG51bGwgaWYgdGhlIER1cmF0aW9uIGlzIHZhbGlkXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldCBpbnZhbGlkUmVhc29uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52YWxpZCA/IHRoaXMuX2ludmFsaWQucmVhc29uIDogbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIER1cmF0aW9uIGlzIGludmFsaWQuIEludmFsaWQgZHVyYXRpb25zIGFyZSByZXR1cm5lZCBieSBkaWZmIG9wZXJhdGlvbnNcbiAgICAgKiBvbiBpbnZhbGlkIERhdGVUaW1lcyBvciBJbnRlcnZhbHMuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgaXNWYWxpZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludmFsaWQgPT09IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0ICB0aGUgbG9jYWxlIG9mIGEgRHVyYXRpb24sIHN1Y2ggJ2VuLUdCJ1xuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0IGxvY2FsZSgpOiBzdHJpbmcgfCB2b2lkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMuX2xvYy5sb2NhbGUgOiB2b2lkIDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBudW1iZXJpbmcgc3lzdGVtIG9mIGEgRHVyYXRpb24sIHN1Y2ggJ2JlbmcnLiBUaGUgbnVtYmVyaW5nIHN5c3RlbSBpcyB1c2VkIHdoZW4gZm9ybWF0dGluZyB0aGUgRHVyYXRpb25cbiAgICAgKlxuICAgICAqIEB0eXBlIHtOdW1iZXJpbmdTeXN0ZW19XG4gICAgICovXG4gICAgZ2V0IG51bWJlcmluZ1N5c3RlbSgpOiBOdW1iZXJpbmdTeXN0ZW0gfCB2b2lkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMuX2xvYy5udW1iZXJpbmdTeXN0ZW0gOiB2b2lkIDA7XG4gICAgfVxuXG4gICAgLy8gUHJpdmF0ZSByZWFkb25seSBmaWVsZHNcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jb252ZXJzaW9uQWNjdXJhY3k6IENvbnZlcnNpb25BY2N1cmFjeTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9pbnZhbGlkOiBJbnZhbGlkIHwgbnVsbDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IF92YWx1ZXM6IE5vcm1hbGl6ZWREdXJhdGlvbk9iamVjdDtcbiAgICBwcml2YXRlIF9sb2M6IExvY2FsZTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9tYXRyaXg6IENvbnZlcnNpb25NYXRyaXg7XG4gICAgcHJpdmF0ZSByZWFkb25seSBfaXNMdXhvbkR1cmF0aW9uOiB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKGNvbmZpZzogQ29uZmlnKSB7XG4gICAgICAgIGNvbnN0IGFjY3VyYXRlID0gY29uZmlnLmNvbnZlcnNpb25BY2N1cmFjeSA9PT0gXCJsb25ndGVybVwiIHx8IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGFjY2VzcyBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl92YWx1ZXMgPSBjb25maWcudmFsdWVzIHx8IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQGFjY2VzcyBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sb2MgPSBjb25maWcubG9jIHx8IExvY2FsZS5jcmVhdGUoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBhY2Nlc3MgcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY29udmVyc2lvbkFjY3VyYWN5ID0gYWNjdXJhdGUgPyBcImxvbmd0ZXJtXCIgOiBcImNhc3VhbFwiO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGFjY2VzcyBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9pbnZhbGlkID0gY29uZmlnLmludmFsaWQgfHwgbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBhY2Nlc3MgcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWF0cml4ID0gYWNjdXJhdGUgPyBhY2N1cmF0ZU1hdHJpeCA6IGNhc3VhbE1hdHJpeDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBhY2Nlc3MgcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faXNMdXhvbkR1cmF0aW9uID0gdHJ1ZTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIER1cmF0aW9uIGZyb20gYW4gSVNPIDg2MDEgdGltZSBzdHJpbmcuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0ZXh0IHRvIHBhcnNlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRpb25zIGZvciBwYXJzaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmxvY2FsZT0nZW4tVVMnXSAtIHRoZSBsb2NhbGUgdG8gdXNlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG9wdHMubnVtYmVyaW5nU3lzdGVtIC0gdGhlIG51bWJlcmluZyBzeXN0ZW0gdG8gdXNlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmNvbnZlcnNpb25BY2N1cmFjeT0nY2FzdWFsJ10gLSB0aGUgY29udmVyc2lvbiBzeXN0ZW0gdG8gdXNlXG4gICAgICogQHNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fODYwMSNUaW1lc1xuICAgICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21JU09UaW1lKCcxMToyMjozMy40NDQnKS50b09iamVjdCgpIC8vPT4geyBob3VyczogMTEsIG1pbnV0ZXM6IDIyLCBzZWNvbmRzOiAzMywgbWlsbGlzZWNvbmRzOiA0NDQgfVxuICAgICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21JU09UaW1lKCcxMTowMCcpLnRvT2JqZWN0KCkgLy89PiB7IGhvdXJzOiAxMSwgbWludXRlczogMCwgc2Vjb25kczogMCB9XG4gICAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbUlTT1RpbWUoJ1QxMTowMCcpLnRvT2JqZWN0KCkgLy89PiB7IGhvdXJzOiAxMSwgbWludXRlczogMCwgc2Vjb25kczogMCB9XG4gICAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbUlTT1RpbWUoJzExMDAnKS50b09iamVjdCgpIC8vPT4geyBob3VyczogMTEsIG1pbnV0ZXM6IDAsIHNlY29uZHM6IDAgfVxuICAgICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21JU09UaW1lKCdUMTEwMCcpLnRvT2JqZWN0KCkgLy89PiB7IGhvdXJzOiAxMSwgbWludXRlczogMCwgc2Vjb25kczogMCB9XG4gICAgICogQHJldHVybiB7RHVyYXRpb259XG4gICAgICovXG4gICAgc3RhdGljIGZyb21JU09UaW1lKHRleHQ6IHN0cmluZywgb3B0czogRHVyYXRpb25PcHRpb25zID0ge30pOiBEdXJhdGlvbiB7XG4gICAgICAgIGNvbnN0IFtwYXJzZWRdID0gcGFyc2VJU09UaW1lT25seSh0ZXh0KTtcbiAgICAgICAgaWYgKHBhcnNlZCkge1xuICAgICAgICAgICAgcmV0dXJuIER1cmF0aW9uLmZyb21PYmplY3QocGFyc2VkLCBvcHRzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBEdXJhdGlvbi5pbnZhbGlkKFwidW5wYXJzYWJsZVwiLCBgdGhlIGlucHV0IFwiJHt0ZXh0fVwiIGNhbid0IGJlIHBhcnNlZCBhcyBJU08gODYwMWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIER1cmF0aW9uIGZyb20gYSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaWxsaXNlY29uZHMgb2YgbWlsbGlzZWNvbmRzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRpb25zIGZvciBwYXJzaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmxvY2FsZT0nZW4tVVMnXSAtIHRoZSBsb2NhbGUgdG8gdXNlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG9wdHMubnVtYmVyaW5nU3lzdGVtIC0gdGhlIG51bWJlcmluZyBzeXN0ZW0gdG8gdXNlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmNvbnZlcnNpb25BY2N1cmFjeT0nY2FzdWFsJ10gLSB0aGUgY29udmVyc2lvbiBzeXN0ZW0gdG8gdXNlXG4gICAgICogQHJldHVybiB7RHVyYXRpb259XG4gICAgICovXG4gICAgc3RhdGljIGZyb21NaWxsaXMobWlsbGlzZWNvbmRzOiBudW1iZXIsIG9wdHM6IER1cmF0aW9uT3B0aW9ucyA9IHt9KTogRHVyYXRpb24ge1xuICAgICAgICByZXR1cm4gRHVyYXRpb24uZnJvbU9iamVjdCh7IG1pbGxpc2Vjb25kcyB9LCBvcHRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBEdXJhdGlvbiBmcm9tIGEgSmF2YVNjcmlwdCBvYmplY3Qgd2l0aCBrZXlzIGxpa2UgJ3llYXJzJyBhbmQgJ2hvdXJzJy5cbiAgICAgKiBJZiB0aGlzIG9iamVjdCBpcyBlbXB0eSB0aGVuIGEgemVybyBtaWxsaXNlY29uZHMgZHVyYXRpb24gaXMgcmV0dXJuZWQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iaiAtIHRoZSBvYmplY3QgdG8gY3JlYXRlIHRoZSBEYXRlVGltZSBmcm9tXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9iai55ZWFyc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvYmoucXVhcnRlcnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2JqLm1vbnRoc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvYmoud2Vla3NcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2JqLmRheXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2JqLmhvdXJzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9iai5taW51dGVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9iai5zZWNvbmRzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9iai5taWxsaXNlY29uZHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdHM9W11dIC0gb3B0aW9ucyBmb3IgY3JlYXRpbmcgdGhpcyBEdXJhdGlvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5sb2NhbGU9J2VuLVVTJ10gLSB0aGUgbG9jYWxlIHRvIHVzZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRzLm51bWJlcmluZ1N5c3RlbSAtIHRoZSBudW1iZXJpbmcgc3lzdGVtIHRvIHVzZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5jb252ZXJzaW9uQWNjdXJhY3k9J2Nhc3VhbCddIC0gdGhlIGNvbnZlcnNpb24gc3lzdGVtIHRvIHVzZVxuICAgICAqIEByZXR1cm4ge0R1cmF0aW9ufVxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tT2JqZWN0KG9iajogVW5wYXJzZWREdXJhdGlvbk9iamVjdCB8IG51bGwsIG9wdHM6IER1cmF0aW9uT3B0aW9ucyA9IHt9KTogRHVyYXRpb24ge1xuICAgICAgICBpZiAob2JqID09IG51bGwgfHwgdHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxuICAgICAgICAgICAgICAgIGBEdXJhdGlvbi5mcm9tT2JqZWN0OiBhcmd1bWVudCBleHBlY3RlZCB0byBiZSBhbiBvYmplY3QsIGdvdCAke1xuICAgICAgICAgICAgICAgICAgICBvYmogPT09IG51bGwgPyBcIm51bGxcIiA6IHR5cGVvZiBvYmpcbiAgICAgICAgICAgICAgICB9YFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgRHVyYXRpb24oe1xuICAgICAgICAgICAgdmFsdWVzOiBub3JtYWxpemVPYmplY3Qob2JqIGFzIFJlY29yZDxzdHJpbmcsIGFueT4sIER1cmF0aW9uLm5vcm1hbGl6ZVVuaXQpLFxuICAgICAgICAgICAgbG9jOiBMb2NhbGUuZnJvbU9iamVjdChvcHRzKSxcbiAgICAgICAgICAgIGNvbnZlcnNpb25BY2N1cmFjeTogb3B0cy5jb252ZXJzaW9uQWNjdXJhY3lcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgRHVyYXRpb24gZnJvbSBEdXJhdGlvbkxpa2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdCB8IG51bWJlciB8IER1cmF0aW9ufSBkdXJhdGlvbkxpa2VcbiAgICAgKiBPbmUgb2Y6XG4gICAgICogLSBvYmplY3Qgd2l0aCBrZXlzIGxpa2UgJ3llYXJzJyBhbmQgJ2hvdXJzJy5cbiAgICAgKiAtIG51bWJlciByZXByZXNlbnRpbmcgbWlsbGlzZWNvbmRzXG4gICAgICogLSBEdXJhdGlvbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge0R1cmF0aW9ufVxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tRHVyYXRpb25MaWtlKGR1cmF0aW9uTGlrZTogbnVtYmVyIHwgRHVyYXRpb25MaWtlKTogRHVyYXRpb24ge1xuICAgICAgICBpZiAoaXNOdW1iZXIoZHVyYXRpb25MaWtlKSkge1xuICAgICAgICAgICAgcmV0dXJuIER1cmF0aW9uLmZyb21NaWxsaXMoZHVyYXRpb25MaWtlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChEdXJhdGlvbi5pc0R1cmF0aW9uKGR1cmF0aW9uTGlrZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBkdXJhdGlvbkxpa2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGR1cmF0aW9uTGlrZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgcmV0dXJuIER1cmF0aW9uLmZyb21PYmplY3QoZHVyYXRpb25MaWtlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihcbiAgICAgICAgICAgICAgICBgVW5rbm93biBkdXJhdGlvbiBhcmd1bWVudCAke2R1cmF0aW9uTGlrZX0gb2YgdHlwZSAke3R5cGVvZiBkdXJhdGlvbkxpa2V9YFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIER1cmF0aW9uIGZyb20gYW4gSVNPIDg2MDEgZHVyYXRpb24gc3RyaW5nLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gdGV4dCB0byBwYXJzZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9ucyBmb3IgcGFyc2luZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5sb2NhbGU9J2VuLVVTJ10gLSB0aGUgbG9jYWxlIHRvIHVzZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRzLm51bWJlcmluZ1N5c3RlbSAtIHRoZSBudW1iZXJpbmcgc3lzdGVtIHRvIHVzZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5jb252ZXJzaW9uQWNjdXJhY3k9J2Nhc3VhbCddIC0gdGhlIGNvbnZlcnNpb24gc3lzdGVtIHRvIHVzZVxuICAgICAqIEBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPXzg2MDEjRHVyYXRpb25zXG4gICAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbUlTTygnUDNZNk0xVzREVDEySDMwTTVTJykudG9PYmplY3QoKSAvLz0+IHsgeWVhcnM6IDMsIG1vbnRoczogNiwgd2Vla3M6IDEsIGRheXM6IDQsIGhvdXJzOiAxMiwgbWludXRlczogMzAsIHNlY29uZHM6IDUgfVxuICAgICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21JU08oJ1BUMjNIJykudG9PYmplY3QoKSAvLz0+IHsgaG91cnM6IDIzIH1cbiAgICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tSVNPKCdQNVkzTScpLnRvT2JqZWN0KCkgLy89PiB7IHllYXJzOiA1LCBtb250aHM6IDMgfVxuICAgICAqIEByZXR1cm4ge0R1cmF0aW9ufVxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tSVNPKHRleHQ6IHN0cmluZywgb3B0cz86IER1cmF0aW9uT3B0aW9ucyk6IER1cmF0aW9uIHtcbiAgICAgICAgY29uc3QgW3BhcnNlZF0gPSBwYXJzZUlTT0R1cmF0aW9uKHRleHQpO1xuICAgICAgICBpZiAocGFyc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gRHVyYXRpb24uZnJvbU9iamVjdChwYXJzZWQsIG9wdHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIER1cmF0aW9uLmludmFsaWQoXCJ1bnBhcnNhYmxlXCIsIGB0aGUgaW5wdXQgXCIke3RleHR9XCIgY2FuJ3QgYmUgcGFyc2VkIGFzIElTTyA4NjAxYCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGFuIG9iamVjdCBpcyBhIER1cmF0aW9uLiBXb3JrcyBhY3Jvc3MgY29udGV4dCBib3VuZGFyaWVzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqL1xuICAgIHN0YXRpYyBpc0R1cmF0aW9uKG86IHVua25vd24pOiBvIGlzIER1cmF0aW9uIHtcbiAgICAgICAgcmV0dXJuICghIW8gJiYgKG8gYXMgRHVyYXRpb24pLl9pc0x1eG9uRHVyYXRpb24pIHx8IGZhbHNlO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGludmFsaWQgRHVyYXRpb24uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJlYXNvbiAtIHNpbXBsZSBzdHJpbmcgb2Ygd2h5IHRoaXMgZGF0ZXRpbWUgaXMgaW52YWxpZC4gU2hvdWxkIG5vdCBjb250YWluIHBhcmFtZXRlcnMgb3IgYW55dGhpbmcgZWxzZSBkYXRhLWRlcGVuZGVudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZXhwbGFuYXRpb249bnVsbF0gLSBsb25nZXIgZXhwbGFuYXRpb24sIG1heSBpbmNsdWRlIHBhcmFtZXRlcnMgYW5kIG90aGVyIHVzZWZ1bCBkZWJ1Z2dpbmcgaW5mb3JtYXRpb25cbiAgICAgKiBAcmV0dXJuIHtEdXJhdGlvbn1cbiAgICAgKi9cbiAgICBzdGF0aWMgaW52YWxpZChyZWFzb246IEludmFsaWQgfCBzdHJpbmcsIGV4cGxhbmF0aW9uPzogc3RyaW5nKSB7XG4gICAgICAgIGlmICghcmVhc29uKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXCJuZWVkIHRvIHNwZWNpZnkgYSByZWFzb24gdGhlIER1cmF0aW9uIGlzIGludmFsaWRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbnZhbGlkID0gcmVhc29uIGluc3RhbmNlb2YgSW52YWxpZCA/IHJlYXNvbiA6IG5ldyBJbnZhbGlkKHJlYXNvbiwgZXhwbGFuYXRpb24pO1xuXG4gICAgICAgIGlmIChTZXR0aW5ncy50aHJvd09uSW52YWxpZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWREdXJhdGlvbkVycm9yKGludmFsaWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEdXJhdGlvbih7IGludmFsaWQgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN0YXRpYyBub3JtYWxpemVVbml0KHVuaXQ6IHN0cmluZyk6IGtleW9mIE5vcm1hbGl6ZWREdXJhdGlvbk9iamVjdCB7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQ6IE5vcm1hbGl6ZWREdXJhdGlvblVuaXQgPSB7XG4gICAgICAgICAgICB5ZWFyOiBcInllYXJzXCIsXG4gICAgICAgICAgICB5ZWFyczogXCJ5ZWFyc1wiLFxuICAgICAgICAgICAgcXVhcnRlcjogXCJxdWFydGVyc1wiLFxuICAgICAgICAgICAgcXVhcnRlcnM6IFwicXVhcnRlcnNcIixcbiAgICAgICAgICAgIG1vbnRoOiBcIm1vbnRoc1wiLFxuICAgICAgICAgICAgbW9udGhzOiBcIm1vbnRoc1wiLFxuICAgICAgICAgICAgd2VlazogXCJ3ZWVrc1wiLFxuICAgICAgICAgICAgd2Vla3M6IFwid2Vla3NcIixcbiAgICAgICAgICAgIGRheTogXCJkYXlzXCIsXG4gICAgICAgICAgICBkYXlzOiBcImRheXNcIixcbiAgICAgICAgICAgIGhvdXI6IFwiaG91cnNcIixcbiAgICAgICAgICAgIGhvdXJzOiBcImhvdXJzXCIsXG4gICAgICAgICAgICBtaW51dGU6IFwibWludXRlc1wiLFxuICAgICAgICAgICAgbWludXRlczogXCJtaW51dGVzXCIsXG4gICAgICAgICAgICBzZWNvbmQ6IFwic2Vjb25kc1wiLFxuICAgICAgICAgICAgc2Vjb25kczogXCJzZWNvbmRzXCIsXG4gICAgICAgICAgICBtaWxsaXNlY29uZDogXCJtaWxsaXNlY29uZHNcIixcbiAgICAgICAgICAgIG1pbGxpc2Vjb25kczogXCJtaWxsaXNlY29uZHNcIlxuICAgICAgICB9W3VuaXQgYXMgRHVyYXRpb25Vbml0XSBhcyBOb3JtYWxpemVkRHVyYXRpb25Vbml0O1xuXG4gICAgICAgIGlmICghbm9ybWFsaXplZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRVbml0RXJyb3IodW5pdCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbm9ybWFsaXplZDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1heCB1bml0IGluIHRoZSBkdXJhdGlvbiwgZm9yY2luZyB0aGUgc2hpZnRpbmcgdG8gdGhlIG1heCBwb3NzaWJsZS5cbiAgICAgKiBGb3JjaW5nIHNvbHZlcyBoYXZpbmcgYmlnZ2VyIHVuaXRzIGF0IDAsIHdoZW4gY3JlYXRpbmcgd2l0aCBhIHNtYWxsZXIgdW5pdC5cbiAgICAgKiBFcy4gRHVyYXRpb24uZnJvbU1pbGxpcyg0OTQ1Njc2MTQ2OTcxODU0KVxuICAgICAqIEJ5IGRlZmF1bHQgaXQgdXNlcyBhbGwgdGhlIHVuaXRzLCBidXQgYSBmbGFnIGNhbiBiZSBwYXNzZWQgdG8gdXNlIG9ubHkgSHVtYW4gZHVyYXRpb24gdW5pdHMgKGFsbCBleGNlcHQgcXVhcnRlcnMgYW5kIHdlZWtzKVxuICAgICAqIEBwYXJhbSBvbmx5SHVtYW4gLSBDaG9vc2UgaWYgdXNpbmcgT1JERVJFRF9VTklUUyAoZGVmYXVsdCkgb3IgSFVNQU5fT1JERVJFRF9VTklUU1xuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBganNcbiAgICAgKiB2YXIgZHVyID0gRHVyYXRpb24uZnJvbU9iamVjdCh7IG1pbnV0ZXM6IDYxIH0pXG4gICAgICogZHVyLmdldE1heFVuaXQoKSAvLz0+ICdob3VycydcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBnZXRNYXhVbml0KG9ubHlIdW1hbjogZmFsc2UpOiBOb3JtYWxpemVkRHVyYXRpb25Vbml0O1xuICAgIGdldE1heFVuaXQob25seUh1bWFuOiB0cnVlKTogTm9ybWFsaXplZEh1bWFuRHVyYXRpb25Vbml0O1xuICAgIGdldE1heFVuaXQob25seUh1bWFuOiBib29sZWFuID0gITEpOiBOb3JtYWxpemVkRHVyYXRpb25Vbml0IHwgTm9ybWFsaXplZEh1bWFuRHVyYXRpb25Vbml0IHtcbiAgICAgICAgY29uc3QgcmVmVW5pdHMgPSBvbmx5SHVtYW4gPyBIVU1BTl9PUkRFUkVEX1VOSVRTIDogT1JERVJFRF9VTklUUztcbiAgICAgICAgY29uc3QgdmFsOiBOb3JtYWxpemVkRHVyYXRpb25PYmplY3QgPSB0aGlzLnNoaWZ0VG8oLi4ucmVmVW5pdHMpLnRvT2JqZWN0KCk7XG5cbiAgICAgICAgcmV0dXJuIHJlZlVuaXRzLmZpbmQoKGs6IE5vcm1hbGl6ZWREdXJhdGlvblVuaXQpID0+ICh2YWxba10gfHwgMCkgPiAwKSB8fCBSRVZFUlNFX09SREVSRURfVU5JVFNbMF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIER1cmF0aW9uIGZvcm1hdHRlZCBhY2NvcmRpbmcgdG8gdGhlIHNwZWNpZmllZCBmb3JtYXQgc3RyaW5nLiBZb3UgbWF5IHVzZSB0aGVzZSB0b2tlbnM6XG4gICAgICogKiBgU2AgZm9yIG1pbGxpc2Vjb25kc1xuICAgICAqICogYHNgIGZvciBzZWNvbmRzXG4gICAgICogKiBgbWAgZm9yIG1pbnV0ZXNcbiAgICAgKiAqIGBoYCBmb3IgaG91cnNcbiAgICAgKiAqIGBkYCBmb3IgZGF5c1xuICAgICAqICogYHdgIGZvciB3ZWVrc1xuICAgICAqICogYE1gIGZvciBtb250aHNcbiAgICAgKiAqIGB5YCBmb3IgeWVhcnNcbiAgICAgKiBOb3RlczpcbiAgICAgKiAqIEFkZCBwYWRkaW5nIGJ5IHJlcGVhdGluZyB0aGUgdG9rZW4sIGUuZy4gXCJ5eVwiIHBhZHMgdGhlIHllYXJzIHRvIHR3byBkaWdpdHMsIFwiaGhoaFwiIHBhZHMgdGhlIGhvdXJzIG91dCB0byBmb3VyIGRpZ2l0c1xuICAgICAqICogVG9rZW5zIGNhbiBiZSBlc2NhcGVkIGJ5IHdyYXBwaW5nIHdpdGggc2luZ2xlIHF1b3Rlcy5cbiAgICAgKiAqIFRoZSBkdXJhdGlvbiB3aWxsIGJlIGNvbnZlcnRlZCB0byB0aGUgc2V0IG9mIHVuaXRzIGluIHRoZSBmb3JtYXQgc3RyaW5nIHVzaW5nIHtAbGluayBEdXJhdGlvbiNzaGlmdFRvfSBhbmQgdGhlIER1cmF0aW9ucycgY29udmVyc2lvbiBhY2N1cmFjeSBzZXR0aW5nLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmbXQgLSB0aGUgZm9ybWF0IHN0cmluZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuZmxvb3I9dHJ1ZV0gLSBmbG9vciBudW1lcmljYWwgdmFsdWVzXG4gICAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbU9iamVjdCh7IHllYXJzOiAxLCBkYXlzOiA2LCBzZWNvbmRzOiAyIH0pLnRvRm9ybWF0KFwieSBkIHNcIikgLy89PiBcIjEgNiAyXCJcbiAgICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tT2JqZWN0KHsgeWVhcnM6IDEsIGRheXM6IDYsIHNlY29uZHM6IDIgfSkudG9Gb3JtYXQoXCJ5eSBkZCBzc3NcIikgLy89PiBcIjAxIDA2IDAwMlwiXG4gICAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbU9iamVjdCh7IHllYXJzOiAxLCBkYXlzOiA2LCBzZWNvbmRzOiAyIH0pLnRvRm9ybWF0KFwiTSBTXCIpIC8vPT4gXCIxMiA1MTg0MDIwMDBcIlxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cbiAgICB0b0Zvcm1hdChmbXQ6IHN0cmluZywgb3B0czogRHVyYXRpb25Ub0Zvcm1hdE9wdGlvbnMgPSB7IGZsb29yOiB0cnVlIH0pIHtcbiAgICAgICAgLy8gcmV2ZXJzZS1jb21wYXQgc2luY2UgMS4yOyB3ZSBhbHdheXMgcm91bmQgZG93biBub3csIG5ldmVyIHVwLCBhbmQgd2UgZG8gaXQgYnkgZGVmYXVsdFxuICAgICAgICBjb25zdCBmbXRPcHRzID0ge1xuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgICAgIGZsb29yOiBvcHRzLnJvdW5kICE9PSBmYWxzZSAmJiBvcHRzLmZsb29yICE9PSBmYWxzZVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWRcbiAgICAgICAgICAgID8gRm9ybWF0dGVyLmNyZWF0ZSh0aGlzLl9sb2MsIGZtdE9wdHMpLmZvcm1hdER1cmF0aW9uRnJvbVN0cmluZyh0aGlzLCBmbXQpXG4gICAgICAgICAgICA6IElOVkFMSUQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIER1cmF0aW9uIHdpdGggYWxsIHVuaXRzIGluY2x1ZGVkLlxuICAgICAqIFRvIG1vZGlmeSBpdHMgYmVoYXZpb3IgdXNlIHRoZSBgbGlzdFN0eWxlYCBhbmQgYW55IEludGwuTnVtYmVyRm9ybWF0IG9wdGlvbiwgdGhvdWdoIGB1bml0RGlzcGxheWAgaXMgZXNwZWNpYWxseSByZWxldmFudC5cbiAgICAgKiBZb3UgY2FuIGFsc28gZXhjbHVkZSBxdWFydGVycyBhbmQgd2Vla3MsIGJ5IHBhc3NpbmcgeyBvbmx5SHVtYW5Vbml0czogdHJ1ZSB9XG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9JbnRsL051bWJlckZvcm1hdFxuICAgICAqIEBwYXJhbSBvcHRzIC0gT24gb3B0aW9uIG9iamVjdCB0byBvdmVycmlkZSB0aGUgZm9ybWF0dGluZy4gQWNjZXB0cyB0aGUgc2FtZSBrZXlzIGFzIHRoZSBvcHRpb25zIHBhcmFtZXRlciBvZiB0aGUgbmF0aXZlIGBJbnQuTnVtYmVyRm9ybWF0YCBjb25zdHJ1Y3RvciwgYXMgd2VsbCBhcyBgbGlzdFN0eWxlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYGpzXG4gICAgICogdmFyIGR1ciA9IER1cmF0aW9uLmZyb21PYmplY3QoeyBkYXlzOiAxLCBob3VyczogNSwgbWludXRlczogNiB9KVxuICAgICAqIGR1ci50b0h1bWFuKCkgLy89PiAnMSBkYXksIDUgaG91cnMsIDYgbWludXRlcydcbiAgICAgKiBkdXIudG9IdW1hbih7IGxpc3RTdHlsZTogXCJsb25nXCIgfSkgLy89PiAnMSBkYXksIDUgaG91cnMsIGFuZCA2IG1pbnV0ZXMnXG4gICAgICogZHVyLnRvSHVtYW4oeyB1bml0RGlzcGxheTogXCJzaG9ydFwiIH0pIC8vPT4gJzEgZGF5LCA1IGhyLCA2IG1pbidcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICB0b0h1bWFuKG9wdHM6IEludGwuTnVtYmVyRm9ybWF0T3B0aW9ucyAmIER1cmF0aW9uVG9IdW1hbk9wdGlvbnMgPSB7fSkge1xuICAgICAgICBjb25zdCBtYXhVbml0OiBOb3JtYWxpemVkSHVtYW5EdXJhdGlvblVuaXQgPSB0aGlzLmdldE1heFVuaXQoITApO1xuICAgICAgICBjb25zdCByZWZVbml0cyA9ICEhb3B0cy5vbmx5SHVtYW5Vbml0cyA/IEhVTUFOX09SREVSRURfVU5JVFMgOiBPUkRFUkVEX1VOSVRTO1xuICAgICAgICBjb25zdCBzaGlmdGVkID0gdGhpcy5zaGlmdFRvKC4uLnJlZlVuaXRzLnNsaWNlKHJlZlVuaXRzLmluZGV4T2YobWF4VW5pdCkpKTtcbiAgICAgICAgY29uc3Qgc2hpZnRlZFZhbHVlcyA9IHNoaWZ0ZWQudG9PYmplY3QoKTtcbiAgICAgICAgY29uc3QgbCA9IHJlZlVuaXRzXG4gICAgICAgICAgICAubWFwKCh1bml0OiBOb3JtYWxpemVkRHVyYXRpb25Vbml0KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsID0gc2hpZnRlZFZhbHVlc1t1bml0XTtcbiAgICAgICAgICAgICAgICBpZiAoaXNVbmRlZmluZWQodmFsKSB8fCB2YWwgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2NcbiAgICAgICAgICAgICAgICAgICAgLm51bWJlckZvcm1hdHRlcih7IHN0eWxlOiBcInVuaXRcIiwgdW5pdERpc3BsYXk6IFwibG9uZ1wiLCAuLi5vcHRzLCB1bml0OiB1bml0LnNsaWNlKDAsIC0xKSB9KVxuICAgICAgICAgICAgICAgICAgICAuZm9ybWF0KHZhbCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmZpbHRlcigobikgPT4gbik7XG5cbiAgICAgICAgY29uc3QgbWVyZ2VkT3B0cyA9IHtcbiAgICAgICAgICAgIHR5cGU6IFwiY29uanVuY3Rpb25cIixcbiAgICAgICAgICAgIHN0eWxlOiBvcHRzLmxpc3RTdHlsZSB8fCBcIm5hcnJvd1wiLCAuLi5vcHRzXG4gICAgICAgIH0gYXMgSW50bC5MaXN0Rm9ybWF0T3B0aW9ucztcblxuICAgICAgICByZXR1cm4gdGhpcy5fbG9jXG4gICAgICAgICAgICAubGlzdEZvcm1hdHRlcihtZXJnZWRPcHRzKVxuICAgICAgICAgICAgLmZvcm1hdChsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgSmF2YVNjcmlwdCBvYmplY3Qgd2l0aCB0aGlzIER1cmF0aW9uJ3MgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21PYmplY3QoeyB5ZWFyczogMSwgZGF5czogNiwgc2Vjb25kczogMiB9KS50b09iamVjdCgpIC8vPT4geyB5ZWFyczogMSwgZGF5czogNiwgc2Vjb25kczogMiB9XG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRvT2JqZWN0KCk6IER1cmF0aW9uT2JqZWN0ICYgUGFydGlhbDxEdXJhdGlvbk9wdGlvbnM+IHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi50aGlzLl92YWx1ZXNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIElTTyA4NjAxLWNvbXBsaWFudCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBEdXJhdGlvbi5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT184NjAxI0R1cmF0aW9uc1xuICAgICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21PYmplY3QoeyB5ZWFyczogMywgc2Vjb25kczogNDUgfSkudG9JU08oKSAvLz0+ICdQM1lUNDVTJ1xuICAgICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21PYmplY3QoeyBtb250aHM6IDQsIHNlY29uZHM6IDQ1IH0pLnRvSVNPKCkgLy89PiAnUDRNVDQ1UydcbiAgICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tT2JqZWN0KHsgbW9udGhzOiA1IH0pLnRvSVNPKCkgLy89PiAnUDVNJ1xuICAgICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21PYmplY3QoeyBtaW51dGVzOiA1IH0pLnRvSVNPKCkgLy89PiAnUFQ1TSdcbiAgICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tT2JqZWN0KHsgbWlsbGlzZWNvbmRzOiA2IH0pLnRvSVNPKCkgLy89PiAnUFQwLjAwNlMnXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRvSVNPKCkge1xuICAgICAgICAvLyB3ZSBjb3VsZCB1c2UgdGhlIGZvcm1hdHRlciwgYnV0IHRoaXMgaXMgYW4gZWFzaWVyIHdheSB0byBnZXQgdGhlIG1pbmltdW0gc3RyaW5nXG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcyA9IFwiUFwiO1xuICAgICAgICBpZiAodGhpcy55ZWFycyAhPT0gMCkge1xuICAgICAgICAgICAgcyArPSB0aGlzLnllYXJzICsgXCJZXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubW9udGhzICE9PSAwIHx8IHRoaXMucXVhcnRlcnMgIT09IDApIHtcbiAgICAgICAgICAgIHMgKz0gdGhpcy5tb250aHMgKyB0aGlzLnF1YXJ0ZXJzICogMyArIFwiTVwiO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLndlZWtzICE9PSAwKSB7XG4gICAgICAgICAgICBzICs9IHRoaXMud2Vla3MgKyBcIldcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kYXlzICE9PSAwKSB7XG4gICAgICAgICAgICBzICs9IHRoaXMuZGF5cyArIFwiRFwiO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhvdXJzICE9PSAwIHx8IHRoaXMubWludXRlcyAhPT0gMCB8fCB0aGlzLnNlY29uZHMgIT09IDAgfHwgdGhpcy5taWxsaXNlY29uZHMgIT09IDApIHtcbiAgICAgICAgICAgIHMgKz0gXCJUXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaG91cnMgIT09IDApIHtcbiAgICAgICAgICAgIHMgKz0gdGhpcy5ob3VycyArIFwiSFwiO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm1pbnV0ZXMgIT09IDApIHtcbiAgICAgICAgICAgIHMgKz0gdGhpcy5taW51dGVzICsgXCJNXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2Vjb25kcyAhPT0gMCB8fCB0aGlzLm1pbGxpc2Vjb25kcyAhPT0gMCkge1xuICAgICAgICAgICAgLy8gdGhpcyB3aWxsIGhhbmRsZSBcImZsb2F0aW5nIHBvaW50IG1hZG5lc3NcIiBieSByZW1vdmluZyBleHRyYSBkZWNpbWFsIHBsYWNlc1xuICAgICAgICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTg4MDA0L2lzLWZsb2F0aW5nLXBvaW50LW1hdGgtYnJva2VuXG4gICAgICAgICAgICBzICs9IHJvdW5kVG8odGhpcy5zZWNvbmRzICsgdGhpcy5taWxsaXNlY29uZHMgLyAxMDAwLCAzKSArIFwiU1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzID09PSBcIlBcIikge1xuICAgICAgICAgICAgcyArPSBcIlQwU1wiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gSVNPIDg2MDEtY29tcGxpYW50IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIER1cmF0aW9uLCBmb3JtYXR0ZWQgYXMgYSB0aW1lIG9mIGRheS5cbiAgICAgKiBOb3RlIHRoYXQgdGhpcyB3aWxsIHJldHVybiBudWxsIGlmIHRoZSBkdXJhdGlvbiBpcyBpbnZhbGlkLCBuZWdhdGl2ZSwgb3IgZXF1YWwgdG8gb3IgZ3JlYXRlciB0aGFuIDI0IGhvdXJzLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPXzg2MDEjVGltZXNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnN1cHByZXNzTWlsbGlzZWNvbmRzPWZhbHNlXSAtIGV4Y2x1ZGUgbWlsbGlzZWNvbmRzIGZyb20gdGhlIGZvcm1hdCBpZiB0aGV5J3JlIDBcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnN1cHByZXNzU2Vjb25kcz1mYWxzZV0gLSBleGNsdWRlIHNlY29uZHMgZnJvbSB0aGUgZm9ybWF0IGlmIHRoZXkncmUgMFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuaW5jbHVkZVByZWZpeD1mYWxzZV0gLSBpbmNsdWRlIHRoZSBgVGAgcHJlZml4XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmZvcm1hdD0nZXh0ZW5kZWQnXSAtIGNob29zZSBiZXR3ZWVuIHRoZSBiYXNpYyBhbmQgZXh0ZW5kZWQgZm9ybWF0XG4gICAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbU9iamVjdCh7IGhvdXJzOiAxMSB9KS50b0lTT1RpbWUoKSAvLz0+ICcxMTowMDowMC4wMDAnXG4gICAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbU9iamVjdCh7IGhvdXJzOiAxMSB9KS50b0lTT1RpbWUoeyBzdXBwcmVzc01pbGxpc2Vjb25kczogdHJ1ZSB9KSAvLz0+ICcxMTowMDowMCdcbiAgICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tT2JqZWN0KHsgaG91cnM6IDExIH0pLnRvSVNPVGltZSh7IHN1cHByZXNzU2Vjb25kczogdHJ1ZSB9KSAvLz0+ICcxMTowMCdcbiAgICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tT2JqZWN0KHsgaG91cnM6IDExIH0pLnRvSVNPVGltZSh7IGluY2x1ZGVQcmVmaXg6IHRydWUgfSkgLy89PiAnVDExOjAwOjAwLjAwMCdcbiAgICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tT2JqZWN0KHsgaG91cnM6IDExIH0pLnRvSVNPVGltZSh7IGZvcm1hdDogJ2Jhc2ljJyB9KSAvLz0+ICcxMTAwMDAuMDAwJ1xuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cbiAgICB0b0lTT1RpbWUob3B0czogVG9JU09UaW1lT3B0aW9ucyA9IHt9KTogc3RyaW5nIHwgbnVsbCB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1pbGxpcyA9IHRoaXMudG9NaWxsaXMoKTtcbiAgICAgICAgaWYgKG1pbGxpcyA8IDAgfHwgbWlsbGlzID49IDg2NDAwMDAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdHMgPSB7XG4gICAgICAgICAgICBzdXBwcmVzc01pbGxpc2Vjb25kczogZmFsc2UsXG4gICAgICAgICAgICBzdXBwcmVzc1NlY29uZHM6IGZhbHNlLFxuICAgICAgICAgICAgaW5jbHVkZVByZWZpeDogZmFsc2UsXG4gICAgICAgICAgICBmb3JtYXQ6IFwiZXh0ZW5kZWRcIixcbiAgICAgICAgICAgIC4uLm9wdHNcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuc2hpZnRUbyhcImhvdXJzXCIsIFwibWludXRlc1wiLCBcInNlY29uZHNcIiwgXCJtaWxsaXNlY29uZHNcIik7XG5cbiAgICAgICAgbGV0IGZtdCA9IG9wdHMuZm9ybWF0ID09PSBcImJhc2ljXCIgPyBcImhobW1cIiA6IFwiaGg6bW1cIjtcblxuICAgICAgICBpZiAoIW9wdHMuc3VwcHJlc3NTZWNvbmRzIHx8IHZhbHVlLnNlY29uZHMgIT09IDAgfHwgdmFsdWUubWlsbGlzZWNvbmRzICE9PSAwKSB7XG4gICAgICAgICAgICBmbXQgKz0gb3B0cy5mb3JtYXQgPT09IFwiYmFzaWNcIiA/IFwic3NcIiA6IFwiOnNzXCI7XG4gICAgICAgICAgICBpZiAoIW9wdHMuc3VwcHJlc3NNaWxsaXNlY29uZHMgfHwgdmFsdWUubWlsbGlzZWNvbmRzICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgZm10ICs9IFwiLlNTU1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHN0ciA9IHZhbHVlLnRvRm9ybWF0KGZtdCk7XG5cbiAgICAgICAgaWYgKG9wdHMuaW5jbHVkZVByZWZpeCkge1xuICAgICAgICAgICAgc3RyID0gXCJUXCIgKyBzdHI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gSVNPIDg2MDEgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBEdXJhdGlvbiBhcHByb3ByaWF0ZSBmb3IgdXNlIGluIEpTT04uXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9JU08oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIElTTyA4NjAxIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgRHVyYXRpb24gYXBwcm9wcmlhdGUgZm9yIHVzZSBpbiBkZWJ1Z2dpbmcuXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b0lTTygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBtaWxsaXNlY29uZHMgdmFsdWUgb2YgdGhpcyBEdXJhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG4gICAgdG9NaWxsaXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFzKFwibWlsbGlzZWNvbmRzXCIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBtaWxsaXNlY29uZHMgdmFsdWUgb2YgdGhpcyBEdXJhdGlvbi4gQWxpYXMgb2Yge0BsaW5rIHRvTWlsbGlzfVxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKi9cbiAgICB2YWx1ZU9mKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b01pbGxpcygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1ha2UgdGhpcyBEdXJhdGlvbiBsb25nZXIgYnkgdGhlIHNwZWNpZmllZCBhbW91bnQuIFJldHVybiBhIG5ld2x5LWNvbnN0cnVjdGVkIER1cmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RHVyYXRpb258T2JqZWN0fSBkdXJhdGlvbiAtIFRoZSBhbW91bnQgdG8gYWRkLiBFaXRoZXIgYSBMdXhvbiBEdXJhdGlvbiBvciB0aGUgb2JqZWN0IGFyZ3VtZW50IHRvIER1cmF0aW9uLmZyb21PYmplY3QoKVxuICAgICAqIEByZXR1cm4ge0R1cmF0aW9ufVxuICAgICAqL1xuICAgIHBsdXMoZHVyYXRpb246IER1cmF0aW9uTGlrZSk6IER1cmF0aW9uIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZHVyID0gRHVyYXRpb24uZnJvbUR1cmF0aW9uTGlrZShkdXJhdGlvbiksXG4gICAgICAgICAgICByZXN1bHQ6IE5vcm1hbGl6ZWREdXJhdGlvbk9iamVjdCA9IHt9O1xuXG4gICAgICAgIE9SREVSRURfVU5JVFMuZm9yRWFjaCh1bml0ID0+IHtcbiAgICAgICAgICAgIGlmIChkdXIuX3ZhbHVlc1t1bml0XSAhPT0gdW5kZWZpbmVkIHx8IHRoaXMuX3ZhbHVlc1t1bml0XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W3VuaXRdID0gZHVyLmdldCh1bml0KSArIHRoaXMuZ2V0KHVuaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fY2xvbmUodGhpcywgeyBfdmFsdWVzOiByZXN1bHQgfSwgITApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1ha2UgdGhpcyBEdXJhdGlvbiBzaG9ydGVyIGJ5IHRoZSBzcGVjaWZpZWQgYW1vdW50LiBSZXR1cm4gYSBuZXdseS1jb25zdHJ1Y3RlZCBEdXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0R1cmF0aW9ufE9iamVjdH0gZHVyYXRpb24gLSBUaGUgYW1vdW50IHRvIHN1YnRyYWN0LiBFaXRoZXIgYSBMdXhvbiBEdXJhdGlvbiBvciB0aGUgb2JqZWN0IGFyZ3VtZW50IHRvIER1cmF0aW9uLmZyb21PYmplY3QoKVxuICAgICAqIEByZXR1cm4ge0R1cmF0aW9ufVxuICAgICAqL1xuICAgIG1pbnVzKGR1cmF0aW9uOiBEdXJhdGlvbkxpa2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGR1ciA9IER1cmF0aW9uLmZyb21EdXJhdGlvbkxpa2UoZHVyYXRpb24pO1xuICAgICAgICByZXR1cm4gdGhpcy5wbHVzKGR1ci5uZWdhdGUoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2NhbGUgdGhpcyBEdXJhdGlvbiBieSB0aGUgc3BlY2lmaWVkIGFtb3VudC4gUmV0dXJuIGEgbmV3bHktY29uc3RydWN0ZWQgRHVyYXRpb24uXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgdG8gZWFjaCB1bml0LiBBcml0eSBpcyAxIG9yIDI6IHRoZSB2YWx1ZSBvZiB0aGUgdW5pdCBhbmQsIG9wdGlvbmFsbHksIHRoZSB1bml0IG5hbWUuIE11c3QgcmV0dXJuIGEgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21PYmplY3QoeyBob3VyczogMSwgbWludXRlczogMzAgfSkubWFwVW5pdHMoeCA9PiB4ICogMikgLy89PiB7IGhvdXJzOiAyLCBtaW51dGVzOiA2MCB9XG4gICAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbU9iamVjdCh7IGhvdXJzOiAxLCBtaW51dGVzOiAzMCB9KS5tYXBVbml0cygoeCwgdSkgPT4gdSA9PT0gXCJob3VyXCIgPyB4ICogMiA6IHgpIC8vPT4geyBob3VyczogMiwgbWludXRlczogMzAgfVxuICAgICAqIEByZXR1cm4ge0R1cmF0aW9ufVxuICAgICAqL1xuICAgIG1hcFVuaXRzKGZuOiAoeDogbnVtYmVyLCB1bml0OiBEdXJhdGlvblVuaXQpID0+IG51bWJlcik6IER1cmF0aW9uIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdDogTm9ybWFsaXplZER1cmF0aW9uT2JqZWN0ID0ge307XG5cbiAgICAgICAgKE9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcykgYXMgTm9ybWFsaXplZER1cmF0aW9uVW5pdFtdKS5mb3JFYWNoKCh1bml0OiBOb3JtYWxpemVkRHVyYXRpb25Vbml0KSA9PiB7XG4gICAgICAgICAgICByZXN1bHRbdW5pdF0gPSBhc051bWJlcihmbih0aGlzLl92YWx1ZXNbdW5pdF0gYXMgbnVtYmVyLCB1bml0KSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9jbG9uZSh0aGlzLCB7IF92YWx1ZXM6IHJlc3VsdCB9LCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZhbHVlIG9mIHVuaXQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVuaXQgLSBhIHVuaXQgc3VjaCBhcyAnbWludXRlJyBvciAnZGF5J1xuICAgICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21PYmplY3Qoe3llYXJzOiAyLCBkYXlzOiAzfSkuZ2V0KCd5ZWFycycpIC8vPT4gMlxuICAgICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21PYmplY3Qoe3llYXJzOiAyLCBkYXlzOiAzfSkuZ2V0KCdtb250aHMnKSAvLz0+IDBcbiAgICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tT2JqZWN0KHt5ZWFyczogMiwgZGF5czogM30pLmdldCgnZGF5cycpIC8vPT4gM1xuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQodW5pdDogRHVyYXRpb25Vbml0KTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbRHVyYXRpb24ubm9ybWFsaXplVW5pdCh1bml0KV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXCJTZXRcIiB0aGUgdmFsdWVzIG9mIHNwZWNpZmllZCB1bml0cy4gTm9uLXNwZWNpZmllZCB1bml0cyBzdGF5IHVuY2hhbmdlZC4gUmV0dXJuIGEgbmV3bHktY29uc3RydWN0ZWQgRHVyYXRpb24uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHZhbHVlcyAtIGEgbWFwcGluZyBvZiB1bml0cyB0byBudW1iZXJzXG4gICAgICogQGV4YW1wbGUgZHVyLnNldCh7IHllYXJzOiAyMDE3IH0pXG4gICAgICogQGV4YW1wbGUgZHVyLnNldCh7IGhvdXJzOiA4LCBtaW51dGVzOiAzMCB9KVxuICAgICAqIEByZXR1cm4ge0R1cmF0aW9ufVxuICAgICAqL1xuICAgIHNldCh2YWx1ZXM6IER1cmF0aW9uT2JqZWN0KSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtaXhlZCA9IHtcbiAgICAgICAgICAgIC4uLnRoaXMuX3ZhbHVlcyxcbiAgICAgICAgICAgIC4uLm5vcm1hbGl6ZU9iamVjdCh2YWx1ZXMgYXMgUmVjb3JkPHN0cmluZywgbnVtYmVyPiwgRHVyYXRpb24ubm9ybWFsaXplVW5pdClcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fY2xvbmUodGhpcywgeyBfdmFsdWVzOiBtaXhlZCB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcIlNldFwiIHRoZSBsb2NhbGUgYW5kL29yIG51bWJlcmluZ1N5c3RlbSBhbmQvb3IgY29udmVyc2lvbkFjY3VyYWN5LiBSZXR1cm5zIGEgbmV3bHktY29uc3RydWN0ZWQgRHVyYXRpb24uXG4gICAgICogQGV4YW1wbGUgZHVyLnJlY29uZmlndXJlKHsgbG9jYWxlOiAnZW4tR0InIH0pXG4gICAgICogQHJldHVybiB7RHVyYXRpb259XG4gICAgICovXG4gICAgcmVjb25maWd1cmUoeyBsb2NhbGUsIG51bWJlcmluZ1N5c3RlbSwgY29udmVyc2lvbkFjY3VyYWN5IH06IER1cmF0aW9uT3B0aW9ucyA9IHt9KTogRHVyYXRpb24ge1xuICAgICAgICBjb25zdCBjb25mID0ge1xuICAgICAgICAgICAgdmFsdWVzOiB0aGlzLl92YWx1ZXMsXG4gICAgICAgICAgICBsb2M6IHRoaXMuX2xvYy5jbG9uZSh7IGxvY2FsZSwgbnVtYmVyaW5nU3lzdGVtIH0pLFxuICAgICAgICAgICAgY29udmVyc2lvbkFjY3VyYWN5OiBjb252ZXJzaW9uQWNjdXJhY3kgfHwgdGhpcy5fY29udmVyc2lvbkFjY3VyYWN5XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXcgRHVyYXRpb24oY29uZik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBsZW5ndGggb2YgdGhlIGR1cmF0aW9uIGluIHRoZSBzcGVjaWZpZWQgdW5pdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdW5pdCAtIGEgdW5pdCBzdWNoIGFzICdtaW51dGVzJyBvciAnZGF5cydcbiAgICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tT2JqZWN0KHt5ZWFyczogMX0pLmFzKCdkYXlzJykgLy89PiAzNjVcbiAgICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tT2JqZWN0KHt5ZWFyczogMX0pLmFzKCdtb250aHMnKSAvLz0+IDEyXG4gICAgICogQGV4YW1wbGUgRHVyYXRpb24uZnJvbU9iamVjdCh7aG91cnM6IDYwfSkuYXMoJ2RheXMnKSAvLz0+IDIuNVxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKi9cbiAgICBhcyh1bml0OiBEdXJhdGlvblVuaXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hpZnRUbyh1bml0KS5nZXQodW5pdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVkdWNlIHRoaXMgRHVyYXRpb24gdG8gaXRzIGNhbm9uaWNhbCByZXByZXNlbnRhdGlvbiBpbiBpdHMgY3VycmVudCB1bml0cy5cbiAgICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tT2JqZWN0KHsgeWVhcnM6IDIsIGRheXM6IDUwMDAgfSkubm9ybWFsaXplKCkudG9PYmplY3QoKSAvLz0+IHsgeWVhcnM6IDE1LCBkYXlzOiAyNTUgfVxuICAgICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21PYmplY3QoeyBob3VyczogMTIsIG1pbnV0ZXM6IC00NSB9KS5ub3JtYWxpemUoKS50b09iamVjdCgpIC8vPT4geyBob3VyczogMTEsIG1pbnV0ZXM6IDE1IH1cbiAgICAgKiBAcmV0dXJuIHtEdXJhdGlvbn1cbiAgICAgKi9cbiAgICBub3JtYWxpemUoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWxzID0gdGhpcy50b09iamVjdCgpO1xuICAgICAgICBub3JtYWxpemVWYWx1ZXModGhpcy5fbWF0cml4LCB2YWxzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Nsb25lKHRoaXMsIHsgX3ZhbHVlczogdmFscyB9LCAhMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzY2FsZSB1bml0cyB0byBpdHMgbGFyZ2VzdCByZXByZXNlbnRhdGlvblxuICAgICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21PYmplY3QoeyBtaWxsaXNlY29uZHM6IDkwMDAwIH0pLnJlc2NhbGUoKS50b09iamVjdCgpIC8vPT4geyBtaW51dGVzOiAxLCBzZWNvbmRzOiAzMCB9XG4gICAgICogQHJldHVybiB7RHVyYXRpb259XG4gICAgICovXG4gICAgcmVzY2FsZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHMgPSByZW1vdmVaZXJvZXModGhpcy5ub3JtYWxpemUoKS5zaGlmdFRvQWxsKCkudG9PYmplY3QoKSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbG9uZSh0aGlzLCB7IF92YWx1ZXM6IHZhbHMgfSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB0aGlzIER1cmF0aW9uIGludG8gaXRzIHJlcHJlc2VudGF0aW9uIGluIGEgZGlmZmVyZW50IHNldCBvZiB1bml0cy5cbiAgICAgKiBAZXhhbXBsZSBEdXJhdGlvbi5mcm9tT2JqZWN0KHsgaG91cnM6IDEsIHNlY29uZHM6IDMwIH0pLnNoaWZ0VG8oJ21pbnV0ZXMnLCAnbWlsbGlzZWNvbmRzJykudG9PYmplY3QoKSAvLz0+IHsgbWludXRlczogNjAsIG1pbGxpc2Vjb25kczogMzAwMDAgfVxuICAgICAqIEByZXR1cm4ge0R1cmF0aW9ufVxuICAgICAqL1xuICAgIHNoaWZ0VG8oLi4udW5pdHM6IER1cmF0aW9uVW5pdFtdKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkIHx8IHVuaXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB1bml0cyA9IHVuaXRzLm1hcCgodTogRHVyYXRpb25Vbml0KSA9PiBEdXJhdGlvbi5ub3JtYWxpemVVbml0KHUpKTtcblxuICAgICAgICBjb25zdCBidWlsdDogTm9ybWFsaXplZER1cmF0aW9uT2JqZWN0ID0ge30sXG4gICAgICAgICAgICBhY2N1bXVsYXRlZDogTm9ybWFsaXplZER1cmF0aW9uT2JqZWN0ID0ge30sXG4gICAgICAgICAgICB2YWxzOiBEdXJhdGlvbk9iamVjdCA9IHRoaXMudG9PYmplY3QoKTtcbiAgICAgICAgbGV0IGxhc3RVbml0OiBOb3JtYWxpemVkRHVyYXRpb25Vbml0O1xuXG4gICAgICAgIE9SREVSRURfVU5JVFMuZm9yRWFjaCgoazogTm9ybWFsaXplZER1cmF0aW9uVW5pdCkgPT4ge1xuICAgICAgICAgICAgaWYgKHVuaXRzLmluZGV4T2YoaykgPj0gMCkge1xuICAgICAgICAgICAgICAgIGxhc3RVbml0ID0gaztcblxuICAgICAgICAgICAgICAgIGxldCBvd24gPSAwO1xuXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoYWNjdW11bGF0ZWQpLmZvckVhY2goKGFrOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb3duICs9ICh0aGlzLl9tYXRyaXhbYWsgYXMgQ29udmVyc2lvbk1hdHJpeFVuaXRdW2tdIGFzIG51bWJlcikgKiAoYWNjdW11bGF0ZWRbYWsgYXMgTm9ybWFsaXplZER1cmF0aW9uVW5pdF0gYXMgbnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgYWNjdW11bGF0ZWRbYWsgYXMgTm9ybWFsaXplZER1cmF0aW9uVW5pdF0gPSAwO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gcGx1cyBhbnl0aGluZyB0aGF0J3MgYWxyZWFkeSBpbiB0aGlzIHVuaXRcbiAgICAgICAgICAgICAgICBpZiAoaXNOdW1iZXIodmFsc1trXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgb3duICs9IHZhbHNba10gYXMgbnVtYmVyO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBNYXRoLnRydW5jKG93bik7XG4gICAgICAgICAgICAgICAgYnVpbHRba10gPSBpO1xuICAgICAgICAgICAgICAgIGFjY3VtdWxhdGVkW2tdID0gKG93biAqIDEwMDAgLSBpICogMTAwMCkgLyAxMDAwO1xuXG4gICAgICAgICAgICAgICAgLy8gcGx1cyBhbnl0aGluZyBmdXJ0aGVyIGRvd24gdGhlIGNoYWluIHRoYXQgc2hvdWxkIGJlIHJvbGxlZCB1cCBpbiB0byB0aGlzXG4gICAgICAgICAgICAgICAgLy8gZm9yIChjb25zdCBkb3duIGluIHZhbHMpIHtcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh2YWxzKS5mb3JFYWNoKChkb3duOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKE9SREVSRURfVU5JVFMuaW5kZXhPZihkb3duIGFzIE5vcm1hbGl6ZWREdXJhdGlvblVuaXQpID4gT1JERVJFRF9VTklUUy5pbmRleE9mKGspKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb252ZXJ0KHRoaXMuX21hdHJpeCwgdmFscywgZG93biBhcyBOb3JtYWxpemVkRHVyYXRpb25Vbml0LCBidWlsdCwgayBhcyBDb252ZXJzaW9uTWF0cml4VW5pdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlLCBrZWVwIGl0IGluIHRoZSB3aW5ncyB0byBib2lsIGl0IGxhdGVyXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc051bWJlcih2YWxzW2tdKSkge1xuICAgICAgICAgICAgICAgIGFjY3VtdWxhdGVkW2tdID0gdmFsc1trXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gYW55dGhpbmcgbGVmdG92ZXIgYmVjb21lcyB0aGUgZGVjaW1hbCBmb3IgdGhlIGxhc3QgdW5pdFxuICAgICAgICAvLyBsYXN0VW5pdCBtdXN0IGJlIGRlZmluZWQgc2luY2UgdW5pdHMgaXMgbm90IGVtcHR5XG4gICAgICAgIE9iamVjdC5rZXlzKGFjY3VtdWxhdGVkKS5mb3JFYWNoKChrZXk6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgY29uc3QgdiA9IGFjY3VtdWxhdGVkW2tleSBhcyBOb3JtYWxpemVkRHVyYXRpb25Vbml0XSBhcyBudW1iZXI7XG4gICAgICAgICAgICBpZiAodiAhPT0gMCkge1xuICAgICAgICAgICAgICAgIChidWlsdFtsYXN0VW5pdF0gYXMgbnVtYmVyKSArPVxuICAgICAgICAgICAgICAgICAgICBrZXkgPT09IGxhc3RVbml0ID8gdiA6IHYgLyAodGhpcy5fbWF0cml4W2xhc3RVbml0IGFzIENvbnZlcnNpb25NYXRyaXhVbml0XVtrZXkgYXMgTm9ybWFsaXplZER1cmF0aW9uVW5pdF0gYXMgbnVtYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2Nsb25lKHRoaXMsIHsgX3ZhbHVlczogYnVpbHQgfSwgdHJ1ZSkubm9ybWFsaXplKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBTaGlmdCB0aGlzIER1cmF0aW9uIHRvIGFsbCBhdmFpbGFibGUgdW5pdHMuXG4gICAgICogU2FtZSBhcyBzaGlmdFRvKFwieWVhcnNcIiwgXCJtb250aHNcIiwgXCJ3ZWVrc1wiLCBcImRheXNcIiwgXCJob3Vyc1wiLCBcIm1pbnV0ZXNcIiwgXCJzZWNvbmRzXCIsIFwibWlsbGlzZWNvbmRzXCIpXG4gICAgICogQHJldHVybiB7RHVyYXRpb259XG4gICAgICovXG4gICAgc2hpZnRUb0FsbCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc2hpZnRUbyhcbiAgICAgICAgICAgIFwieWVhcnNcIixcbiAgICAgICAgICAgIFwibW9udGhzXCIsXG4gICAgICAgICAgICBcIndlZWtzXCIsXG4gICAgICAgICAgICBcImRheXNcIixcbiAgICAgICAgICAgIFwiaG91cnNcIixcbiAgICAgICAgICAgIFwibWludXRlc1wiLFxuICAgICAgICAgICAgXCJzZWNvbmRzXCIsXG4gICAgICAgICAgICBcIm1pbGxpc2Vjb25kc1wiXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBuZWdhdGl2ZSBvZiB0aGlzIER1cmF0aW9uLlxuICAgICAqIEBleGFtcGxlIER1cmF0aW9uLmZyb21PYmplY3QoeyBob3VyczogMSwgc2Vjb25kczogMzAgfSkubmVnYXRlKCkudG9PYmplY3QoKSAvLz0+IHsgaG91cnM6IC0xLCBzZWNvbmRzOiAtMzAgfVxuICAgICAqIEByZXR1cm4ge0R1cmF0aW9ufVxuICAgICAqL1xuICAgIG5lZ2F0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5lZ2F0ZWQ6IE5vcm1hbGl6ZWREdXJhdGlvbk9iamVjdCA9IHt9O1xuICAgICAgICAoT2JqZWN0LmtleXModGhpcy5fdmFsdWVzKSBhcyBOb3JtYWxpemVkRHVyYXRpb25Vbml0W10pLmZvckVhY2goKHVuaXQ6IE5vcm1hbGl6ZWREdXJhdGlvblVuaXQpID0+IHtcbiAgICAgICAgICAgIG5lZ2F0ZWRbdW5pdF0gPSB0aGlzLl92YWx1ZXNbdW5pdF0gPT09IDAgPyAwIDogLSh0aGlzLl92YWx1ZXNbdW5pdF0gYXMgbnVtYmVyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2Nsb25lKHRoaXMsIHsgX3ZhbHVlczogbmVnYXRlZCB9LCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHllYXJzLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHllYXJzKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyB0aGlzLl92YWx1ZXMueWVhcnMgfHwgMCA6IE5hTjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHF1YXJ0ZXJzLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHF1YXJ0ZXJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy5fdmFsdWVzLnF1YXJ0ZXJzIHx8IDAgOiBOYU47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtb250aHMuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgbW9udGhzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy5fdmFsdWVzLm1vbnRocyB8fCAwIDogTmFOO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgd2Vla3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCB3ZWVrcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMuX3ZhbHVlcy53ZWVrcyB8fCAwIDogTmFOO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZGF5cy5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBkYXlzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy5fdmFsdWVzLmRheXMgfHwgMCA6IE5hTjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGhvdXJzLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGhvdXJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy5fdmFsdWVzLmhvdXJzIHx8IDAgOiBOYU47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtaW51dGVzLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IG1pbnV0ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyB0aGlzLl92YWx1ZXMubWludXRlcyB8fCAwIDogTmFOO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2Vjb25kcy5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHNlY29uZHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyB0aGlzLl92YWx1ZXMuc2Vjb25kcyB8fCAwIDogTmFOO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbWlsbGlzZWNvbmRzLlxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgbWlsbGlzZWNvbmRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy5fdmFsdWVzLm1pbGxpc2Vjb25kcyB8fCAwIDogTmFOO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVxdWFsaXR5IGNoZWNrXG4gICAgICogVHdvIER1cmF0aW9ucyBhcmUgZXF1YWwgaWZmIHRoZXkgaGF2ZSB0aGUgc2FtZSB1bml0cyBhbmQgdGhlIHNhbWUgdmFsdWVzIGZvciBlYWNoIHVuaXQuXG4gICAgICogQHBhcmFtIHtEdXJhdGlvbn0gb3RoZXJcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqL1xuICAgIGVxdWFscyhvdGhlcjogRHVyYXRpb24pIHtcbiAgICAgICAgaWYgKCF0aGlzLl9sb2MuZXF1YWxzKG90aGVyLl9sb2MpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IHUgb2YgT1JERVJFRF9VTklUUykge1xuICAgICAgICAgICAgaWYgKCFlcSh0aGlzLl92YWx1ZXNbdV0sIG90aGVyLl92YWx1ZXNbdV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICAvLyBjbG9uZSByZWFsbHkgbWVhbnMgXCJjcmVhdGUgYW5vdGhlciBpbnN0YW5jZSBqdXN0IGxpa2UgdGhpcyBvbmUsIGJ1dCB3aXRoIHRoZXNlIGNoYW5nZXNcIlxuICAgIHByaXZhdGUgX2Nsb25lKGR1cjogRHVyYXRpb24sIGFsdHM6IHsgX3ZhbHVlczogTm9ybWFsaXplZER1cmF0aW9uT2JqZWN0LCBfbG9jPzogTG9jYWxlLCBjb252ZXJzaW9uQWNjdXJhY3k/OiBDb252ZXJzaW9uQWNjdXJhY3kgfSwgY2xlYXIgPSB0cnVlKTogRHVyYXRpb24ge1xuICAgICAgICAvLyBkZWVwIG1lcmdlIGZvciB2YWxzXG4gICAgICAgIGNvbnN0IGNvbmYgPSB7XG4gICAgICAgICAgICB2YWx1ZXM6IGNsZWFyID8gYWx0cy5fdmFsdWVzIDogeyAuLi5kdXIuX3ZhbHVlcywgLi4uKGFsdHMuX3ZhbHVlcyB8fCB7fSkgfSxcbiAgICAgICAgICAgIGxvYzogZHVyLl9sb2MuY2xvbmUoe1xuICAgICAgICAgICAgICAgIGxvY2FsZTogYWx0cy5fbG9jPy5sb2NhbGVcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgY29udmVyc2lvbkFjY3VyYWN5OiBhbHRzLmNvbnZlcnNpb25BY2N1cmFjeSB8fCBkdXIuY29udmVyc2lvbkFjY3VyYWN5XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXcgRHVyYXRpb24oY29uZik7XG4gICAgfVxuXG59XG5cbmV4cG9ydCB0eXBlIER1cmF0aW9uTGlrZSA9IER1cmF0aW9uIHwgVW5wYXJzZWREdXJhdGlvbk9iamVjdDtcbiIsImltcG9ydCB7IERhdGVUaW1lLCBEYXRlVGltZUxpa2UgfSBmcm9tIFwiLi9kYXRldGltZVwiO1xyXG5pbXBvcnQgeyBEdXJhdGlvbiwgRHVyYXRpb25MaWtlIH0gZnJvbSBcIi4vZHVyYXRpb25cIjtcclxuaW1wb3J0IHsgSW52YWxpZEFyZ3VtZW50RXJyb3IsIEludmFsaWRJbnRlcnZhbEVycm9yIH0gZnJvbSBcIi4vZXJyb3JzXCI7XHJcbmltcG9ydCB7IFRvSVNPVGltZU9wdGlvbnMsIERhdGVUaW1lT3B0aW9ucyB9IGZyb20gXCIuL3R5cGVzL2RhdGV0aW1lXCI7XHJcbmltcG9ydCB7IER1cmF0aW9uVW5pdCwgRHVyYXRpb25PcHRpb25zLCBEdXJhdGlvbk9iamVjdCB9IGZyb20gXCIuL3R5cGVzL2R1cmF0aW9uXCI7XHJcbmltcG9ydCB7IEludGVydmFsT2JqZWN0IH0gZnJvbSBcIi4vdHlwZXMvaW50ZXJ2YWxcIjtcclxuaW1wb3J0IHsgSW52YWxpZCB9IGZyb20gXCIuL3R5cGVzL2ludmFsaWRcIjtcclxuaW1wb3J0IHsgU2V0dGluZ3MgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xyXG5pbXBvcnQgeyBpc051bWJlciB9IGZyb20gXCIuL2ltcGwvdXRpbFwiO1xyXG5cclxuY29uc3QgSU5WQUxJRCA9IFwiSW52YWxpZCBJbnRlcnZhbFwiO1xyXG5cclxuaW50ZXJmYWNlIEludGVydmFsQm91bmRhcnkge1xyXG4gICAgdGltZTogRGF0ZVRpbWU7XHJcbiAgICB0eXBlOiBcInNcIiB8IFwiZVwiO1xyXG59XHJcblxyXG4vLyBjaGVja3MgaWYgdGhlIHN0YXJ0IGlzIGVxdWFsIHRvIG9yIGJlZm9yZSB0aGUgZW5kXHJcbmZ1bmN0aW9uIHZhbGlkYXRlU3RhcnRFbmQoc3RhcnQ/OiBEYXRlVGltZSwgZW5kPzogRGF0ZVRpbWUpOiBJbnRlcnZhbCB8IHZvaWQge1xyXG4gICAgaWYgKCFzdGFydCB8fCAhc3RhcnQuaXNWYWxpZCkge1xyXG4gICAgICAgIHJldHVybiBJbnRlcnZhbC5pbnZhbGlkKFwibWlzc2luZyBvciBpbnZhbGlkIHN0YXJ0XCIpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoIWVuZCB8fCAhZW5kLmlzVmFsaWQpIHtcclxuICAgICAgICByZXR1cm4gSW50ZXJ2YWwuaW52YWxpZChcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRcIik7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChlbmQgPCBzdGFydCkge1xyXG4gICAgICAgIHJldHVybiBJbnRlcnZhbC5pbnZhbGlkKFxyXG4gICAgICAgICAgICBcImVuZCBiZWZvcmUgc3RhcnRcIixcclxuICAgICAgICAgICAgYFRoZSBlbmQgb2YgYW4gaW50ZXJ2YWwgbXVzdCBiZSBhZnRlciBpdHMgc3RhcnQsIGJ1dCB5b3UgaGFkIHN0YXJ0PSR7c3RhcnQudG9JU08oKX0gYW5kIGVuZD0ke2VuZC50b0lTTygpfWBcclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBmcmllbmRseURhdGVUaW1lKGRhdGVUaW1laXNoOiBEYXRlVGltZUxpa2UpIHtcclxuICAgIGlmIChEYXRlVGltZS5pc0RhdGVUaW1lKGRhdGVUaW1laXNoKSkge1xyXG4gICAgICAgIHJldHVybiBkYXRlVGltZWlzaDtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGRhdGVUaW1laXNoICYmIGRhdGVUaW1laXNoLnZhbHVlT2YgJiYgaXNOdW1iZXIoZGF0ZVRpbWVpc2gudmFsdWVPZigpKSkge1xyXG4gICAgICAgIHJldHVybiBEYXRlVGltZS5mcm9tSlNEYXRlKGRhdGVUaW1laXNoIGFzIERhdGUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZGF0ZVRpbWVpc2ggJiYgdHlwZW9mIGRhdGVUaW1laXNoID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgcmV0dXJuIERhdGVUaW1lLmZyb21PYmplY3QoZGF0ZVRpbWVpc2ggYXMgRHVyYXRpb25PYmplY3QpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxyXG4gICAgICAgICAgICBgVW5rbm93biBkYXRldGltZSBhcmd1bWVudDogJHtkYXRlVGltZWlzaH0sIG9mIHR5cGUgJHt0eXBlb2YgZGF0ZVRpbWVpc2h9YFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmludGVyZmFjZSBDb25maWcge1xyXG4gICAgaW52YWxpZD86IEludmFsaWQ7XHJcbiAgICBzdGFydD86IERhdGVUaW1lO1xyXG4gICAgZW5kPzogRGF0ZVRpbWU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBbiBJbnRlcnZhbCBvYmplY3QgcmVwcmVzZW50cyBhIGhhbGYtb3BlbiBpbnRlcnZhbCBvZiB0aW1lLCB3aGVyZSBlYWNoIGVuZHBvaW50IGlzIGEge0BsaW5rIERhdGVUaW1lfS4gQ29uY2VwdHVhbGx5LCBpdCdzIGEgY29udGFpbmVyIGZvciB0aG9zZSB0d28gZW5kcG9pbnRzLCBhY2NvbXBhbmllZCBieSBtZXRob2RzIGZvciBjcmVhdGluZywgcGFyc2luZywgaW50ZXJyb2dhdGluZywgY29tcGFyaW5nLCB0cmFuc2Zvcm1pbmcsIGFuZCBmb3JtYXR0aW5nIHRoZW0uXHJcbiAqXHJcbiAqIEhlcmUgaXMgYSBicmllZiBvdmVydmlldyBvZiB0aGUgbW9zdCBjb21tb25seSB1c2VkIG1ldGhvZHMgYW5kIGdldHRlcnMgaW4gSW50ZXJ2YWw6XHJcbiAqXHJcbiAqICogKipDcmVhdGlvbioqIFRvIGNyZWF0ZSBhbiBJbnRlcnZhbCwgdXNlIHtAbGluayBJbnRlcnZhbCNmcm9tRGF0ZVRpbWVzfSwge0BsaW5rIEludGVydmFsI2FmdGVyfSwge0BsaW5rIEludGVydmFsI2JlZm9yZX0sIG9yIHtAbGluayBJbnRlcnZhbCNmcm9tSVNPfS5cclxuICogKiAqKkFjY2Vzc29ycyoqIFVzZSB7QGxpbmsgSW50ZXJ2YWwjc3RhcnR9IGFuZCB7QGxpbmsgSW50ZXJ2YWwjZW5kfSB0byBnZXQgdGhlIHN0YXJ0IGFuZCBlbmQuXHJcbiAqICogKipJbnRlcnJvZ2F0aW9uKiogVG8gYW5hbHl6ZSB0aGUgSW50ZXJ2YWwsIHVzZSB7QGxpbmsgSW50ZXJ2YWwjY291bnR9LCB7QGxpbmsgSW50ZXJ2YWwjbGVuZ3RofSwge0BsaW5rIEludGVydmFsI2hhc1NhbWV9LCB7QGxpbmsgSW50ZXJ2YWwjY29udGFpbnN9LCB7QGxpbmsgSW50ZXJ2YWwjaXNBZnRlcn0sIG9yIHtAbGluayBJbnRlcnZhbCNpc0JlZm9yZX0uXHJcbiAqICogKipUcmFuc2Zvcm1hdGlvbioqIFRvIGNyZWF0ZSBvdGhlciBJbnRlcnZhbHMgb3V0IG9mIHRoaXMgb25lLCB1c2Uge0BsaW5rIEludGVydmFsI3NldH0sIHtAbGluayBJbnRlcnZhbCNzcGxpdEF0fSwge0BsaW5rIEludGVydmFsI3NwbGl0Qnl9LCB7QGxpbmsgSW50ZXJ2YWwjZGl2aWRlRXF1YWxseX0sIHtAbGluayBJbnRlcnZhbCNtZXJnZX0sIHtAbGluayBJbnRlcnZhbCN4b3J9LCB7QGxpbmsgSW50ZXJ2YWwjdW5pb259LCB7QGxpbmsgSW50ZXJ2YWwjaW50ZXJzZWN0aW9ufSwgb3Ige0BsaW5rIEludGVydmFsI2RpZmZlcmVuY2V9LlxyXG4gKiAqICoqQ29tcGFyaXNvbioqIFRvIGNvbXBhcmUgdGhpcyBJbnRlcnZhbCB0byBhbm90aGVyIG9uZSwgdXNlIHtAbGluayBJbnRlcnZhbCNlcXVhbHN9LCB7QGxpbmsgSW50ZXJ2YWwjb3ZlcmxhcHN9LCB7QGxpbmsgSW50ZXJ2YWwjYWJ1dHNTdGFydH0sIHtAbGluayBJbnRlcnZhbCNhYnV0c0VuZH0sIHtAbGluayBJbnRlcnZhbCNlbmd1bGZzfVxyXG4gKiAqICoqT3V0cHV0KiogVG8gY29udmVydCB0aGUgSW50ZXJ2YWwgaW50byBvdGhlciByZXByZXNlbnRhdGlvbnMsIHNlZSB7QGxpbmsgSW50ZXJ2YWwjdG9TdHJpbmd9LCB7QGxpbmsgSW50ZXJ2YWwjdG9JU099LCB7QGxpbmsgSW50ZXJ2YWwjdG9JU09EYXRlfSwge0BsaW5rIEludGVydmFsI3RvSVNPVGltZX0sIHtAbGluayBJbnRlcnZhbCN0b0Zvcm1hdH0sIGFuZCB7QGxpbmsgSW50ZXJ2YWwjdG9EdXJhdGlvbn0uXHJcbiAqICovXHJcbmV4cG9ydCBjbGFzcyBJbnRlcnZhbCB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGFuIGVycm9yIGNvZGUgaWYgdGhpcyBJbnRlcnZhbCBpcyBpbnZhbGlkLCBvciBudWxsIGlmIHRoZSBJbnRlcnZhbCBpcyB2YWxpZFxyXG4gICAgICogQHR5cGUge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgZ2V0IGludmFsaWRSZWFzb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludmFsaWQgPyB0aGlzLl9pbnZhbGlkLnJlYXNvbiA6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhpcyBJbnRlcnZhbCdzIGVuZCBpcyBhdCBsZWFzdCBpdHMgc3RhcnQsIG1lYW5pbmcgdGhhdCB0aGUgSW50ZXJ2YWwgaXNuJ3QgJ2JhY2t3YXJkcycuXHJcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgZ2V0IGlzVmFsaWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW52YWxpZFJlYXNvbiA9PT0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBQcml2YXRlIHJlYWRvbmx5IGZpZWxkc1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfaW52YWxpZDogSW52YWxpZCB8IG51bGw7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9zOiBEYXRlVGltZTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2U6IERhdGVUaW1lO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfaXNMdXhvbkludGVydmFsOiB0cnVlO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3Rvcihjb25maWc6IENvbmZpZykge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBhY2Nlc3MgcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3MgPSBjb25maWcuc3RhcnQgYXMgRGF0ZVRpbWU7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGFjY2VzcyBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fZSA9IGNvbmZpZy5lbmQgYXMgRGF0ZVRpbWU7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGFjY2VzcyBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5faW52YWxpZCA9IGNvbmZpZy5pbnZhbGlkIHx8IG51bGw7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGFjY2VzcyBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5faXNMdXhvbkludGVydmFsID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIHN0YXJ0IG9mIHRoZSBJbnRlcnZhbFxyXG4gICAgICogQHR5cGUge0RhdGVUaW1lfVxyXG4gICAgICovXHJcbiAgICBnZXQgc3RhcnQoKTogRGF0ZVRpbWUgfCBudWxsIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy5fcyA6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBlbmQgb2YgdGhlIEludGVydmFsXHJcbiAgICAgKiBAdHlwZSB7RGF0ZVRpbWV9XHJcbiAgICAgKi9cclxuICAgIGdldCBlbmQoKTogRGF0ZVRpbWUgfCBudWxsIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy5fZSA6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYW4gSW50ZXJ2YWwgZnJvbSBhIHN0YXJ0IERhdGVUaW1lIGFuZCBhbiBlbmQgRGF0ZVRpbWUuIEluY2x1c2l2ZSBvZiB0aGUgc3RhcnQgYnV0IG5vdCB0aGUgZW5kLlxyXG4gICAgICogQHBhcmFtIHtEYXRlVGltZXxEYXRlfE9iamVjdH0gc3RhcnRcclxuICAgICAqIEBwYXJhbSB7RGF0ZVRpbWV8RGF0ZXxPYmplY3R9IGVuZFxyXG4gICAgICogQHJldHVybiB7SW50ZXJ2YWx9XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBmcm9tRGF0ZVRpbWVzKHN0YXJ0OiBEYXRlVGltZUxpa2UsIGVuZDogRGF0ZVRpbWVMaWtlKTogSW50ZXJ2YWwge1xyXG4gICAgICAgIGNvbnN0IGJ1aWx0U3RhcnQgPSBmcmllbmRseURhdGVUaW1lKHN0YXJ0KSxcclxuICAgICAgICAgICAgYnVpbHRFbmQgPSBmcmllbmRseURhdGVUaW1lKGVuZCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHZhbGlkYXRlRXJyb3IgPSB2YWxpZGF0ZVN0YXJ0RW5kKGJ1aWx0U3RhcnQsIGJ1aWx0RW5kKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlRXJyb3IgfHwgbmV3IEludGVydmFsKHtcclxuICAgICAgICAgICAgc3RhcnQ6IGJ1aWx0U3RhcnQsXHJcbiAgICAgICAgICAgIGVuZDogYnVpbHRFbmRcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhbiBJbnRlcnZhbCBmcm9tIGEgc3RhcnQgRGF0ZVRpbWUgYW5kIGEgRHVyYXRpb24gdG8gZXh0ZW5kIHRvLlxyXG4gICAgICogQHBhcmFtIHtEYXRlVGltZXxEYXRlfE9iamVjdH0gc3RhcnRcclxuICAgICAqIEBwYXJhbSB7RHVyYXRpb258T2JqZWN0fSBkdXJhdGlvbiAtIHRoZSBsZW5ndGggb2YgdGhlIEludGVydmFsLCBhcyBhIER1cmF0aW9uIG9iamVjdC5cclxuICAgICAqIEByZXR1cm4ge0ludGVydmFsfVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYWZ0ZXIoc3RhcnQ6IERhdGVUaW1lTGlrZSwgZHVyYXRpb246IER1cmF0aW9uTGlrZSkge1xyXG4gICAgICAgIGNvbnN0IGR1ciA9IER1cmF0aW9uLmZyb21EdXJhdGlvbkxpa2UoZHVyYXRpb24pLFxyXG4gICAgICAgICAgICBkdCA9IGZyaWVuZGx5RGF0ZVRpbWUoc3RhcnQpO1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IEludGVydmFsKHtcclxuICAgICAgICAgICAgc3RhcnQ6IGR0LFxyXG4gICAgICAgICAgICBlbmQ6IGR0ID8gZHQucGx1cyhkdXIpIDogdm9pZCAwXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYW4gSW50ZXJ2YWwgZnJvbSBhbiBlbmQgRGF0ZVRpbWUgYW5kIGEgRHVyYXRpb24gdG8gZXh0ZW5kIGJhY2t3YXJkcyB0by5cclxuICAgICAqIEBwYXJhbSB7RGF0ZVRpbWV8RGF0ZXxPYmplY3R9IGVuZFxyXG4gICAgICogQHBhcmFtIHtEdXJhdGlvbnxPYmplY3R9IGR1cmF0aW9uIC0gdGhlIGxlbmd0aCBvZiB0aGUgSW50ZXJ2YWwsIGFzIGEgRHVyYXRpb24gb2JqZWN0LlxyXG4gICAgICogQHJldHVybiB7SW50ZXJ2YWx9XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBiZWZvcmUoZW5kOiBEYXRlVGltZUxpa2UsIGR1cmF0aW9uOiBEdXJhdGlvbkxpa2UpIHtcclxuICAgICAgICBjb25zdCBkdXIgPSBEdXJhdGlvbi5mcm9tRHVyYXRpb25MaWtlKGR1cmF0aW9uKSxcclxuICAgICAgICAgICAgZHQgPSBmcmllbmRseURhdGVUaW1lKGVuZCk7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgSW50ZXJ2YWwoe1xyXG4gICAgICAgICAgICBzdGFydDogZHQgPyBkdC5taW51cyhkdXIpIDogdm9pZCAwLFxyXG4gICAgICAgICAgICBlbmQ6IGR0XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYW4gSW50ZXJ2YWwgZnJvbSBhbiBJU08gODYwMSBzdHJpbmcuXHJcbiAgICAgKiBBY2NlcHRzIGA8c3RhcnQ+LzxlbmQ+YCwgYDxzdGFydD4vPGR1cmF0aW9uPmAsIGFuZCBgPGR1cmF0aW9uPi88ZW5kPmAgZm9ybWF0cy5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gdGhlIElTTyBzdHJpbmcgdG8gcGFyc2VcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0c10gLSBvcHRpb25zIHRvIHBhc3Mge0BsaW5rIERhdGVUaW1lLmZyb21JU099IGFuZCBvcHRpb25hbGx5IHtAbGluayBEdXJhdGlvbi5mcm9tSVNPfVxyXG4gICAgICogQHNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fODYwMSNUaW1lX2ludGVydmFsc1xyXG4gICAgICogQHJldHVybiB7SW50ZXJ2YWx9XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBmcm9tSVNPKHRleHQ6IHN0cmluZywgb3B0czogRGF0ZVRpbWVPcHRpb25zID0ge30pIHtcclxuICAgICAgICBjb25zdCBbcywgZV0gPSAodGV4dCB8fCBcIlwiKS5zcGxpdChcIi9cIiwgMik7XHJcbiAgICAgICAgaWYgKHMgJiYgZSkge1xyXG4gICAgICAgICAgICBsZXQgc3RhcnQsIHN0YXJ0SXNWYWxpZDtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0ID0gRGF0ZVRpbWUuZnJvbUlTTyhzLCBvcHRzKTtcclxuICAgICAgICAgICAgICAgIHN0YXJ0SXNWYWxpZCA9IHN0YXJ0LmlzVmFsaWQ7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0SXNWYWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgZW5kLCBlbmRJc1ZhbGlkO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgZW5kID0gRGF0ZVRpbWUuZnJvbUlTTyhlLCBvcHRzKTtcclxuICAgICAgICAgICAgICAgIGVuZElzVmFsaWQgPSBlbmQuaXNWYWxpZDtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgZW5kSXNWYWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoc3RhcnRJc1ZhbGlkICYmIGVuZElzVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBJbnRlcnZhbC5mcm9tRGF0ZVRpbWVzKHN0YXJ0IGFzIERhdGVUaW1lLCBlbmQgYXMgRGF0ZVRpbWUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoc3RhcnRJc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkdXIgPSBEdXJhdGlvbi5mcm9tSVNPKGUsIG9wdHMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGR1ci5pc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEludGVydmFsLmFmdGVyKHN0YXJ0IGFzIERhdGVUaW1lLCBkdXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGVuZElzVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGR1ciA9IER1cmF0aW9uLmZyb21JU08ocywgb3B0cyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZHVyLmlzVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSW50ZXJ2YWwuYmVmb3JlKGVuZCBhcyBEYXRlVGltZSwgZHVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gSW50ZXJ2YWwuaW52YWxpZChcInVucGFyc2FibGVcIiwgYHRoZSBpbnB1dCBcIiR7dGV4dH1cIiBjYW4ndCBiZSBwYXJzZWQgYXMgSVNPIDg2MDFgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhbiBpbnZhbGlkIEludGVydmFsLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJlYXNvbiAtIHNpbXBsZSBzdHJpbmcgb2Ygd2h5IHRoaXMgSW50ZXJ2YWwgaXMgaW52YWxpZC4gU2hvdWxkIG5vdCBjb250YWluIHBhcmFtZXRlcnMgb3IgYW55dGhpbmcgZWxzZSBkYXRhLWRlcGVuZGVudFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtleHBsYW5hdGlvbj1udWxsXSAtIGxvbmdlciBleHBsYW5hdGlvbiwgbWF5IGluY2x1ZGUgcGFyYW1ldGVycyBhbmQgb3RoZXIgdXNlZnVsIGRlYnVnZ2luZyBpbmZvcm1hdGlvblxyXG4gICAgICogQHJldHVybiB7SW50ZXJ2YWx9XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBpbnZhbGlkKHJlYXNvbjogc3RyaW5nIHwgSW52YWxpZCwgZXhwbGFuYXRpb24/OiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAoIXJlYXNvbikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXCJuZWVkIHRvIHNwZWNpZnkgYSByZWFzb24gdGhlIEludGVydmFsIGlzIGludmFsaWRcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBpbnZhbGlkID0gcmVhc29uIGluc3RhbmNlb2YgSW52YWxpZCA/IHJlYXNvbiA6IG5ldyBJbnZhbGlkKHJlYXNvbiwgZXhwbGFuYXRpb24pO1xyXG5cclxuICAgICAgICBpZiAoU2V0dGluZ3MudGhyb3dPbkludmFsaWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRJbnRlcnZhbEVycm9yKGludmFsaWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnRlcnZhbCh7IGludmFsaWQgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYW4gb2JqZWN0IGlzIGFuIEludGVydmFsLiBXb3JrcyBhY3Jvc3MgY29udGV4dCBib3VuZGFyaWVzXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb1xyXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGlzSW50ZXJ2YWwobzogdW5rbm93bik6IG8gaXMgSW50ZXJ2YWwge1xyXG4gICAgICAgIHJldHVybiAoISFvICYmIChvIGFzIEludGVydmFsKS5faXNMdXhvbkludGVydmFsKSB8fCBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1lcmdlIGFuIGFycmF5IG9mIEludGVydmFscyBpbnRvIGEgZXF1aXZhbGVudCBtaW5pbWFsIHNldCBvZiBJbnRlcnZhbHMuXHJcbiAgICAgKiBDb21iaW5lcyBvdmVybGFwcGluZyBhbmQgYWRqYWNlbnQgSW50ZXJ2YWxzLlxyXG4gICAgICogQHBhcmFtIHtJbnRlcnZhbFtdfSBpbnRlcnZhbHNcclxuICAgICAqIEByZXR1cm4ge0ludGVydmFsW119XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBtZXJnZShpbnRlcnZhbHM6IEludGVydmFsW10pOiBJbnRlcnZhbFtdIHtcclxuICAgICAgICBjb25zdCBbZm91bmQsIGZpbmFsXSA9IGludGVydmFsc1xyXG4gICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYS5fcy52YWx1ZU9mKCkgLSBiLl9zLnZhbHVlT2YoKSlcclxuICAgICAgICAgICAgLnJlZHVjZTxbSW50ZXJ2YWxbXSwgSW50ZXJ2YWwgfCBudWxsXT4oXHJcbiAgICAgICAgICAgICAgICAoW3NvZmFyLCBjdXJyZW50XSwgaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3NvZmFyLCBpdGVtXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudC5vdmVybGFwcyhpdGVtKSB8fCBjdXJyZW50LmFidXRzU3RhcnQoaXRlbSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtzb2ZhciwgY3VycmVudC51bmlvbihpdGVtKV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3NvZmFyLmNvbmNhdChbY3VycmVudF0pLCBpdGVtXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgW1tdLCBudWxsXVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIGlmIChmaW5hbCkge1xyXG4gICAgICAgICAgICBmb3VuZC5wdXNoKGZpbmFsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZvdW5kO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIGFuIGFycmF5IG9mIEludGVydmFscyByZXByZXNlbnRpbmcgdGhlIHNwYW5zIG9mIHRpbWUgdGhhdCBvbmx5IGFwcGVhciBpbiBvbmUgb2YgdGhlIHNwZWNpZmllZCBJbnRlcnZhbHMuXHJcbiAgICAgKiBAcGFyYW0ge0ludGVydmFsW119IGludGVydmFsc1xyXG4gICAgICogQHJldHVybiB7SW50ZXJ2YWxbXX1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHhvcihpbnRlcnZhbHM6IEludGVydmFsW10pOiBJbnRlcnZhbFtdIHtcclxuICAgICAgICBsZXQgc3RhcnQ6IERhdGVUaW1lIHwgbnVsbCA9IG51bGwsIGN1cnJlbnRDb3VudCA9IDA7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBbXSxcclxuICAgICAgICAgICAgZW5kcyA9IGludGVydmFscy5tYXAoaSA9PiBbXHJcbiAgICAgICAgICAgICAgICB7IHRpbWU6IGkuX3MsIHR5cGU6IFwic1wiIH0sXHJcbiAgICAgICAgICAgICAgICB7IHRpbWU6IGkuX2UsIHR5cGU6IFwiZVwiIH1cclxuICAgICAgICAgICAgXSksXHJcbiAgICAgICAgICAgIGZsYXR0ZW5lZDogSW50ZXJ2YWxCb3VuZGFyeVtdID0gQXJyYXkucHJvdG90eXBlLmNvbmNhdCguLi5lbmRzKSxcclxuICAgICAgICAgICAgYXJyID0gZmxhdHRlbmVkLnNvcnQoKGEsIGIpID0+ICthLnRpbWUgLSArYi50aW1lKTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBpIG9mIGFycikge1xyXG4gICAgICAgICAgICBjdXJyZW50Q291bnQgKz0gaS50eXBlID09PSBcInNcIiA/IDEgOiAtMTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50Q291bnQgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0ID0gaS50aW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0ICYmIHN0YXJ0LnZhbHVlT2YoKSAhPT0gaS50aW1lLnZhbHVlT2YoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChJbnRlcnZhbC5mcm9tRGF0ZVRpbWVzKHN0YXJ0LCBpLnRpbWUpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzdGFydCA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBJbnRlcnZhbC5tZXJnZShyZXN1bHRzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGxlbmd0aCBvZiB0aGUgSW50ZXJ2YWwgaW4gdGhlIHNwZWNpZmllZCB1bml0LlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt1bml0PSdtaWxsaXNlY29uZHMnXSAtIHRoZSB1bml0IChzdWNoIGFzICdob3Vycycgb3IgJ2RheXMnKSB0byByZXR1cm4gdGhlIGxlbmd0aCBpbi5cclxuICAgICAqIEByZXR1cm4ge251bWJlcn1cclxuICAgICAqL1xyXG4gICAgbGVuZ3RoKHVuaXQ6IER1cmF0aW9uVW5pdCA9IFwibWlsbGlzZWNvbmRzXCIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50b0R1cmF0aW9uKHVuaXQpLmdldCh1bml0KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGNvdW50IG9mIG1pbnV0ZXMsIGhvdXJzLCBkYXlzLCBtb250aHMsIG9yIHllYXJzIGluY2x1ZGVkIGluIHRoZSBJbnRlcnZhbCwgZXZlbiBpbiBwYXJ0LlxyXG4gICAgICogVW5saWtlIHtAbGluayBJbnRlcnZhbCNsZW5ndGh9IHRoaXMgY291bnRzIHNlY3Rpb25zIG9mIHRoZSBjYWxlbmRhciwgbm90IHBlcmlvZHMgb2YgdGltZSwgZS5nLiBzcGVjaWZ5aW5nICdkYXknXHJcbiAgICAgKiBhc2tzICd3aGF0IGRhdGVzIGFyZSBpbmNsdWRlZCBpbiB0aGlzIGludGVydmFsPycsIG5vdCAnaG93IG1hbnkgZGF5cyBsb25nIGlzIHRoaXMgaW50ZXJ2YWw/J1xyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt1bml0PSdtaWxsaXNlY29uZHMnXSAtIHRoZSB1bml0IG9mIHRpbWUgdG8gY291bnQuXHJcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIGNvdW50KHVuaXQ6IER1cmF0aW9uVW5pdCA9IFwibWlsbGlzZWNvbmRzXCIpOiBudW1iZXIge1xyXG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBOYU47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHN0YXJ0IGlzIG5vdCBudWxsIGJlY2F1c2Ugbm90IGludmFsaWRcclxuICAgICAgICBjb25zdCBzdGFydCA9ICh0aGlzLnN0YXJ0IGFzIERhdGVUaW1lKS5zdGFydE9mKHVuaXQpO1xyXG4gICAgICAgIC8vIGVuZCBpcyBub3QgbnVsbCBiZWNhdXNlIG5vdCBpbnZhbGlkXHJcbiAgICAgICAgY29uc3QgZW5kID0gKHRoaXMuZW5kIGFzIERhdGVUaW1lKS5zdGFydE9mKHVuaXQpO1xyXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKGVuZC5kaWZmKHN0YXJ0LCB1bml0KS5nZXQodW5pdCkpICsgMTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGlzIEludGVydmFsJ3Mgc3RhcnQgYW5kIGVuZCBhcmUgYm90aCBpbiB0aGUgc2FtZSB1bml0IG9mIHRpbWVcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1bml0IC0gdGhlIHVuaXQgb2YgdGltZSB0byBjaGVjayBzYW1lbmVzcyBvblxyXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgaGFzU2FtZSh1bml0OiBEdXJhdGlvblVuaXQpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy5pc0VtcHR5KCkgfHwgdGhpcy5fZS5taW51cygxKS5oYXNTYW1lKHRoaXMuX3MsIHVuaXQpIDogZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gd2hldGhlciB0aGlzIEludGVydmFsIGhhcyB0aGUgc2FtZSBzdGFydCBhbmQgZW5kIERhdGVUaW1lcy5cclxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIGlzRW1wdHkoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3MudmFsdWVPZigpID09PSB0aGlzLl9lLnZhbHVlT2YoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiB3aGV0aGVyIHRoaXMgSW50ZXJ2YWwncyBzdGFydCBpcyBhZnRlciB0aGUgc3BlY2lmaWVkIERhdGVUaW1lLlxyXG4gICAgICogQHBhcmFtIHtEYXRlVGltZX0gZGF0ZVRpbWVcclxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIGlzQWZ0ZXIoZGF0ZVRpbWU6IERhdGVUaW1lKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3MgPiBkYXRlVGltZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiB3aGV0aGVyIHRoaXMgSW50ZXJ2YWwncyBlbmQgaXMgYmVmb3JlIHRoZSBzcGVjaWZpZWQgRGF0ZVRpbWUuXHJcbiAgICAgKiBAcGFyYW0ge0RhdGVUaW1lfSBkYXRlVGltZVxyXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgaXNCZWZvcmUoZGF0ZVRpbWU6IERhdGVUaW1lKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2UgPD0gZGF0ZVRpbWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gd2hldGhlciB0aGlzIEludGVydmFsIGNvbnRhaW5zIHRoZSBzcGVjaWZpZWQgRGF0ZVRpbWUuXHJcbiAgICAgKiBAcGFyYW0ge0RhdGVUaW1lfSBkYXRlVGltZVxyXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgY29udGFpbnMoZGF0ZVRpbWU6IERhdGVUaW1lKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3MgPD0gZGF0ZVRpbWUgJiYgdGhpcy5fZSA+IGRhdGVUaW1lO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXCJTZXRzXCIgdGhlIHN0YXJ0IGFuZC9vciBlbmQgZGF0ZXMuIFJldHVybnMgYSBuZXdseS1jb25zdHJ1Y3RlZCBJbnRlcnZhbC5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZXMgLSB0aGUgdmFsdWVzIHRvIHNldFxyXG4gICAgICogQHBhcmFtIHtEYXRlVGltZX0gdmFsdWVzLnN0YXJ0IC0gdGhlIHN0YXJ0aW5nIERhdGVUaW1lXHJcbiAgICAgKiBAcGFyYW0ge0RhdGVUaW1lfSB2YWx1ZXMuZW5kIC0gdGhlIGVuZGluZyBEYXRlVGltZVxyXG4gICAgICogQHJldHVybiB7SW50ZXJ2YWx9XHJcbiAgICAgKi9cclxuICAgIHNldCh7IHN0YXJ0LCBlbmQgfTogSW50ZXJ2YWxPYmplY3QgPSB7fSkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gSW50ZXJ2YWwuZnJvbURhdGVUaW1lcyhzdGFydCB8fCB0aGlzLl9zLCBlbmQgfHwgdGhpcy5fZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTcGxpdCB0aGlzIEludGVydmFsIGF0IGVhY2ggb2YgdGhlIHNwZWNpZmllZCBEYXRlVGltZXNcclxuICAgICAqIEBwYXJhbSB7Li4uW0RhdGVUaW1lXX0gZGF0ZVRpbWVzIC0gdGhlIHVuaXQgb2YgdGltZSB0byBjb3VudC5cclxuICAgICAqIEByZXR1cm4ge0ludGVydmFsW119XHJcbiAgICAgKi9cclxuICAgIHNwbGl0QXQoLi4uZGF0ZVRpbWVzOiBEYXRlVGltZUxpa2VbXSk6IEludGVydmFsW10ge1xyXG4gICAgICAgIGNvbnN0IHNvcnRlZCA9IGRhdGVUaW1lc1xyXG4gICAgICAgICAgICAubWFwKGZyaWVuZGx5RGF0ZVRpbWUpXHJcbiAgICAgICAgICAgIC5maWx0ZXIoKGQ6IERhdGVUaW1lKSA9PiB0aGlzLmNvbnRhaW5zKGQpKVxyXG4gICAgICAgICAgICAuc29ydCgpO1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcclxuICAgICAgICBsZXQgcyA9IHRoaXMuX3MsXHJcbiAgICAgICAgICAgIGkgPSAwO1xyXG5cclxuICAgICAgICB3aGlsZSAocyA8IHRoaXMuX2UpIHtcclxuICAgICAgICAgICAgY29uc3QgYWRkZWQgPSBzb3J0ZWRbaV0gfHwgdGhpcy5fZTtcclxuICAgICAgICAgICAgY29uc3QgbmV4dCA9ICthZGRlZCA+ICt0aGlzLl9lID8gdGhpcy5fZSA6IGFkZGVkO1xyXG4gICAgICAgICAgICByZXN1bHRzLnB1c2goSW50ZXJ2YWwuZnJvbURhdGVUaW1lcyhzLCBuZXh0KSk7XHJcbiAgICAgICAgICAgIHMgPSBuZXh0O1xyXG4gICAgICAgICAgICBpICs9IDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0cztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNwbGl0IHRoaXMgSW50ZXJ2YWwgaW50byBzbWFsbGVyIEludGVydmFscywgZWFjaCBvZiB0aGUgc3BlY2lmaWVkIGxlbmd0aC5cclxuICAgICAqIExlZnQgb3ZlciB0aW1lIGlzIGdyb3VwZWQgaW50byBhIHNtYWxsZXIgaW50ZXJ2YWxcclxuICAgICAqIEBwYXJhbSB7RHVyYXRpb258T2JqZWN0fSBkdXJhdGlvbiAtIFRoZSBsZW5ndGggb2YgZWFjaCByZXN1bHRpbmcgaW50ZXJ2YWwsIGFzIGEgRHVyYXRpb24gb2JqZWN0LlxyXG4gICAgICogQHJldHVybiB7SW50ZXJ2YWxbXX1cclxuICAgICAqL1xyXG4gICAgc3BsaXRCeShkdXJhdGlvbjogRHVyYXRpb25MaWtlKTogSW50ZXJ2YWxbXSB7XHJcbiAgICAgICAgY29uc3QgZHVyID0gRHVyYXRpb24uZnJvbUR1cmF0aW9uTGlrZShkdXJhdGlvbik7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkIHx8ICFkdXIuaXNWYWxpZCB8fCBkdXIuYXMoXCJtaWxsaXNlY29uZHNcIikgPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHMgPSB0aGlzLl9zLCBpZHggPSAxLCBuZXh0O1xyXG5cclxuICAgICAgICBjb25zdCByZXN1bHRzID0gW107XHJcbiAgICAgICAgd2hpbGUgKHMgPCB0aGlzLl9lKSB7XHJcbiAgICAgICAgICAgIC8vIFN0YXJ0IGlzIG5vdCBudWxsIGhlcmUgYmVjYXVzZSBpdCdzIHZhbGlkXHJcbiAgICAgICAgICAgIGNvbnN0IGFkZGVkID0gKHRoaXMuc3RhcnQgYXMgRGF0ZVRpbWUpLnBsdXMoZHVyLm1hcFVuaXRzKHggPT4geCAqIGlkeCkpO1xyXG4gICAgICAgICAgICBuZXh0ID0gK2FkZGVkID4gK3RoaXMuX2UgPyB0aGlzLl9lIDogYWRkZWQ7XHJcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChJbnRlcnZhbC5mcm9tRGF0ZVRpbWVzKHMsIG5leHQpKTtcclxuICAgICAgICAgICAgcyA9IG5leHQ7XHJcbiAgICAgICAgICAgIGlkeCArPSAxO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTcGxpdCB0aGlzIEludGVydmFsIGludG8gdGhlIHNwZWNpZmllZCBudW1iZXIgb2Ygc21hbGxlciBpbnRlcnZhbHMuXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyT2ZQYXJ0cyAtIFRoZSBudW1iZXIgb2YgSW50ZXJ2YWxzIHRvIGRpdmlkZSB0aGUgSW50ZXJ2YWwgaW50by5cclxuICAgICAqIEByZXR1cm4ge0ludGVydmFsW119XHJcbiAgICAgKi9cclxuICAgIGRpdmlkZUVxdWFsbHkobnVtYmVyT2ZQYXJ0czogbnVtYmVyKTogSW50ZXJ2YWxbXSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5zcGxpdEJ5KHsgbWlsbGlzZWNvbmRzOiB0aGlzLmxlbmd0aCgpIC8gbnVtYmVyT2ZQYXJ0cyB9KS5zbGljZSgwLCBudW1iZXJPZlBhcnRzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiB3aGV0aGVyIHRoaXMgSW50ZXJ2YWwgb3ZlcmxhcHMgd2l0aCB0aGUgc3BlY2lmaWVkIEludGVydmFsXHJcbiAgICAgKiBAcGFyYW0ge0ludGVydmFsfSBvdGhlclxyXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgb3ZlcmxhcHMob3RoZXI6IEludGVydmFsKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2UgPiBvdGhlci5fcyAmJiB0aGlzLl9zIDwgb3RoZXIuX2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gd2hldGhlciB0aGlzIEludGVydmFsJ3MgZW5kIGlzIGFkamFjZW50IHRvIHRoZSBzcGVjaWZpZWQgSW50ZXJ2YWwncyBzdGFydC5cclxuICAgICAqIEBwYXJhbSB7SW50ZXJ2YWx9IG90aGVyXHJcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxyXG4gICAgICovXHJcbiAgICBhYnV0c1N0YXJ0KG90aGVyOiBJbnRlcnZhbCkge1xyXG4gICAgICAgIHJldHVybiArdGhpcy5fZSA9PT0gK290aGVyLl9zO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIHdoZXRoZXIgdGhpcyBJbnRlcnZhbCdzIHN0YXJ0IGlzIGFkamFjZW50IHRvIHRoZSBzcGVjaWZpZWQgSW50ZXJ2YWwncyBlbmQuXHJcbiAgICAgKiBAcGFyYW0ge0ludGVydmFsfSBvdGhlclxyXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgYWJ1dHNFbmQob3RoZXI6IEludGVydmFsKSB7XHJcbiAgICAgICAgcmV0dXJuICtvdGhlci5fZSA9PT0gK3RoaXMuX3M7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gd2hldGhlciB0aGlzIEludGVydmFsIGVuZ3VsZnMgdGhlIHN0YXJ0IGFuZCBlbmQgb2YgdGhlIHNwZWNpZmllZCBJbnRlcnZhbC5cclxuICAgICAqIEBwYXJhbSB7SW50ZXJ2YWx9IG90aGVyXHJcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxyXG4gICAgICovXHJcbiAgICBlbmd1bGZzKG90aGVyOiBJbnRlcnZhbCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9zIDw9IG90aGVyLl9zICYmIHRoaXMuX2UgPj0gb3RoZXIuX2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gd2hldGhlciB0aGlzIEludGVydmFsIGhhcyB0aGUgc2FtZSBzdGFydCBhbmQgZW5kIGFzIHRoZSBzcGVjaWZpZWQgSW50ZXJ2YWwuXHJcbiAgICAgKiBAcGFyYW0ge0ludGVydmFsfSBvdGhlclxyXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgZXF1YWxzKG90aGVyOiBJbnRlcnZhbCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkIHx8ICFvdGhlci5pc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9zLmVxdWFscyhvdGhlci5fcykgJiYgdGhpcy5fZS5lcXVhbHMob3RoZXIuX2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIGFuIEludGVydmFsIHJlcHJlc2VudGluZyB0aGUgaW50ZXJzZWN0aW9uIG9mIHRoaXMgSW50ZXJ2YWwgYW5kIHRoZSBzcGVjaWZpZWQgSW50ZXJ2YWwuXHJcbiAgICAgKiBTcGVjaWZpY2FsbHksIHRoZSByZXN1bHRpbmcgSW50ZXJ2YWwgaGFzIHRoZSBtYXhpbXVtIHN0YXJ0IHRpbWUgYW5kIHRoZSBtaW5pbXVtIGVuZCB0aW1lIG9mIHRoZSB0d28gSW50ZXJ2YWxzLlxyXG4gICAgICogUmV0dXJucyBudWxsIGlmIHRoZSBpbnRlcnNlY3Rpb24gaXMgZW1wdHksIG1lYW5pbmcsIHRoZSBpbnRlcnZhbHMgZG9uJ3QgaW50ZXJzZWN0LlxyXG4gICAgICogQHBhcmFtIHtJbnRlcnZhbH0gb3RoZXJcclxuICAgICAqIEByZXR1cm4ge0ludGVydmFsfG51bGx9XHJcbiAgICAgKi9cclxuICAgIGludGVyc2VjdGlvbihvdGhlcjogSW50ZXJ2YWwpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcyA9IHRoaXMuX3MgPiBvdGhlci5fcyA/IHRoaXMuX3MgOiBvdGhlci5fcyxcclxuICAgICAgICAgICAgZSA9IHRoaXMuX2UgPCBvdGhlci5fZSA/IHRoaXMuX2UgOiBvdGhlci5fZTtcclxuXHJcbiAgICAgICAgaWYgKHMgPj0gZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBJbnRlcnZhbC5mcm9tRGF0ZVRpbWVzKHMsIGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiBhbiBJbnRlcnZhbCByZXByZXNlbnRpbmcgdGhlIHVuaW9uIG9mIHRoaXMgSW50ZXJ2YWwgYW5kIHRoZSBzcGVjaWZpZWQgSW50ZXJ2YWwuXHJcbiAgICAgKiBTcGVjaWZpY2FsbHksIHRoZSByZXN1bHRpbmcgSW50ZXJ2YWwgaGFzIHRoZSBtaW5pbXVtIHN0YXJ0IHRpbWUgYW5kIHRoZSBtYXhpbXVtIGVuZCB0aW1lIG9mIHRoZSB0d28gSW50ZXJ2YWxzLlxyXG4gICAgICogQHBhcmFtIHtJbnRlcnZhbH0gb3RoZXJcclxuICAgICAqIEByZXR1cm4ge0ludGVydmFsfVxyXG4gICAgICovXHJcbiAgICB1bmlvbihvdGhlcjogSW50ZXJ2YWwpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcyA9IHRoaXMuX3MgPCBvdGhlci5fcyA/IHRoaXMuX3MgOiBvdGhlci5fcyxcclxuICAgICAgICAgICAgZSA9IHRoaXMuX2UgPiBvdGhlci5fZSA/IHRoaXMuX2UgOiBvdGhlci5fZTtcclxuICAgICAgICByZXR1cm4gSW50ZXJ2YWwuZnJvbURhdGVUaW1lcyhzLCBlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgSW50ZXJ2YWxzIHJlcHJlc2VudGluZyB0aGUgc3BhbihzKSBvZiB0aW1lIGluIHRoaXMgSW50ZXJ2YWwgdGhhdCBkb24ndCBvdmVybGFwIHdpdGggYW55IG9mIHRoZSBzcGVjaWZpZWQgSW50ZXJ2YWxzLlxyXG4gICAgICogQHBhcmFtIHsuLi5JbnRlcnZhbH0gaW50ZXJ2YWxzXHJcbiAgICAgKiBAcmV0dXJuIHtJbnRlcnZhbFtdfVxyXG4gICAgICovXHJcbiAgICBkaWZmZXJlbmNlKC4uLmludGVydmFsczogSW50ZXJ2YWxbXSk6IEludGVydmFsW10ge1xyXG4gICAgICAgIHJldHVybiBJbnRlcnZhbC54b3IoW3RoaXMgYXMgSW50ZXJ2YWxdLmNvbmNhdChpbnRlcnZhbHMpKVxyXG4gICAgICAgICAgICAubWFwKGkgPT4gdGhpcy5pbnRlcnNlY3Rpb24oaSkpXHJcbiAgICAgICAgICAgIC5maWx0ZXIoaSA9PiBpICYmICFpLmlzRW1wdHkoKSkgYXMgSW50ZXJ2YWxbXTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBJbnRlcnZhbCBhcHByb3ByaWF0ZSBmb3IgZGVidWdnaW5nLlxyXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICB0b1N0cmluZygpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBgWyR7dGhpcy5fcy50b0lTTygpfSDigJMgJHt0aGlzLl9lLnRvSVNPKCl9KWA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGFuIElTTyA4NjAxLWNvbXBsaWFudCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBJbnRlcnZhbC5cclxuICAgICAqIEBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPXzg2MDEjVGltZV9pbnRlcnZhbHNcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gVGhlIHNhbWUgb3B0aW9ucyBhcyB7QGxpbmsgRGF0ZVRpbWUjdG9JU099XHJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIHRvSVNPKG9wdGlvbnM6IFRvSVNPVGltZU9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYCR7dGhpcy5fcy50b0lTTyhvcHRpb25zKX0vJHt0aGlzLl9lLnRvSVNPKG9wdGlvbnMpfWA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGFuIElTTyA4NjAxLWNvbXBsaWFudCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgZGF0ZSBvZiB0aGlzIEludGVydmFsLlxyXG4gICAgICogVGhlIHRpbWUgY29tcG9uZW50cyBhcmUgaWdub3JlZC5cclxuICAgICAqIEBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPXzg2MDEjVGltZV9pbnRlcnZhbHNcclxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgdG9JU09EYXRlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYCR7dGhpcy5fcy50b0lTT0RhdGUoKX0vJHt0aGlzLl9lLnRvSVNPRGF0ZSgpfWA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGFuIElTTyA4NjAxLWNvbXBsaWFudCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGltZSBvZiB0aGlzIEludGVydmFsLlxyXG4gICAgICogVGhlIGRhdGUgY29tcG9uZW50cyBhcmUgaWdub3JlZC5cclxuICAgICAqIEBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPXzg2MDEjVGltZV9pbnRlcnZhbHNcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gVGhlIHNhbWUgb3B0aW9ucyBhcyB7QGxpbmsgRGF0ZVRpbWUjdG9JU099XHJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICB0b0lTT1RpbWUob3B0aW9uczogVG9JU09UaW1lT3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBgJHt0aGlzLl9zLnRvSVNPVGltZShvcHRpb25zKX0vJHt0aGlzLl9lLnRvSVNPVGltZShvcHRpb25zKX1gO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIEludGVydmFsIGZvcm1hdHRlZCBhY2NvcmRpbmcgdG8gdGhlIHNwZWNpZmllZCBmb3JtYXQgc3RyaW5nLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGVGb3JtYXQgLSB0aGUgZm9ybWF0IHN0cmluZy4gVGhpcyBzdHJpbmcgZm9ybWF0cyB0aGUgc3RhcnQgYW5kIGVuZCB0aW1lLiBTZWUge0BsaW5rIERhdGVUaW1lI3RvRm9ybWF0fSBmb3IgZGV0YWlscy5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gb3B0aW9uc1xyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNlcGFyYXRvciA9ICAnIOKAkyAnXSAtIGEgc2VwYXJhdG9yIHRvIHBsYWNlIGJldHdlZW4gdGhlIHN0YXJ0IGFuZCBlbmQgcmVwcmVzZW50YXRpb25zXHJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIHRvRm9ybWF0KGRhdGVGb3JtYXQ6IHN0cmluZywgb3B0aW9ucyA9IHsgc2VwYXJhdG9yOiBcIiDigJMgXCIgfSkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYCR7dGhpcy5fcy50b0Zvcm1hdChkYXRlRm9ybWF0KX0ke29wdGlvbnMuc2VwYXJhdG9yfSR7dGhpcy5fZS50b0Zvcm1hdChkYXRlRm9ybWF0KX1gO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIGEgRHVyYXRpb24gcmVwcmVzZW50aW5nIHRoZSB0aW1lIHNwYW5uZWQgYnkgdGhpcyBpbnRlcnZhbC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBbdW5pdD1bJ21pbGxpc2Vjb25kcyddXSAtIHRoZSB1bml0IG9yIHVuaXRzIChzdWNoIGFzICdob3Vycycgb3IgJ2RheXMnKSB0byBpbmNsdWRlIGluIHRoZSBkdXJhdGlvbi5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9ucyB0aGF0IGFmZmVjdCB0aGUgY3JlYXRpb24gb2YgdGhlIER1cmF0aW9uXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMuY29udmVyc2lvbkFjY3VyYWN5PSdjYXN1YWwnXSAtIHRoZSBjb252ZXJzaW9uIHN5c3RlbSB0byB1c2VcclxuICAgICAqIEBleGFtcGxlIEludGVydmFsLmZyb21EYXRlVGltZXMoZHQxLCBkdDIpLnRvRHVyYXRpb24oKS50b09iamVjdCgpIC8vPT4geyBtaWxsaXNlY29uZHM6IDg4NDg5MjU3IH1cclxuICAgICAqIEBleGFtcGxlIEludGVydmFsLmZyb21EYXRlVGltZXMoZHQxLCBkdDIpLnRvRHVyYXRpb24oJ2RheXMnKS50b09iamVjdCgpIC8vPT4geyBkYXlzOiAxLjAyNDE4MTIxNTI3Nzc3NzggfVxyXG4gICAgICogQGV4YW1wbGUgSW50ZXJ2YWwuZnJvbURhdGVUaW1lcyhkdDEsIGR0MikudG9EdXJhdGlvbihbJ2hvdXJzJywgJ21pbnV0ZXMnXSkudG9PYmplY3QoKSAvLz0+IHsgaG91cnM6IDI0LCBtaW51dGVzOiAzNC44MjA5NSB9XHJcbiAgICAgKiBAZXhhbXBsZSBJbnRlcnZhbC5mcm9tRGF0ZVRpbWVzKGR0MSwgZHQyKS50b0R1cmF0aW9uKFsnaG91cnMnLCAnbWludXRlcycsICdzZWNvbmRzJ10pLnRvT2JqZWN0KCkgLy89PiB7IGhvdXJzOiAyNCwgbWludXRlczogMzQsIHNlY29uZHM6IDQ5LjI1NyB9XHJcbiAgICAgKiBAZXhhbXBsZSBJbnRlcnZhbC5mcm9tRGF0ZVRpbWVzKGR0MSwgZHQyKS50b0R1cmF0aW9uKCdzZWNvbmRzJykudG9PYmplY3QoKSAvLz0+IHsgc2Vjb25kczogODg0ODkuMjU3IH1cclxuICAgICAqIEByZXR1cm4ge0R1cmF0aW9ufVxyXG4gICAgICovXHJcbiAgICB0b0R1cmF0aW9uKHVuaXQ6IER1cmF0aW9uVW5pdCB8IER1cmF0aW9uVW5pdFtdID0gXCJtaWxsaXNlY29uZHNcIiwgb3B0czogRHVyYXRpb25PcHRpb25zID0ge30pOiBEdXJhdGlvbiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQpIHtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICByZXR1cm4gRHVyYXRpb24uaW52YWxpZCh0aGlzLl9pbnZhbGlkLnJlYXNvbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fZS5kaWZmKHRoaXMuX3MsIHVuaXQsIG9wdHMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUnVuIG1hcEZuIG9uIHRoZSBpbnRlcnZhbCBzdGFydCBhbmQgZW5kLCByZXR1cm5pbmcgYSBuZXcgSW50ZXJ2YWwgZnJvbSB0aGUgcmVzdWx0aW5nIERhdGVUaW1lc1xyXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gbWFwRm5cclxuICAgICAqIEByZXR1cm4ge0ludGVydmFsfVxyXG4gICAgICogQGV4YW1wbGUgSW50ZXJ2YWwuZnJvbURhdGVUaW1lcyhkdDEsIGR0MikubWFwRW5kcG9pbnRzKGVuZHBvaW50ID0+IGVuZHBvaW50LnRvVVRDKCkpXHJcbiAgICAgKiBAZXhhbXBsZSBJbnRlcnZhbC5mcm9tRGF0ZVRpbWVzKGR0MSwgZHQyKS5tYXBFbmRwb2ludHMoZW5kcG9pbnQgPT4gZW5kcG9pbnQucGx1cyh7IGhvdXJzOiAyIH0pKVxyXG4gICAgICovXHJcbiAgICBtYXBFbmRwb2ludHMobWFwRm46IChkdDogRGF0ZVRpbWUpID0+IERhdGVUaW1lKTogSW50ZXJ2YWwge1xyXG4gICAgICAgIHJldHVybiBJbnRlcnZhbC5mcm9tRGF0ZVRpbWVzKG1hcEZuKHRoaXMuX3MpLCBtYXBGbih0aGlzLl9lKSk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgRGF0ZVRpbWUgfSBmcm9tIFwiLi9kYXRldGltZVwiO1xuaW1wb3J0IHsgU2V0dGluZ3MgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xuaW1wb3J0IHsgTG9jYWxlIH0gZnJvbSBcIi4vaW1wbC9sb2NhbGVcIjtcbmltcG9ydCB7IElBTkFab25lIH0gZnJvbSBcIi4vem9uZXMvSUFOQVpvbmVcIjtcbmltcG9ydCB7IFpvbmUgfSBmcm9tIFwiLi96b25lXCI7XG5pbXBvcnQgeyBub3JtYWxpemVab25lIH0gZnJvbSBcIi4vaW1wbC96b25lVXRpbFwiO1xuXG5pbXBvcnQgeyBoYXNSZWxhdGl2ZSB9IGZyb20gXCIuL2ltcGwvdXRpbFwiO1xuaW1wb3J0IHsgU3RyaW5nVW5pdExlbmd0aCwgVW5pdExlbmd0aCwgV2Vla1VuaXRMZW5ndGhzIH0gZnJvbSBcIi4vdHlwZXMvY29tbW9uXCI7XG5pbXBvcnQgeyBJbmZvT3B0aW9ucywgSW5mb0NhbGVuZGFyT3B0aW9ucywgSW5mb1VuaXRPcHRpb25zLCBGZWF0dXJlcyB9IGZyb20gXCIuL3R5cGVzL2luZm9cIjtcbmltcG9ydCB7IFpvbmVMaWtlIH0gZnJvbSBcIi4vdHlwZXMvem9uZVwiO1xuXG4vKipcbiAqIFRoZSBJbmZvIGNsYXNzIGNvbnRhaW5zIHN0YXRpYyBtZXRob2RzIGZvciByZXRyaWV2aW5nIGdlbmVyYWwgdGltZSBhbmQgZGF0ZSByZWxhdGVkIGRhdGEuIEZvciBleGFtcGxlLCBpdCBoYXMgbWV0aG9kcyBmb3IgZmluZGluZyBvdXQgaWYgYSB0aW1lIHpvbmUgaGFzIGEgRFNULCBmb3IgbGlzdGluZyB0aGUgbW9udGhzIGluIGFueSBzdXBwb3J0ZWQgbG9jYWxlLCBhbmQgZm9yIGRpc2NvdmVyaW5nIHdoaWNoIG9mIEx1eG9uIGZlYXR1cmVzIGFyZSBhdmFpbGFibGUgaW4gdGhlIGN1cnJlbnQgZW52aXJvbm1lbnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBJbmZvIHtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gd2hldGhlciB0aGUgc3BlY2lmaWVkIHpvbmUgY29udGFpbnMgYSBEU1QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8Wm9uZX0gW3pvbmU9J2xvY2FsJ10gLSBab25lIHRvIGNoZWNrLiBEZWZhdWx0cyB0byB0aGUgZW52aXJvbm1lbnQncyBsb2NhbCB6b25lLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICovXG4gICAgc3RhdGljIGhhc0RTVCh6b25lOiBab25lTGlrZSA9IFNldHRpbmdzLmRlZmF1bHRab25lKSB7XG4gICAgICAgIGNvbnN0IHByb3RvID0gRGF0ZVRpbWUubm93KCkuc2V0Wm9uZSh6b25lKS5zZXQoeyBtb250aDogMTIgfSk7XG5cbiAgICAgICAgcmV0dXJuICEoem9uZSBhcyBab25lKS5pc1VuaXZlcnNhbCAmJiBwcm90by5vZmZzZXQgIT09IHByb3RvLnNldCh7IG1vbnRoOiA2IH0pLm9mZnNldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gd2hldGhlciB0aGUgc3BlY2lmaWVkIHpvbmUgaXMgYSB2YWxpZCBJQU5BIHNwZWNpZmllci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gem9uZSAtIFpvbmUgdG8gY2hlY2tcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqL1xuICAgIHN0YXRpYyBpc1ZhbGlkSUFOQVpvbmUoem9uZTogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBJQU5BWm9uZS5pc1ZhbGlkWm9uZSh6b25lKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgaW5wdXQgaW50byBhIHtAbGluayBab25lfSBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqICogSWYgYGlucHV0YCBpcyBhbHJlYWR5IGEgWm9uZSBpbnN0YW5jZSwgaXQgaXMgcmV0dXJuZWQgdW5jaGFuZ2VkLlxuICAgICAqICogSWYgYGlucHV0YCBpcyBhIHN0cmluZyBjb250YWluaW5nIGEgdmFsaWQgSUFOQSB0aW1lIHpvbmUgbmFtZSwgYSBab25lIGluc3RhbmNlXG4gICAgICogICB3aXRoIHRoYXQgbmFtZSBpcyByZXR1cm5lZC5cbiAgICAgKiAqIElmIGBpbnB1dGAgaXMgdGhlIHN0cmluZyBcInN5c3RlbVwiLCB0aGUgc3lzdGVtJ3MgdGltZSB6b25lIGlzIHJldHVybmVkLlxuICAgICAqICogSWYgYGlucHV0YCBpcyB0aGUgc3RyaW5nIFwiZGVmYXVsdFwiLCB0aGUgZGVmYXVsdCB0aW1lIHpvbmUsIGFzIGRlZmluZWQgaW5cbiAgICAgKiAgIFNldHRpbmdzLmRlZmF1bHRab25lIGlzIHJldHVybmVkLlxuICAgICAqICogSWYgYGlucHV0YCBpcyBhIHN0cmluZyB0aGF0IGRvZXNuJ3QgcmVmZXIgdG8gYSBrbm93biB0aW1lIHpvbmUsIGEgWm9uZVxuICAgICAqICAgaW5zdGFuY2Ugd2l0aCB7QGxpbmsgWm9uZSNpc1ZhbGlkfSA9PSBmYWxzZSBpcyByZXR1cm5lZC5cbiAgICAgKiAqIElmIGBpbnB1dCBpcyBhIG51bWJlciwgYSBab25lIGluc3RhbmNlIHdpdGggdGhlIHNwZWNpZmllZCBmaXhlZCBvZmZzZXRcbiAgICAgKiAgIGluIG1pbnV0ZXMgaXMgcmV0dXJuZWQuXG4gICAgICogKiBJZiBgaW5wdXRgIGlzIGBudWxsYCBvciBgdW5kZWZpbmVkYCwgdGhlIGRlZmF1bHQgem9uZSBpcyByZXR1cm5lZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xab25lfG51bWJlcn0gW2lucHV0XSAtIHRoZSB2YWx1ZSB0byBiZSBjb252ZXJ0ZWRcbiAgICAgKiBAcmV0dXJuIHtab25lfVxuICAgICAqL1xuICAgIHN0YXRpYyBub3JtYWxpemVab25lKGlucHV0PzogWm9uZUxpa2UpIHtcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZVpvbmUoaW5wdXQsIFNldHRpbmdzLmRlZmF1bHRab25lKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYW4gYXJyYXkgb2Ygc3RhbmRhbG9uZSBtb250aCBuYW1lcy5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0RhdGVUaW1lRm9ybWF0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtsZW5ndGg9J2xvbmcnXSAtIHRoZSBsZW5ndGggb2YgdGhlIG1vbnRoIHJlcHJlc2VudGF0aW9uLCBzdWNoIGFzIFwibnVtZXJpY1wiLCBcIjItZGlnaXRcIiwgXCJuYXJyb3dcIiwgXCJzaG9ydFwiLCBcImxvbmdcIlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5sb2NhbGVdIC0gdGhlIGxvY2FsZSBjb2RlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLm51bWJlcmluZ1N5c3RlbV0gLSB0aGUgbnVtYmVyaW5nIHN5c3RlbVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5sb2NPYmo9bnVsbF0gLSBhbiBleGlzdGluZyBsb2NhbGUgb2JqZWN0IHRvIHVzZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5vdXRwdXRDYWxlbmRhcj0nZ3JlZ29yeSddIC0gdGhlIGNhbGVuZGFyXG4gICAgICogQGV4YW1wbGUgSW5mby5tb250aHMoKVswXSAvLz0+ICdKYW51YXJ5J1xuICAgICAqIEBleGFtcGxlIEluZm8ubW9udGhzKCdzaG9ydCcpWzBdIC8vPT4gJ0phbidcbiAgICAgKiBAZXhhbXBsZSBJbmZvLm1vbnRocygnbnVtZXJpYycpWzBdIC8vPT4gJzEnXG4gICAgICogQGV4YW1wbGUgSW5mby5tb250aHMoJ3Nob3J0JywgeyBsb2NhbGU6ICdmci1DQScgfSApWzBdIC8vPT4gJ2phbnYuJ1xuICAgICAqIEBleGFtcGxlIEluZm8ubW9udGhzKCdudW1lcmljJywgeyBsb2NhbGU6ICdhcicgfSlbMF0gLy89PiAn2aEnXG4gICAgICogQGV4YW1wbGUgSW5mby5tb250aHMoJ2xvbmcnLCB7IG91dHB1dENhbGVuZGFyOiAnaXNsYW1pYycgfSlbMF0gLy89PiAnUmFiacq7IEknXG4gICAgICogQHJldHVybiB7c3RyaW5nW119XG4gICAgICovXG4gICAgc3RhdGljIG1vbnRocyhsZW5ndGg6IFVuaXRMZW5ndGggPSBcImxvbmdcIiwge1xuICAgICAgICBsb2NhbGUsXG4gICAgICAgIGxvY09iaixcbiAgICAgICAgbnVtYmVyaW5nU3lzdGVtLFxuICAgICAgICBvdXRwdXRDYWxlbmRhciA9IFwiZ3JlZ29yeVwiXG4gICAgfTogSW5mb0NhbGVuZGFyT3B0aW9ucyA9IHt9KTogc3RyaW5nW10ge1xuICAgICAgICByZXR1cm4gKGxvY09iaiB8fCBMb2NhbGUuY3JlYXRlKGxvY2FsZSwgbnVtYmVyaW5nU3lzdGVtLCBvdXRwdXRDYWxlbmRhcikpLm1vbnRocyhsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiBhbiBhcnJheSBvZiBmb3JtYXQgbW9udGggbmFtZXMuXG4gICAgICogRm9ybWF0IG1vbnRocyBkaWZmZXIgZnJvbSBzdGFuZGFsb25lIG1vbnRocyBpbiB0aGF0IHRoZXkncmUgbWVhbnQgdG8gYXBwZWFyIG5leHQgdG8gdGhlIGRheSBvZiB0aGUgbW9udGguIEluIHNvbWUgbGFuZ3VhZ2VzLCB0aGF0XG4gICAgICogY2hhbmdlcyB0aGUgc3RyaW5nLlxuICAgICAqIFNlZSB7QGxpbmsgSW5mbyNtb250aHN9XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtsZW5ndGg9J2xvbmcnXSAtIHRoZSBsZW5ndGggb2YgdGhlIG1vbnRoIHJlcHJlc2VudGF0aW9uLCBzdWNoIGFzIFwibnVtZXJpY1wiLCBcIjItZGlnaXRcIiwgXCJuYXJyb3dcIiwgXCJzaG9ydFwiLCBcImxvbmdcIlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5sb2NPYmpdIC0gYW4gZXhpc3RpbmcgbG9jYWxlIG9iamVjdCB0byB1c2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMubG9jYWxlXSAtIHRoZSBsb2NhbGUgY29kZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5udW1iZXJpbmdTeXN0ZW1dIC0gdGhlIG51bWJlcmluZyBzeXN0ZW1cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMub3V0cHV0Q2FsZW5kYXI9J2dyZWdvcnknXSAtIHRoZSBjYWxlbmRhclxuICAgICAqIEByZXR1cm4ge3N0cmluZ1tdfVxuICAgICAqL1xuICAgIHN0YXRpYyBtb250aHNGb3JtYXQobGVuZ3RoOiBVbml0TGVuZ3RoID0gXCJsb25nXCIsIHtcbiAgICAgICAgbG9jYWxlLFxuICAgICAgICBsb2NPYmosXG4gICAgICAgIG51bWJlcmluZ1N5c3RlbSxcbiAgICAgICAgb3V0cHV0Q2FsZW5kYXIgPSBcImdyZWdvcnlcIlxuICAgIH06IEluZm9DYWxlbmRhck9wdGlvbnMgPSB7fSk6IHN0cmluZ1tdIHtcbiAgICAgICAgcmV0dXJuIChsb2NPYmogfHwgTG9jYWxlLmNyZWF0ZShsb2NhbGUsIG51bWJlcmluZ1N5c3RlbSwgb3V0cHV0Q2FsZW5kYXIpKS5tb250aHMobGVuZ3RoLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYW4gYXJyYXkgb2Ygc3RhbmRhbG9uZSB3ZWVrIG5hbWVzLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRGF0ZVRpbWVGb3JtYXRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2xlbmd0aD0nbG9uZyddIC0gdGhlIGxlbmd0aCBvZiB0aGUgd2Vla2RheSByZXByZXNlbnRhdGlvbiwgc3VjaCBhcyBcIm5hcnJvd1wiLCBcInNob3J0XCIsIFwibG9uZ1wiLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5sb2NhbGVdIC0gdGhlIGxvY2FsZSBjb2RlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmxvY09ial0gLSBhbiBleGlzdGluZyBsb2NhbGUgb2JqZWN0IHRvIHVzZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5udW1iZXJpbmdTeXN0ZW1dIC0gdGhlIG51bWJlcmluZyBzeXN0ZW1cbiAgICAgKiBAZXhhbXBsZSBJbmZvLndlZWtkYXlzKClbMF0gLy89PiAnTW9uZGF5J1xuICAgICAqIEBleGFtcGxlIEluZm8ud2Vla2RheXMoJ3Nob3J0JylbMF0gLy89PiAnTW9uJ1xuICAgICAqIEBleGFtcGxlIEluZm8ud2Vla2RheXMoJ3Nob3J0JywgeyBsb2NhbGU6ICdmci1DQScgfSlbMF0gLy89PiAnbHVuLidcbiAgICAgKiBAZXhhbXBsZSBJbmZvLndlZWtkYXlzKCdzaG9ydCcsIHsgbG9jYWxlOiAnYXInIH0pWzBdIC8vPT4gJ9in2YTYp9ir2YbZitmGJ1xuICAgICAqIEByZXR1cm4ge3N0cmluZ1tdfVxuICAgICAqL1xuICAgIHN0YXRpYyB3ZWVrZGF5cyhsZW5ndGg6IFdlZWtVbml0TGVuZ3RocyA9IFwibG9uZ1wiLCB7IGxvY2FsZSwgbG9jT2JqLCBudW1iZXJpbmdTeXN0ZW0gfTogSW5mb1VuaXRPcHRpb25zID0ge30pIHtcbiAgICAgICAgcmV0dXJuIChsb2NPYmogfHwgTG9jYWxlLmNyZWF0ZShsb2NhbGUsIG51bWJlcmluZ1N5c3RlbSkpLndlZWtkYXlzKGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFuIGFycmF5IG9mIGZvcm1hdCB3ZWVrIG5hbWVzLlxuICAgICAqIEZvcm1hdCB3ZWVrZGF5cyBkaWZmZXIgZnJvbSBzdGFuZGFsb25lIHdlZWtkYXlzIGluIHRoYXQgdGhleSdyZSBtZWFudCB0byBhcHBlYXIgbmV4dCB0byBtb3JlIGRhdGUgaW5mb3JtYXRpb24uIEluIHNvbWUgbGFuZ3VhZ2VzLCB0aGF0XG4gICAgICogY2hhbmdlcyB0aGUgc3RyaW5nLlxuICAgICAqIFNlZSB7QGxpbmsgSW5mbyN3ZWVrZGF5c31cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2xlbmd0aD0nbG9uZyddIC0gdGhlIGxlbmd0aCBvZiB0aGUgd2Vla2RheSByZXByZXNlbnRhdGlvbiwgc3VjaCBhcyBcIm5hcnJvd1wiLCBcInNob3J0XCIsIFwibG9uZ1wiLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sb2NhbGVdIC0gdGhlIGxvY2FsZSBjb2RlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLm51bWJlcmluZ1N5c3RlbV0gLSB0aGUgbnVtYmVyaW5nIHN5c3RlbVxuICAgICAqIEByZXR1cm4ge3N0cmluZ1tdfVxuICAgICAqL1xuICAgIHN0YXRpYyB3ZWVrZGF5c0Zvcm1hdChsZW5ndGg6IFN0cmluZ1VuaXRMZW5ndGggPSBcImxvbmdcIiwge1xuICAgICAgICBsb2NhbGUsXG4gICAgICAgIGxvY09iaixcbiAgICAgICAgbnVtYmVyaW5nU3lzdGVtXG4gICAgfTogSW5mb1VuaXRPcHRpb25zID0ge30pIHtcbiAgICAgICAgcmV0dXJuIChsb2NPYmogfHwgTG9jYWxlLmNyZWF0ZShsb2NhbGUsIG51bWJlcmluZ1N5c3RlbSkpLndlZWtkYXlzKGxlbmd0aCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFuIGFycmF5IG9mIG1lcmlkaWVtcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubG9jYWxlXSAtIHRoZSBsb2NhbGUgY29kZVxuICAgICAqIEBleGFtcGxlIEluZm8ubWVyaWRpZW1zKCkgLy89PiBbICdBTScsICdQTScgXVxuICAgICAqIEBleGFtcGxlIEluZm8ubWVyaWRpZW1zKHsgbG9jYWxlOiAnbXknIH0pIC8vPT4gWyAn4YCU4YC24YCU4YCA4YC6JywgJ+GAiuGAlOGAsScgXVxuICAgICAqIEByZXR1cm4ge3N0cmluZ1tdfVxuICAgICAqL1xuICAgIHN0YXRpYyBtZXJpZGllbXMoeyBsb2NhbGUgfTogSW5mb09wdGlvbnMgPSB7fSkge1xuICAgICAgICByZXR1cm4gTG9jYWxlLmNyZWF0ZShsb2NhbGUpLm1lcmlkaWVtcygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiBhbiBhcnJheSBvZiBlcmFzLCBzdWNoIGFzIFsnQkMnLCAnQUQnXS4gVGhlIGxvY2FsZSBjYW4gYmUgc3BlY2lmaWVkLCBidXQgdGhlIGNhbGVuZGFyIHN5c3RlbSBpcyBhbHdheXMgR3JlZ29yaWFuLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbGVuZ3RoPSdzaG9ydCddIC0gdGhlIGxlbmd0aCBvZiB0aGUgZXJhIHJlcHJlc2VudGF0aW9uLCBzdWNoIGFzIFwic2hvcnRcIiBvciBcImxvbmdcIi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubG9jYWxlXSAtIHRoZSBsb2NhbGUgY29kZVxuICAgICAqIEBleGFtcGxlIEluZm8uZXJhcygpIC8vPT4gWyAnQkMnLCAnQUQnIF1cbiAgICAgKiBAZXhhbXBsZSBJbmZvLmVyYXMoJ2xvbmcnKSAvLz0+IFsgJ0JlZm9yZSBDaHJpc3QnLCAnQW5ubyBEb21pbmknIF1cbiAgICAgKiBAZXhhbXBsZSBJbmZvLmVyYXMoJ2xvbmcnLCB7IGxvY2FsZTogJ2ZyJyB9KSAvLz0+IFsgJ2F2YW50IErDqXN1cy1DaHJpc3QnLCAnYXByw6hzIErDqXN1cy1DaHJpc3QnIF1cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmdbXX1cbiAgICAgKi9cbiAgICBzdGF0aWMgZXJhcyhsZW5ndGg6IFN0cmluZ1VuaXRMZW5ndGggPSBcInNob3J0XCIsIHsgbG9jYWxlIH06IEluZm9PcHRpb25zID0ge30pIHtcbiAgICAgICAgcmV0dXJuIExvY2FsZS5jcmVhdGUobG9jYWxlLCB1bmRlZmluZWQsIFwiZ3JlZ29yeVwiKS5lcmFzKGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBzZXQgb2YgYXZhaWxhYmxlIGZlYXR1cmVzIGluIHRoaXMgZW52aXJvbm1lbnQuXG4gICAgICogU29tZSBmZWF0dXJlcyBvZiBMdXhvbiBhcmUgbm90IGF2YWlsYWJsZSBpbiBhbGwgZW52aXJvbm1lbnRzLiBGb3IgZXhhbXBsZSwgb24gb2xkZXIgYnJvd3NlcnMsIHJlbGF0aXZlIHRpbWUgZm9ybWF0dGluZyBzdXBwb3J0IGlzIG5vdCBhdmFpbGFibGUuIFVzZSB0aGlzIGZ1bmN0aW9uIHRvIGZpZ3VyZSBvdXQgaWYgdGhhdCdzIHRoZSBjYXNlLlxuICAgICAqIEtleXM6XG4gICAgICogKiBgcmVsYXRpdmVgOiB3aGV0aGVyIHRoaXMgZW52aXJvbm1lbnQgc3VwcG9ydHMgcmVsYXRpdmUgdGltZSBmb3JtYXR0aW5nXG4gICAgICogQGV4YW1wbGUgSW5mby5mZWF0dXJlcygpIC8vPT4geyByZWxhdGl2ZTogZmFsc2UgfVxuICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgKi9cbiAgICBzdGF0aWMgZmVhdHVyZXMoKTogRmVhdHVyZXMge1xuICAgICAgICByZXR1cm4geyByZWxhdGl2ZTogaGFzUmVsYXRpdmUoKSB9O1xuICAgIH1cbn1cbiIsImltcG9ydCB7IER1cmF0aW9uIH0gZnJvbSBcIi4uL2R1cmF0aW9uXCI7XG5pbXBvcnQgeyBEYXRlVGltZSB9IGZyb20gXCIuLi9kYXRldGltZVwiO1xuaW1wb3J0IHsgRHVyYXRpb25Vbml0LCBEdXJhdGlvbk9wdGlvbnMsIER1cmF0aW9uT2JqZWN0IH0gZnJvbSBcIi4uL3R5cGVzL2R1cmF0aW9uXCI7XG5cbmZ1bmN0aW9uIGRheURpZmYoZWFybGllcjogRGF0ZVRpbWUsIGxhdGVyOiBEYXRlVGltZSkge1xuICAgIGNvbnN0IHV0Y0RheVN0YXJ0ID0gKGR0OiBEYXRlVGltZSkgPT5cbiAgICAgICAgICAgIGR0XG4gICAgICAgICAgICAgICAgLnRvVVRDKDAsIHsga2VlcExvY2FsVGltZTogdHJ1ZSB9KVxuICAgICAgICAgICAgICAgIC5zdGFydE9mKFwiZGF5c1wiKVxuICAgICAgICAgICAgICAgIC52YWx1ZU9mKCksXG4gICAgICAgIG1zID0gdXRjRGF5U3RhcnQobGF0ZXIpIC0gdXRjRGF5U3RhcnQoZWFybGllcik7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoRHVyYXRpb24uZnJvbU1pbGxpcyhtcykuYXMoXCJkYXlzXCIpKTtcbn1cblxuZnVuY3Rpb24gaGlnaE9yZGVyRGlmZnMoXG4gICAgZWFybGllcjogRGF0ZVRpbWUsXG4gICAgbGF0ZXI6IERhdGVUaW1lLFxuICAgIHVuaXRzOiBEdXJhdGlvblVuaXRbXVxuKTogW0RhdGVUaW1lLCBEdXJhdGlvbk9iamVjdCwgRGF0ZVRpbWUsIER1cmF0aW9uVW5pdCB8IHVuZGVmaW5lZF0ge1xuICAgIGNvbnN0IGRpZmZlcnM6IFtEdXJhdGlvblVuaXQsIChhOiBEYXRlVGltZSwgYjogRGF0ZVRpbWUpID0+IG51bWJlcl1bXSA9IFtcbiAgICAgICAgW1wieWVhcnNcIiwgKGEsIGIpID0+IGIueWVhciAtIGEueWVhcl0sXG4gICAgICAgIFtcInF1YXJ0ZXJzXCIsIChhLCBiKSA9PiBiLnF1YXJ0ZXIgLSBhLnF1YXJ0ZXIgKyAoYi55ZWFyIC0gYS55ZWFyKSAqIDRdLFxuICAgICAgICBbXCJtb250aHNcIiwgKGEsIGIpID0+IGIubW9udGggLSBhLm1vbnRoICsgKGIueWVhciAtIGEueWVhcikgKiAxMl0sXG4gICAgICAgIFtcbiAgICAgICAgICAgIFwid2Vla3NcIixcbiAgICAgICAgICAgIChhLCBiKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF5cyA9IGRheURpZmYoYSwgYik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChkYXlzIC0gKGRheXMgJSA3KSkgLyA3O1xuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBbXCJkYXlzXCIsIGRheURpZmZdXG4gICAgXTtcblxuICAgIGNvbnN0IHJlc3VsdHM6IER1cmF0aW9uT2JqZWN0ID0ge307XG4gICAgbGV0IGxvd2VzdE9yZGVyOiBEdXJhdGlvblVuaXQgfCB1bmRlZmluZWQsXG4gICAgICAgIGhpZ2hXYXRlciA9IGVhcmxpZXIsXG4gICAgICAgIGN1cnNvciA9IGVhcmxpZXIucmVjb25maWd1cmUoe30pO1xuXG4gICAgZm9yIChjb25zdCBbdW5pdCwgZGlmZmVyXSBvZiBkaWZmZXJzKSB7XG4gICAgICAgIGlmICh1bml0cy5pbmRleE9mKHVuaXQpID49IDApIHtcbiAgICAgICAgICAgIGxvd2VzdE9yZGVyID0gdW5pdDtcblxuICAgICAgICAgICAgbGV0IGRlbHRhID0gZGlmZmVyKGN1cnNvciwgbGF0ZXIpO1xuICAgICAgICAgICAgaGlnaFdhdGVyID0gY3Vyc29yLnBsdXMoeyBbdW5pdF06IGRlbHRhIH0pO1xuXG4gICAgICAgICAgICBpZiAoaGlnaFdhdGVyID4gbGF0ZXIpIHtcbiAgICAgICAgICAgICAgICBjdXJzb3IgPSBjdXJzb3IucGx1cyh7IFt1bml0XTogZGVsdGEgLSAxIH0pO1xuICAgICAgICAgICAgICAgIGRlbHRhIC09IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdXJzb3IgPSBoaWdoV2F0ZXI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc3VsdHNbdW5pdF0gPSBkZWx0YTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBbY3Vyc29yLCByZXN1bHRzLCBoaWdoV2F0ZXIsIGxvd2VzdE9yZGVyXTtcbn1cblxuZXhwb3J0IGNvbnN0IGRpZmYgPSAoZWFybGllcjogRGF0ZVRpbWUsIGxhdGVyOiBEYXRlVGltZSwgdW5pdHM6IER1cmF0aW9uVW5pdFtdLCBvcHRzOiBEdXJhdGlvbk9wdGlvbnMpOiBEdXJhdGlvbiA9PiB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnByZWZlci1jb25zdFxuICAgIGxldCBbY3Vyc29yLCByZXN1bHRzLCBoaWdoV2F0ZXIsIGxvd2VzdE9yZGVyXSA9IGhpZ2hPcmRlckRpZmZzKGVhcmxpZXIsIGxhdGVyLCB1bml0cyk7XG5cbiAgICBjb25zdCByZW1haW5pbmdNaWxsaXMgPSArbGF0ZXIgLSArY3Vyc29yO1xuXG4gICAgY29uc3QgbG93ZXJPcmRlclVuaXRzID0gdW5pdHMuZmlsdGVyKFxuICAgICAgICAodTogRHVyYXRpb25Vbml0KSA9PiBbXCJob3Vyc1wiLCBcIm1pbnV0ZXNcIiwgXCJzZWNvbmRzXCIsIFwibWlsbGlzZWNvbmRzXCJdLmluZGV4T2YodSkgPj0gMFxuICAgICk7XG5cbiAgICBpZiAobG93ZXJPcmRlclVuaXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBpZiAoaGlnaFdhdGVyIDwgbGF0ZXIpIHtcbiAgICAgICAgICAgIGhpZ2hXYXRlciA9IGN1cnNvci5wbHVzKHsgW2xvd2VzdE9yZGVyIGFzIHN0cmluZ106IDEgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGlnaFdhdGVyICE9PSBjdXJzb3IpIHtcbiAgICAgICAgICAgIHJlc3VsdHNbbG93ZXN0T3JkZXIgYXMga2V5b2YgRHVyYXRpb25PYmplY3RdID0gKHJlc3VsdHNbbG93ZXN0T3JkZXIgYXMga2V5b2YgRHVyYXRpb25PYmplY3RdIHx8IDApICsgcmVtYWluaW5nTWlsbGlzIC8gKCtoaWdoV2F0ZXIgLSArY3Vyc29yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGR1cmF0aW9uID0gRHVyYXRpb24uZnJvbU9iamVjdChyZXN1bHRzLCBvcHRzKTtcblxuICAgIGlmIChsb3dlck9yZGVyVW5pdHMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gRHVyYXRpb24uZnJvbU1pbGxpcyhyZW1haW5pbmdNaWxsaXMsIG9wdHMpXG4gICAgICAgICAgICAuc2hpZnRUbyguLi5sb3dlck9yZGVyVW5pdHMpXG4gICAgICAgICAgICAucGx1cyhkdXJhdGlvbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZHVyYXRpb247XG4gICAgfVxufTtcbiIsImltcG9ydCB7IE51bWJlcmluZ1N5c3RlbSB9IGZyb20gXCIuLi90eXBlcy9sb2NhbGVcIjtcbmltcG9ydCB7IExvY2FsZSB9IGZyb20gXCIuL2xvY2FsZVwiO1xuXG5jb25zdCBudW1iZXJpbmdTeXN0ZW1zOiB7IFtrZXkgaW4gTnVtYmVyaW5nU3lzdGVtXTogc3RyaW5nIH0gPSB7XG4gICAgYXJhYjogXCJbXFx1MDY2MC1cXHUwNjY5XVwiLFxuICAgIGFyYWJleHQ6IFwiW1xcdTA2RjAtXFx1MDZGOV1cIixcbiAgICBiYWxpOiBcIltcXHUxQjUwLVxcdTFCNTldXCIsXG4gICAgYmVuZzogXCJbXFx1MDlFNi1cXHUwOUVGXVwiLFxuICAgIGRldmE6IFwiW1xcdTA5NjYtXFx1MDk2Rl1cIixcbiAgICBmdWxsd2lkZTogXCJbXFx1RkYxMC1cXHVGRjE5XVwiLFxuICAgIGd1anI6IFwiW1xcdTBBRTYtXFx1MEFFRl1cIixcbiAgICBoYW5pZGVjOiBcIlvjgId85LiAfOS6jHzkuIl85ZubfOS6lHzlha185LiDfOWFq3zkuZ1dXCIsXG4gICAga2htcjogXCJbXFx1MTdFMC1cXHUxN0U5XVwiLFxuICAgIGtuZGE6IFwiW1xcdTBDRTYtXFx1MENFRl1cIixcbiAgICBsYW9vOiBcIltcXHUwRUQwLVxcdTBFRDldXCIsXG4gICAgbGltYjogXCJbXFx1MTk0Ni1cXHUxOTRGXVwiLFxuICAgIG1seW06IFwiW1xcdTBENjYtXFx1MEQ2Rl1cIixcbiAgICBtb25nOiBcIltcXHUxODEwLVxcdTE4MTldXCIsXG4gICAgbXltcjogXCJbXFx1MTA0MC1cXHUxMDQ5XVwiLFxuICAgIG9yeWE6IFwiW1xcdTBCNjYtXFx1MEI2Rl1cIixcbiAgICB0YW1sZGVjOiBcIltcXHUwQkU2LVxcdTBCRUZdXCIsXG4gICAgdGVsdTogXCJbXFx1MEM2Ni1cXHUwQzZGXVwiLFxuICAgIHRoYWk6IFwiW1xcdTBFNTAtXFx1MEU1OV1cIixcbiAgICB0aWJ0OiBcIltcXHUwRjIwLVxcdTBGMjldXCIsXG4gICAgbGF0bjogXCJcXFxcZFwiXG59O1xuXG50eXBlIE51bWJlcmluZ1N5c3RlbVVURjE2ID0gRXhjbHVkZTxOdW1iZXJpbmdTeXN0ZW0sIFwiaGFuaWRlY1wiIHwgXCJsYXRuXCI+O1xuXG4vLyBXaHkgXCJsYXRuXCIgYW5kIFwiaGFuaWRlY1wiIGFyZSBtaXNzaW5nIGluIEx1eG9uPz9cbmNvbnN0IG51bWJlcmluZ1N5c3RlbXNVVEYxNjogeyBba2V5IGluIE51bWJlcmluZ1N5c3RlbVVURjE2XTogW251bWJlciwgbnVtYmVyXSB9ID0ge1xuICAgIGFyYWI6IFsxNjMyLCAxNjQxXSxcbiAgICBhcmFiZXh0OiBbMTc3NiwgMTc4NV0sXG4gICAgYmFsaTogWzY5OTIsIDcwMDFdLFxuICAgIGJlbmc6IFsyNTM0LCAyNTQzXSxcbiAgICBkZXZhOiBbMjQwNiwgMjQxNV0sXG4gICAgZnVsbHdpZGU6IFs2NTI5NiwgNjUzMDNdLFxuICAgIGd1anI6IFsyNzkwLCAyNzk5XSxcbiAgICBraG1yOiBbNjExMiwgNjEyMV0sXG4gICAga25kYTogWzMzMDIsIDMzMTFdLFxuICAgIGxhb286IFszNzkyLCAzODAxXSxcbiAgICBsaW1iOiBbNjQ3MCwgNjQ3OV0sXG4gICAgbWx5bTogWzM0MzAsIDM0MzldLFxuICAgIG1vbmc6IFs2MTYwLCA2MTY5XSxcbiAgICBteW1yOiBbNDE2MCwgNDE2OV0sXG4gICAgb3J5YTogWzI5MTgsIDI5MjddLFxuICAgIHRhbWxkZWM6IFszMDQ2LCAzMDU1XSxcbiAgICB0ZWx1OiBbMzE3NCwgMzE4M10sXG4gICAgdGhhaTogWzM2NjQsIDM2NzNdLFxuICAgIHRpYnQ6IFszODcyLCAzODgxXVxufTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXG5jb25zdCBoYW5pZGVjQ2hhcnMgPSBudW1iZXJpbmdTeXN0ZW1zLmhhbmlkZWMucmVwbGFjZSgvW1xcW3xcXF1dL2csIFwiXCIpLnNwbGl0KFwiXCIpO1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VEaWdpdHMoc3RyOiBzdHJpbmcpIHtcbiAgICBjb25zdCBpbnRWYWx1ZSA9IHBhcnNlSW50KHN0ciwgMTApO1xuICAgIGlmICghaXNOYU4oaW50VmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBpbnRWYWx1ZTtcbiAgICB9XG5cbiAgICBsZXQgZGlnaXRzID0gXCJcIjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjb2RlID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChzdHJbaV0uc2VhcmNoKG51bWJlcmluZ1N5c3RlbXMuaGFuaWRlYykgIT09IC0xKSB7XG4gICAgICAgICAgICBkaWdpdHMgKz0gaGFuaWRlY0NoYXJzLmluZGV4T2Yoc3RyW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG51bWJlcmluZ1N5c3RlbXNVVEYxNikge1xuICAgICAgICAgICAgICAgIGNvbnN0IFttaW4sIG1heF0gPSBudW1iZXJpbmdTeXN0ZW1zVVRGMTZba2V5IGFzIE51bWJlcmluZ1N5c3RlbVVURjE2XTtcbiAgICAgICAgICAgICAgICBpZiAoY29kZSA+PSBtaW4gJiYgY29kZSA8PSBtYXgpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlnaXRzICs9IGNvZGUgLSBtaW47XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGFyc2VJbnQoZGlnaXRzLCAxMCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaWdpdFJlZ2V4KGxvY2FsZTogTG9jYWxlLCBhcHBlbmQgPSBcIlwiKSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoYCR7bnVtYmVyaW5nU3lzdGVtc1tsb2NhbGUubnVtYmVyaW5nU3lzdGVtIHx8IFwibGF0blwiXX0ke2FwcGVuZH1gKTtcbn1cbiIsImltcG9ydCB7IHBhcnNlTWlsbGlzLCBpc1VuZGVmaW5lZCwgdW50cnVuY2F0ZVllYXIsIHNpZ25lZE9mZnNldCwgaXNEZWZpbmVkIH0gZnJvbSBcIi4vdXRpbFwiO1xyXG5pbXBvcnQgeyBGb3JtYXR0ZXIsIEZvcm1hdFRva2VuIH0gZnJvbSBcIi4vZm9ybWF0dGVyXCI7XHJcbmltcG9ydCB7IEZpeGVkT2Zmc2V0Wm9uZSB9IGZyb20gXCIuLi96b25lcy9maXhlZE9mZnNldFpvbmVcIjtcclxuaW1wb3J0IHsgSUFOQVpvbmUgfSBmcm9tIFwiLi4vem9uZXMvSUFOQVpvbmVcIjtcclxuaW1wb3J0IHsgZGlnaXRSZWdleCwgcGFyc2VEaWdpdHMgfSBmcm9tIFwiLi9kaWdpdHNcIjtcclxuaW1wb3J0IHsgTG9jYWxlIH0gZnJvbSBcIi4vbG9jYWxlXCI7XHJcbmltcG9ydCB7IEdlbmVyaWNEYXRlVGltZSwgRXhwbGFpbmVkRm9ybWF0LCBHZW5lcmljRGF0ZVRpbWVFeHRlbmRlZCB9IGZyb20gXCIuLi90eXBlcy9kYXRldGltZVwiO1xyXG5pbXBvcnQgeyBab25lIH0gZnJvbSBcIi4uL3pvbmVcIjtcclxuaW1wb3J0IHsgRGF0ZVRpbWUgfSBmcm9tIFwiLi4vZGF0ZXRpbWVcIjtcclxuaW1wb3J0IHsgQ29uZmxpY3RpbmdTcGVjaWZpY2F0aW9uRXJyb3IgfSBmcm9tIFwiLi4vZXJyb3JzXCI7XHJcbmltcG9ydCBJbnRsIGZyb20gXCIuLi90eXBlcy9pbnRsLW5leHRcIjtcclxuXHJcbmNvbnN0IE1JU1NJTkdfRlRQID0gXCJtaXNzaW5nIEludGwuRGF0ZVRpbWVGb3JtYXQuZm9ybWF0VG9QYXJ0cyBzdXBwb3J0XCI7XHJcblxyXG5pbnRlcmZhY2UgVG9rZW5Gb3JQYXJ0IHtcclxuICAgIGxpdGVyYWw6IGJvb2xlYW47XHJcbiAgICB2YWw6IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIFVuaXRQYXJzZXIge1xyXG4gICAgcmVnZXg6IFJlZ0V4cDtcclxuICAgIGRlc2VyOiAoYTogc3RyaW5nW10pID0+IG51bWJlciB8IHN0cmluZztcclxuICAgIGdyb3Vwcz86IG51bWJlcjtcclxuICAgIGxpdGVyYWw/OiBib29sZWFuOyAvLyBUT0RPIGludmVzdGlnYXRlIGlmIHRoaXMgc2hhbGwgbm90IGJlIG1lcmdlZCB3aXRoIHRva2VuLmxpdGVyYWxcclxuICAgIHRva2VuOiBGb3JtYXRUb2tlbjtcclxufVxyXG5cclxuaW50ZXJmYWNlIEludmFsaWRVbml0UGFyc2VyIHtcclxuICAgIGludmFsaWRSZWFzb246IHN0cmluZztcclxufVxyXG5cclxudHlwZSBDb3JlVW5pdFBhcnNlciA9IE9taXQ8VW5pdFBhcnNlciwgXCJ0b2tlblwiPjtcclxuXHJcbmZ1bmN0aW9uIGludFVuaXQocmVnZXg6IFJlZ0V4cCwgcG9zdDogKGE6IG51bWJlcikgPT4gbnVtYmVyID0gaSA9PiBpKTogQ29yZVVuaXRQYXJzZXIge1xyXG4gICAgcmV0dXJuIHsgcmVnZXgsIGRlc2VyOiAoW3NdKSA9PiBwb3N0KHBhcnNlRGlnaXRzKHMpKSB9O1xyXG59XHJcblxyXG5jb25zdCBzcGFjZU9yTkJTUFBhdHRlcm4gPSBgWyAke1N0cmluZy5mcm9tQ2hhckNvZGUoMTYwKX1dYDtcclxuY29uc3Qgc3BhY2VPck5CU1BSZWdFeHAgPSBuZXcgUmVnRXhwKHNwYWNlT3JOQlNQUGF0dGVybiwgXCJnXCIpO1xyXG5cclxuZnVuY3Rpb24gZml4TGlzdFJlZ2V4KHM6IHN0cmluZykge1xyXG4gICAgLy8gbWFrZSBkb3RzIG9wdGlvbmFsIGFuZCBhbHNvIG1ha2UgdGhlbSBsaXRlcmFsXHJcbiAgICAvLyBtYWtlIHNwYWNlIGFuZCBub24gYnJlYWthYmxlIHNwYWNlIGNoYXJhY3RlcnMgaW50ZXJjaGFuZ2VhYmxlXHJcbiAgICByZXR1cm4gcy5yZXBsYWNlKC9cXC4vZywgXCJcXFxcLj9cIikucmVwbGFjZShzcGFjZU9yTkJTUFJlZ0V4cCwgc3BhY2VPck5CU1BQYXR0ZXJuKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc3RyaXBJbnNlbnNpdGl2aXRpZXMoczogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gc1xyXG4gICAgICAgIC5yZXBsYWNlKC9cXC4vZywgXCJcIikgLy8gaWdub3JlIGRvdHMgdGhhdCB3ZXJlIG1hZGUgb3B0aW9uYWxcclxuICAgICAgICAucmVwbGFjZShzcGFjZU9yTkJTUFJlZ0V4cCwgXCIgXCIpIC8vIGludGVyY2hhbmdlIHNwYWNlIGFuZCBuYnNwXHJcbiAgICAgICAgLnRvTG93ZXJDYXNlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9uZU9mKHN0cmluZ3M6IHN0cmluZ1tdLCBzdGFydEluZGV4OiBudW1iZXIpOiBDb3JlVW5pdFBhcnNlciB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlZ2V4OiBSZWdFeHAoc3RyaW5ncy5tYXAoZml4TGlzdFJlZ2V4KS5qb2luKFwifFwiKSksXHJcbiAgICAgICAgZGVzZXI6IChbc10pID0+XHJcbiAgICAgICAgICAgIHN0cmluZ3MuZmluZEluZGV4KGkgPT4gc3RyaXBJbnNlbnNpdGl2aXRpZXMocykgPT09IHN0cmlwSW5zZW5zaXRpdml0aWVzKGkpKSArIHN0YXJ0SW5kZXhcclxuICAgIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9mZnNldChyZWdleDogUmVnRXhwLCBncm91cHM6IG51bWJlcik6IENvcmVVbml0UGFyc2VyIHtcclxuICAgIHJldHVybiB7IHJlZ2V4LCBkZXNlcjogKFssIGgsIG1dKSA9PiBzaWduZWRPZmZzZXQoaCwgbSksIGdyb3VwcyB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBzaW1wbGUocmVnZXg6IFJlZ0V4cCk6IENvcmVVbml0UGFyc2VyIHtcclxuICAgIHJldHVybiB7IHJlZ2V4LCBkZXNlcjogKFtzXSkgPT4gcyB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBlc2NhcGVUb2tlbih2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgvW1xcLVxcW1xcXXt9KCkqKz8uLFxcXFxcXF4kfCNcXHNdL2csIFwiXFxcXCQmXCIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1bml0Rm9yVG9rZW4odG9rZW46IEZvcm1hdFRva2VuLCBsb2M6IExvY2FsZSk6IFVuaXRQYXJzZXIgfCB7IGludmFsaWRSZWFzb246IHN0cmluZyB9IHtcclxuICAgIGNvbnN0IG9uZSA9IGRpZ2l0UmVnZXgobG9jKSxcclxuICAgICAgICB0d28gPSBkaWdpdFJlZ2V4KGxvYywgXCJ7Mn1cIiksXHJcbiAgICAgICAgdGhyZWUgPSBkaWdpdFJlZ2V4KGxvYywgXCJ7M31cIiksXHJcbiAgICAgICAgZm91ciA9IGRpZ2l0UmVnZXgobG9jLCBcIns0fVwiKSxcclxuICAgICAgICBzaXggPSBkaWdpdFJlZ2V4KGxvYywgXCJ7Nn1cIiksXHJcbiAgICAgICAgb25lT3JUd28gPSBkaWdpdFJlZ2V4KGxvYywgXCJ7MSwyfVwiKSxcclxuICAgICAgICBvbmVUb1RocmVlID0gZGlnaXRSZWdleChsb2MsIFwiezEsM31cIiksXHJcbiAgICAgICAgb25lVG9TaXggPSBkaWdpdFJlZ2V4KGxvYywgXCJ7MSw2fVwiKSxcclxuICAgICAgICBvbmVUb05pbmUgPSBkaWdpdFJlZ2V4KGxvYywgXCJ7MSw5fVwiKSxcclxuICAgICAgICB0d29Ub0ZvdXIgPSBkaWdpdFJlZ2V4KGxvYywgXCJ7Miw0fVwiKSxcclxuICAgICAgICBmb3VyVG9TaXggPSBkaWdpdFJlZ2V4KGxvYywgXCJ7NCw2fVwiKSxcclxuICAgICAgICBsaXRlcmFsID0gKHQ6IEZvcm1hdFRva2VuKTogQ29yZVVuaXRQYXJzZXIgPT4gKHtcclxuICAgICAgICAgICAgcmVnZXg6IFJlZ0V4cChlc2NhcGVUb2tlbih0LnZhbCkpLFxyXG4gICAgICAgICAgICBkZXNlcjogKFtzXSkgPT4gcyxcclxuICAgICAgICAgICAgbGl0ZXJhbDogdHJ1ZVxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIHVuaXRhdGUgPSAodDogRm9ybWF0VG9rZW4pID0+IHtcclxuICAgICAgICAgICAgaWYgKHRva2VuLmxpdGVyYWwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsaXRlcmFsKHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN3aXRjaCAodC52YWwpIHtcclxuICAgICAgICAgICAgICAgIC8vIGVyYVxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkdcIjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb25lT2YobG9jLmVyYXMoXCJzaG9ydFwiKSwgMCk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiR0dcIjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb25lT2YobG9jLmVyYXMoXCJsb25nXCIpLCAwKTtcclxuICAgICAgICAgICAgICAgIC8vIHllYXJzXHJcbiAgICAgICAgICAgICAgICBjYXNlIFwieVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnRVbml0KG9uZVRvU2l4KTtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ5eVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnRVbml0KHR3b1RvRm91ciwgdW50cnVuY2F0ZVllYXIpO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInl5eXlcIjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW50VW5pdChmb3VyKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ5eXl5eVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnRVbml0KGZvdXJUb1NpeCk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwieXl5eXl5XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGludFVuaXQoc2l4KTtcclxuICAgICAgICAgICAgICAgIC8vIG1vbnRoc1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIk1cIjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW50VW5pdChvbmVPclR3byk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiTU1cIjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW50VW5pdCh0d28pO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIk1NTVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvbmVPZihsb2MubW9udGhzKFwic2hvcnRcIiwgdHJ1ZSksIDEpO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIk1NTU1cIjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb25lT2YobG9jLm1vbnRocyhcImxvbmdcIiwgdHJ1ZSksIDEpO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkxcIjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW50VW5pdChvbmVPclR3byk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiTExcIjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW50VW5pdCh0d28pO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkxMTFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvbmVPZihsb2MubW9udGhzKFwic2hvcnRcIiwgZmFsc2UpLCAxKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJMTExMXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uZU9mKGxvYy5tb250aHMoXCJsb25nXCIsIGZhbHNlKSwgMSk7XHJcbiAgICAgICAgICAgICAgICAvLyBkYXRlc1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImRcIjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW50VW5pdChvbmVPclR3byk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGRcIjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW50VW5pdCh0d28pO1xyXG4gICAgICAgICAgICAgICAgLy8gb3JkaW5hbHNcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJvXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGludFVuaXQob25lVG9UaHJlZSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwib29vXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGludFVuaXQodGhyZWUpO1xyXG4gICAgICAgICAgICAgICAgLy8gdGltZVxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkhIXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGludFVuaXQodHdvKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJIXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGludFVuaXQob25lT3JUd28pO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImhoXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGludFVuaXQodHdvKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJoXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGludFVuaXQob25lT3JUd28pO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIm1tXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGludFVuaXQodHdvKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJtXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGludFVuaXQob25lT3JUd28pO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInFcIjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW50VW5pdChvbmVPclR3byk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwicXFcIjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW50VW5pdCh0d28pO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInNcIjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW50VW5pdChvbmVPclR3byk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwic3NcIjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW50VW5pdCh0d28pO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIlNcIjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW50VW5pdChvbmVUb1RocmVlKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJTU1NcIjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW50VW5pdCh0aHJlZSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwidVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzaW1wbGUob25lVG9OaW5lKTtcclxuICAgICAgICAgICAgICAgIC8vIG1lcmlkaWVtXHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiYVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvbmVPZihsb2MubWVyaWRpZW1zKCksIDApO1xyXG4gICAgICAgICAgICAgICAgLy8gd2Vla1llYXIgKGspXHJcbiAgICAgICAgICAgICAgICBjYXNlIFwia2tra1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnRVbml0KGZvdXIpO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImtrXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGludFVuaXQodHdvVG9Gb3VyLCB1bnRydW5jYXRlWWVhcik7XHJcbiAgICAgICAgICAgICAgICAvLyB3ZWVrTnVtYmVyIChXKVxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIldcIjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW50VW5pdChvbmVPclR3byk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiV1dcIjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW50VW5pdCh0d28pO1xyXG4gICAgICAgICAgICAgICAgLy8gd2Vla2RheXNcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJFXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiY1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnRVbml0KG9uZSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiRUVFXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uZU9mKGxvYy53ZWVrZGF5cyhcInNob3J0XCIsIGZhbHNlKSwgMSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiRUVFRVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvbmVPZihsb2Mud2Vla2RheXMoXCJsb25nXCIsIGZhbHNlKSwgMSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2NjXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uZU9mKGxvYy53ZWVrZGF5cyhcInNob3J0XCIsIHRydWUpLCAxKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJjY2NjXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uZU9mKGxvYy53ZWVrZGF5cyhcImxvbmdcIiwgdHJ1ZSksIDEpO1xyXG4gICAgICAgICAgICAgICAgLy8gb2Zmc2V0L3pvbmVcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJaXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiWlpcIjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2Zmc2V0KG5ldyBSZWdFeHAoYChbKy1dJHtvbmVPclR3by5zb3VyY2V9KSg/OjooJHt0d28uc291cmNlfSkpP2ApLCAyKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJaWlpcIjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2Zmc2V0KG5ldyBSZWdFeHAoYChbKy1dJHtvbmVPclR3by5zb3VyY2V9KSgke3R3by5zb3VyY2V9KT9gKSwgMik7XHJcbiAgICAgICAgICAgICAgICAvLyB3ZSBkb24ndCBzdXBwb3J0IFpaWlogKFBTVCkgb3IgWlpaWlogKFBhY2lmaWMgU3RhbmRhcmQgVGltZSkgaW4gcGFyc2luZ1xyXG4gICAgICAgICAgICAgICAgLy8gYmVjYXVzZSB3ZSBkb24ndCBoYXZlIGFueSB3YXkgdG8gZmlndXJlIG91dCB3aGF0IHRoZXkgYXJlXHJcbiAgICAgICAgICAgICAgICBjYXNlIFwielwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzaW1wbGUoL1thLXpfKy0vXXsxLDI1Nn0/L2kpO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGl0ZXJhbCh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgY29uc3QgdW5pdCA9IHVuaXRhdGUodG9rZW4pIHx8IHtcclxuICAgICAgICBpbnZhbGlkUmVhc29uOiBNSVNTSU5HX0ZUUFxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4geyAuLi51bml0LCB0b2tlbiB9O1xyXG59XHJcblxyXG50eXBlIFNsaW1EYXRlVGltZUZvcm1hdFBhcnRUeXBlcyA9IEV4Y2x1ZGU8SW50bC5EYXRlVGltZUZvcm1hdFBhcnRUeXBlcywgXCJsaXRlcmFsXCIgfCBcImVyYVwiIHwgXCJkYXlQZXJpb2RcIiB8IFwidGltZVpvbmVOYW1lXCI+O1xyXG5jb25zdCBwYXJ0VHlwZVN0eWxlVG9Ub2tlblZhbDogeyBba2V5IGluIFNsaW1EYXRlVGltZUZvcm1hdFBhcnRUeXBlc106IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gfSA9IHtcclxuICAgIC8vIGxpdGVyYWw6IHZvaWQgMCwgZXJhOiB2b2lkIDAsIGRheVBlcmlvZDogdm9pZCAwLCB0aW1lWm9uZU5hbWU6IHZvaWQgMCxcclxuICAgIHllYXI6IHtcclxuICAgICAgICBcIjItZGlnaXRcIjogXCJ5eVwiLFxyXG4gICAgICAgIG51bWVyaWM6IFwieXl5eXlcIlxyXG4gICAgfSxcclxuICAgIG1vbnRoOiB7XHJcbiAgICAgICAgbnVtZXJpYzogXCJNXCIsXHJcbiAgICAgICAgXCIyLWRpZ2l0XCI6IFwiTU1cIixcclxuICAgICAgICBzaG9ydDogXCJNTU1cIixcclxuICAgICAgICBsb25nOiBcIk1NTU1cIlxyXG4gICAgfSxcclxuICAgIGRheToge1xyXG4gICAgICAgIG51bWVyaWM6IFwiZFwiLFxyXG4gICAgICAgIFwiMi1kaWdpdFwiOiBcImRkXCJcclxuICAgIH0sXHJcbiAgICB3ZWVrZGF5OiB7XHJcbiAgICAgICAgc2hvcnQ6IFwiRUVFXCIsXHJcbiAgICAgICAgbG9uZzogXCJFRUVFXCJcclxuICAgIH0sXHJcbiAgICBob3VyOiB7XHJcbiAgICAgICAgbnVtZXJpYzogXCJoXCIsXHJcbiAgICAgICAgXCIyLWRpZ2l0XCI6IFwiaGhcIlxyXG4gICAgfSxcclxuICAgIG1pbnV0ZToge1xyXG4gICAgICAgIG51bWVyaWM6IFwibVwiLFxyXG4gICAgICAgIFwiMi1kaWdpdFwiOiBcIm1tXCJcclxuICAgIH0sXHJcbiAgICBzZWNvbmQ6IHtcclxuICAgICAgICBudW1lcmljOiBcInNcIixcclxuICAgICAgICBcIjItZGlnaXRcIjogXCJzc1wiXHJcbiAgICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiB0b2tlbkZvclBhcnQocGFydDogSW50bC5EYXRlVGltZUZvcm1hdFBhcnQsIGZvcm1hdE9wdGlvbnM6IEludGwuRGF0ZVRpbWVGb3JtYXRPcHRpb25zKTogVG9rZW5Gb3JQYXJ0IHwgdm9pZCB7XHJcbiAgICBjb25zdCB7IHR5cGUsIHZhbHVlIH0gPSBwYXJ0O1xyXG4gICAgaWYgKHR5cGUgPT09IFwibGl0ZXJhbFwiKSB7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGxpdGVyYWw6IHRydWUsXHJcbiAgICAgICAgICAgIHZhbDogdmFsdWVcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGUgPT09IFwiZGF5UGVyaW9kXCIpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbGl0ZXJhbDogZmFsc2UsXHJcbiAgICAgICAgICAgIHZhbDogXCJhXCJcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRva2VuVmFscyA9IHBhcnRUeXBlU3R5bGVUb1Rva2VuVmFsW3R5cGUgYXMgU2xpbURhdGVUaW1lRm9ybWF0UGFydFR5cGVzXTtcclxuICAgIGlmICh0b2tlblZhbHMgIT09IHZvaWQgMCkge1xyXG4gICAgICAgIGNvbnN0IHN0eWxlID0gZm9ybWF0T3B0aW9uc1t0eXBlXTtcclxuICAgICAgICBpZiAoc3R5bGUpIHtcclxuICAgICAgICAgICAgY29uc3QgdmFsID0gdG9rZW5WYWxzW3N0eWxlXTtcclxuICAgICAgICAgICAgaWYgKHZhbCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpdGVyYWw6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdm9pZCAwO1xyXG59XHJcblxyXG5mdW5jdGlvbiBidWlsZFJlZ2V4KHVuaXRzOiBVbml0UGFyc2VyW10pIHtcclxuICAgIGNvbnN0IHJlID0gdW5pdHMubWFwKHUgPT4gdS5yZWdleCkucmVkdWNlKChmLCByKSA9PiBgJHtmfSgke3Iuc291cmNlfSlgLCBcIlwiKTtcclxuICAgIHJldHVybiBgXiR7cmV9JGA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1hdGNoKGlucHV0OiBzdHJpbmcsIHJlZ2V4OiBSZWdFeHAsIGhhbmRsZXJzOiBVbml0UGFyc2VyW10pOiBbUmVnRXhwTWF0Y2hBcnJheSB8IG51bGwsIFJlY29yZDxzdHJpbmcsIG51bWJlciB8IHN0cmluZz5dIHtcclxuICAgIGNvbnN0IG1hdGNoZXMgPSByZWdleC5leGVjKGlucHV0KTtcclxuICAgIGNvbnN0IGFsbDogUmVjb3JkPHN0cmluZywgbnVtYmVyIHwgc3RyaW5nPiA9IHt9O1xyXG5cclxuICAgIGlmIChtYXRjaGVzICE9PSBudWxsKSB7XHJcbiAgICAgICAgbGV0IG1hdGNoSW5kZXggPSAxO1xyXG4gICAgICAgIGhhbmRsZXJzLmZvckVhY2goaCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwcyA9IGguZ3JvdXBzID8gaC5ncm91cHMgKyAxIDogMTtcclxuICAgICAgICAgICAgaWYgKCFoLmxpdGVyYWwpIHtcclxuICAgICAgICAgICAgICAgIGFsbFtoLnRva2VuLnZhbFswXV0gPSBoLmRlc2VyKG1hdGNoZXMuc2xpY2UobWF0Y2hJbmRleCwgbWF0Y2hJbmRleCArIGdyb3VwcykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1hdGNoSW5kZXggKz0gZ3JvdXBzO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBbbWF0Y2hlcywgYWxsXTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGF0ZVRpbWVGcm9tTWF0Y2hlcyhtYXRjaGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXI+KTogW0dlbmVyaWNEYXRlVGltZUV4dGVuZGVkLCBab25lIHwgbnVsbCwgbnVtYmVyIHwgdW5kZWZpbmVkXSB7XHJcbiAgICBjb25zdCB0b0ZpZWxkID0gKHRva2VuOiBzdHJpbmcpID0+IHtcclxuICAgICAgICBzd2l0Y2ggKHRva2VuKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJTXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJtaWxsaXNlY29uZFwiO1xyXG4gICAgICAgICAgICBjYXNlIFwic1wiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwic2Vjb25kXCI7XHJcbiAgICAgICAgICAgIGNhc2UgXCJtXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJtaW51dGVcIjtcclxuICAgICAgICAgICAgY2FzZSBcImhcIjpcclxuICAgICAgICAgICAgY2FzZSBcIkhcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBcImhvdXJcIjtcclxuICAgICAgICAgICAgY2FzZSBcImRcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBcImRheVwiO1xyXG4gICAgICAgICAgICBjYXNlIFwib1wiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwib3JkaW5hbFwiO1xyXG4gICAgICAgICAgICBjYXNlIFwiTFwiOlxyXG4gICAgICAgICAgICBjYXNlIFwiTVwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwibW9udGhcIjtcclxuICAgICAgICAgICAgY2FzZSBcInlcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBcInllYXJcIjtcclxuICAgICAgICAgICAgY2FzZSBcIkVcIjpcclxuICAgICAgICAgICAgY2FzZSBcImNcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBcIndlZWtkYXlcIjtcclxuICAgICAgICAgICAgY2FzZSBcIldcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBcIndlZWtOdW1iZXJcIjtcclxuICAgICAgICAgICAgY2FzZSBcImtcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBcIndlZWtZZWFyXCI7XHJcbiAgICAgICAgICAgIGNhc2UgXCJxXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJxdWFydGVyXCI7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGxldCB6b25lID0gbnVsbDtcclxuICAgIGxldCBzcGVjaWZpY09mZnNldDtcclxuICAgIGlmIChpc0RlZmluZWQobWF0Y2hlcy56KSkge1xyXG4gICAgICAgIHpvbmUgPSBJQU5BWm9uZS5jcmVhdGUobWF0Y2hlcy56IGFzIHN0cmluZyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzRGVmaW5lZChtYXRjaGVzLlopKSB7XHJcbiAgICAgICAgaWYgKCF6b25lKSB7XHJcbiAgICAgICAgICAgIHpvbmUgPSBuZXcgRml4ZWRPZmZzZXRab25lKCttYXRjaGVzLlopO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzcGVjaWZpY09mZnNldCA9ICttYXRjaGVzLlo7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpc1VuZGVmaW5lZChtYXRjaGVzLnEpKSB7XHJcbiAgICAgICAgbWF0Y2hlcy5NID0gKChtYXRjaGVzLnEgYXMgbnVtYmVyKSAtIDEpICogMyArIDE7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpc1VuZGVmaW5lZChtYXRjaGVzLmgpKSB7XHJcbiAgICAgICAgaWYgKG1hdGNoZXMuaCA8IDEyICYmIG1hdGNoZXMuYSA9PT0gMSkge1xyXG4gICAgICAgICAgICBtYXRjaGVzLmggPSAobWF0Y2hlcy5oIGFzIG51bWJlcikgKyAxMjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobWF0Y2hlcy5oID09PSAxMiAmJiBtYXRjaGVzLmEgPT09IDApIHtcclxuICAgICAgICAgICAgbWF0Y2hlcy5oID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG1hdGNoZXMuRyA9PT0gMCAmJiBtYXRjaGVzLnkpIHtcclxuICAgICAgICBtYXRjaGVzLnkgPSAtbWF0Y2hlcy55O1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghaXNVbmRlZmluZWQobWF0Y2hlcy51KSkge1xyXG4gICAgICAgIG1hdGNoZXMuUyA9IHBhcnNlTWlsbGlzKG1hdGNoZXMudSBhcyBzdHJpbmcpIHx8IDA7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdmFscyA9IE9iamVjdC5rZXlzKG1hdGNoZXMpLnJlZHVjZSgocjogR2VuZXJpY0RhdGVUaW1lRXh0ZW5kZWQsIGs6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIGNvbnN0IGYgPSB0b0ZpZWxkKGspO1xyXG4gICAgICAgIGlmIChmKSB7XHJcbiAgICAgICAgICAgIHJbZl0gPSBtYXRjaGVzW2tdIGFzIG51bWJlcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByO1xyXG4gICAgfSwge30gYXMgR2VuZXJpY0RhdGVUaW1lRXh0ZW5kZWQpO1xyXG5cclxuICAgIHJldHVybiBbdmFscywgem9uZSwgc3BlY2lmaWNPZmZzZXRdO1xyXG59XHJcblxyXG5sZXQgZHVtbXlEYXRlVGltZUNhY2hlOiBEYXRlVGltZSB8IHVuZGVmaW5lZDtcclxuXHJcbmZ1bmN0aW9uIGdldER1bW15RGF0ZVRpbWUoKSB7XHJcbiAgICBpZiAoZHVtbXlEYXRlVGltZUNhY2hlID09PSB2b2lkIDApIHtcclxuICAgICAgICBkdW1teURhdGVUaW1lQ2FjaGUgPSBEYXRlVGltZS5mcm9tTWlsbGlzKDE1NTU1NTU1NTU1NTUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBkdW1teURhdGVUaW1lQ2FjaGU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1heWJlRXhwYW5kTWFjcm9Ub2tlbih0b2tlbjogRm9ybWF0VG9rZW4sIGxvY2FsZTogTG9jYWxlKTogRm9ybWF0VG9rZW4gfCBBcnJheTxUb2tlbkZvclBhcnQgfCB2b2lkPiB7XHJcbiAgICBpZiAodG9rZW4ubGl0ZXJhbCkge1xyXG5cclxuICAgICAgICByZXR1cm4gdG9rZW47XHJcbiAgICB9XHJcbiAgICBjb25zdCBmb3JtYXRPcHRzID0gRm9ybWF0dGVyLm1hY3JvVG9rZW5Ub0Zvcm1hdE9wdHModG9rZW4udmFsKTtcclxuICAgIGlmICghZm9ybWF0T3B0cykge1xyXG5cclxuICAgICAgICByZXR1cm4gdG9rZW47XHJcbiAgICB9XHJcbiAgICBjb25zdCBmb3JtYXR0ZXIgPSBGb3JtYXR0ZXIuY3JlYXRlKGxvY2FsZSwgZm9ybWF0T3B0cyk7XHJcbiAgICBjb25zdCBwYXJ0cyA9IGZvcm1hdHRlci5mb3JtYXREYXRlVGltZVBhcnRzKGdldER1bW15RGF0ZVRpbWUoKSk7XHJcbiAgICBjb25zdCB0b2tlbnMgPSBwYXJ0cy5tYXAoKHA6IEludGwuRGF0ZVRpbWVGb3JtYXRQYXJ0KSA9PiB0b2tlbkZvclBhcnQocCwgZm9ybWF0T3B0cykpO1xyXG4gICAgaWYgKHRva2Vucy5pbmRleE9mKHVuZGVmaW5lZCkgPj0gMCkge1xyXG5cclxuICAgICAgICByZXR1cm4gdG9rZW47XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRva2VucztcclxufVxyXG5cclxuZnVuY3Rpb24gZXhwYW5kTWFjcm9Ub2tlbnModG9rZW5zOiBGb3JtYXRUb2tlbltdLCBsb2NhbGU6IExvY2FsZSk6IEFycmF5PEZvcm1hdFRva2VuIHwgVG9rZW5Gb3JQYXJ0PiB7XHJcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdCguLi50b2tlbnMubWFwKHQgPT4gbWF5YmVFeHBhbmRNYWNyb1Rva2VuKHQsIGxvY2FsZSkpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNJbnZhbGlkVW5pdFBhcnNlcihwYXJzZXI6IHVua25vd24pOiBwYXJzZXIgaXMgSW52YWxpZFVuaXRQYXJzZXIge1xyXG4gICAgcmV0dXJuICEhcGFyc2VyICYmICEhKHBhcnNlciBhcyB7IGludmFsaWRSZWFzb246IHN0cmluZyB8IHVuZGVmaW5lZCB9KS5pbnZhbGlkUmVhc29uO1xyXG59XHJcblxyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBleHBsYWluRnJvbVRva2Vucyhsb2NhbGU6IExvY2FsZSwgaW5wdXQ6IHN0cmluZywgZm9ybWF0OiBzdHJpbmcpOiBFeHBsYWluZWRGb3JtYXQge1xyXG4gICAgY29uc3QgdG9rZW5zID0gZXhwYW5kTWFjcm9Ub2tlbnMoRm9ybWF0dGVyLnBhcnNlRm9ybWF0KGZvcm1hdCksIGxvY2FsZSk7XHJcbiAgICBjb25zdCB1bml0cyA9IHRva2Vucy5tYXAoKHQ6IEZvcm1hdFRva2VuKSA9PiB1bml0Rm9yVG9rZW4odCwgbG9jYWxlKSk7XHJcbiAgICBjb25zdCBkaXNxdWFsaWZ5aW5nVW5pdCA9IHVuaXRzLmZpbmQoaXNJbnZhbGlkVW5pdFBhcnNlcik7XHJcblxyXG4gICAgaWYgKGRpc3F1YWxpZnlpbmdVbml0KSB7XHJcbiAgICAgICAgcmV0dXJuIHsgaW5wdXQsIHRva2VucywgaW52YWxpZFJlYXNvbjogZGlzcXVhbGlmeWluZ1VuaXQuaW52YWxpZFJlYXNvbiB9O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgcmVnZXhTdHJpbmcgPSBidWlsZFJlZ2V4KHVuaXRzIGFzIFVuaXRQYXJzZXJbXSksXHJcbiAgICAgICAgICAgIHJlZ2V4ID0gUmVnRXhwKHJlZ2V4U3RyaW5nLCBcImlcIiksXHJcbiAgICAgICAgICAgIFtyYXdNYXRjaGVzLCBtYXRjaGVzXSA9IG1hdGNoKGlucHV0LCByZWdleCwgdW5pdHMgYXMgVW5pdFBhcnNlcltdKSxcclxuICAgICAgICAgICAgW3Jlc3VsdCwgem9uZSwgc3BlY2lmaWNPZmZzZXRdID0gbWF0Y2hlc1xyXG4gICAgICAgICAgICAgICAgPyBkYXRlVGltZUZyb21NYXRjaGVzKG1hdGNoZXMpXHJcbiAgICAgICAgICAgICAgICA6IFtudWxsLCBudWxsLCB2b2lkIDBdO1xyXG4gICAgICAgIGlmIChcImFcIiBpbiBtYXRjaGVzICYmIFwiSFwiIGluIG1hdGNoZXMpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IENvbmZsaWN0aW5nU3BlY2lmaWNhdGlvbkVycm9yKFxyXG4gICAgICAgICAgICAgICAgXCJDYW4ndCBpbmNsdWRlIG1lcmlkaWVtIHdoZW4gc3BlY2lmeWluZyAyNC1ob3VyIGZvcm1hdFwiXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7IGlucHV0LCB0b2tlbnMsIHJlZ2V4LCByYXdNYXRjaGVzLCBtYXRjaGVzLCByZXN1bHQsIHpvbmUsIHNwZWNpZmljT2Zmc2V0IH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUZyb21Ub2tlbnMobG9jYWxlOiBMb2NhbGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHN0cmluZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IHN0cmluZyk6IFtHZW5lcmljRGF0ZVRpbWUgfCBudWxsIHwgdm9pZCwgWm9uZSB8IG51bGwgfCB2b2lkLCBudW1iZXIgfCB1bmRlZmluZWQsIHN0cmluZyB8IHZvaWRdIHtcclxuICAgIGNvbnN0IHsgcmVzdWx0LCB6b25lLCBzcGVjaWZpY09mZnNldCwgaW52YWxpZFJlYXNvbiB9ID0gZXhwbGFpbkZyb21Ub2tlbnMobG9jYWxlLCBpbnB1dCwgZm9ybWF0KTtcclxuICAgIHJldHVybiBbcmVzdWx0LCB6b25lLCBzcGVjaWZpY09mZnNldCwgaW52YWxpZFJlYXNvbl07XHJcbn1cclxuIiwiaW1wb3J0IHtcbiAgICBpbnRlZ2VyQmV0d2VlbixcbiAgICBpc0xlYXBZZWFyLFxuICAgIHRpbWVPYmplY3QsXG4gICAgZGF5c0luWWVhcixcbiAgICBkYXlzSW5Nb250aCxcbiAgICB3ZWVrc0luV2Vla1llYXIsXG4gICAgaXNJbnRlZ2VyXG59IGZyb20gXCIuL3V0aWxcIjtcbmltcG9ydCB7IFRpbWVPYmplY3QsIFdlZWtEYXRlVGltZSwgR3JlZ29yaWFuRGF0ZVRpbWUsIE9yZGluYWxEYXRlVGltZSB9IGZyb20gXCIuLi90eXBlcy9kYXRldGltZVwiO1xuaW1wb3J0IHsgSW52YWxpZCB9IGZyb20gXCIuLi90eXBlcy9pbnZhbGlkXCI7XG5cbmNvbnN0IG5vbkxlYXBMYWRkZXIgPSBbMCwgMzEsIDU5LCA5MCwgMTIwLCAxNTEsIDE4MSwgMjEyLCAyNDMsIDI3MywgMzA0LCAzMzRdO1xuY29uc3QgbGVhcExhZGRlciA9IFswLCAzMSwgNjAsIDkxLCAxMjEsIDE1MiwgMTgyLCAyMTMsIDI0NCwgMjc0LCAzMDUsIDMzNV07XG5cbmZ1bmN0aW9uIHVuaXRPdXRPZlJhbmdlKHVuaXQ6IHN0cmluZywgdmFsdWU6IG51bWJlciB8IHN0cmluZyk6IEludmFsaWQge1xuICAgIHJldHVybiBuZXcgSW52YWxpZChcbiAgICAgICAgXCJ1bml0IG91dCBvZiByYW5nZVwiLFxuICAgICAgICBgeW91IHNwZWNpZmllZCAke3ZhbHVlfSAob2YgdHlwZSAke3R5cGVvZiB2YWx1ZX0pIGFzIGEgJHt1bml0fSwgd2hpY2ggaXMgaW52YWxpZGBcbiAgICApO1xufVxuXG5mdW5jdGlvbiBkYXlPZldlZWsoeWVhcjogbnVtYmVyLCBtb250aDogbnVtYmVyLCBkYXk6IG51bWJlcikge1xuICAgIGNvbnN0IGQgPSBuZXcgRGF0ZShEYXRlLlVUQyh5ZWFyLCBtb250aCAtIDEsIGRheSkpO1xuICAgIGlmICh5ZWFyIDwgMTAwICYmIHllYXIgPj0gMCkge1xuICAgICAgICBkLnNldFVUQ0Z1bGxZZWFyKGQuZ2V0VVRDRnVsbFllYXIoKSAtIDE5MDApO1xuICAgIH1cbiAgICBjb25zdCBqcyA9IGQuZ2V0VVRDRGF5KCk7XG5cbiAgICByZXR1cm4ganMgPT09IDAgPyA3IDoganM7XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVPcmRpbmFsKHllYXI6IG51bWJlciwgbW9udGg6IG51bWJlciwgZGF5OiBudW1iZXIpIHtcbiAgICByZXR1cm4gZGF5ICsgKGlzTGVhcFllYXIoeWVhcikgPyBsZWFwTGFkZGVyIDogbm9uTGVhcExhZGRlcilbbW9udGggLSAxXTtcbn1cblxuZnVuY3Rpb24gdW5jb21wdXRlT3JkaW5hbCh5ZWFyOiBudW1iZXIsIG9yZGluYWw6IG51bWJlcikge1xuICAgIGNvbnN0IHRhYmxlID0gaXNMZWFwWWVhcih5ZWFyKSA/IGxlYXBMYWRkZXIgOiBub25MZWFwTGFkZGVyO1xuICAgIGNvbnN0IG1vbnRoMCA9IHRhYmxlLmZpbmRJbmRleChpID0+IGkgPCBvcmRpbmFsKTtcbiAgICBjb25zdCBkYXkgPSBvcmRpbmFsIC0gdGFibGVbbW9udGgwXTtcblxuICAgIHJldHVybiB7IG1vbnRoOiBtb250aDAgKyAxLCBkYXkgfTtcbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBncmVnb3JpYW5Ub1dlZWsoZ3JlZ09iajogR3JlZ29yaWFuRGF0ZVRpbWUpOiBXZWVrRGF0ZVRpbWUge1xuICAgIGNvbnN0IHsgeWVhciwgbW9udGgsIGRheSB9ID0gZ3JlZ09iajtcbiAgICBjb25zdCBvcmRpbmFsID0gY29tcHV0ZU9yZGluYWwoeWVhciwgbW9udGgsIGRheSk7XG4gICAgY29uc3Qgd2Vla2RheSA9IGRheU9mV2Vlayh5ZWFyLCBtb250aCwgZGF5KTtcblxuICAgIGxldCB3ZWVrTnVtYmVyID0gTWF0aC5mbG9vcigob3JkaW5hbCAtIHdlZWtkYXkgKyAxMCkgLyA3KSxcbiAgICAgICAgd2Vla1llYXI7XG5cbiAgICBpZiAod2Vla051bWJlciA8IDEpIHtcbiAgICAgICAgd2Vla1llYXIgPSB5ZWFyIC0gMTtcbiAgICAgICAgd2Vla051bWJlciA9IHdlZWtzSW5XZWVrWWVhcih3ZWVrWWVhcik7XG4gICAgfVxuICAgIGVsc2UgaWYgKHdlZWtOdW1iZXIgPiB3ZWVrc0luV2Vla1llYXIoeWVhcikpIHtcbiAgICAgICAgd2Vla1llYXIgPSB5ZWFyICsgMTtcbiAgICAgICAgd2Vla051bWJlciA9IDE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB3ZWVrWWVhciA9IHllYXI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgd2Vla1llYXIsIHdlZWtOdW1iZXIsIHdlZWtkYXksIC4uLnRpbWVPYmplY3QoZ3JlZ09iaikgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdlZWtUb0dyZWdvcmlhbih3ZWVrRGF0YTogV2Vla0RhdGVUaW1lKSB7XG4gICAgY29uc3QgeyB3ZWVrWWVhciwgd2Vla051bWJlciwgd2Vla2RheSB9ID0gd2Vla0RhdGE7XG4gICAgY29uc3Qgd2Vla2RheU9mSmFuNCA9IGRheU9mV2Vlayh3ZWVrWWVhciwgMSwgNCk7XG4gICAgY29uc3QgeWVhckluRGF5cyA9IGRheXNJblllYXIod2Vla1llYXIpO1xuXG4gICAgbGV0IG9yZGluYWwgPSB3ZWVrTnVtYmVyICogNyArIHdlZWtkYXkgLSB3ZWVrZGF5T2ZKYW40IC0gMyxcbiAgICAgICAgeWVhcjtcblxuICAgIGlmIChvcmRpbmFsIDwgMSkge1xuICAgICAgICB5ZWFyID0gd2Vla1llYXIgLSAxO1xuICAgICAgICBvcmRpbmFsICs9IGRheXNJblllYXIoeWVhcik7XG4gICAgfVxuICAgIGVsc2UgaWYgKG9yZGluYWwgPiB5ZWFySW5EYXlzKSB7XG4gICAgICAgIHllYXIgPSB3ZWVrWWVhciArIDE7XG4gICAgICAgIG9yZGluYWwgLT0gZGF5c0luWWVhcih3ZWVrWWVhcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB5ZWFyID0gd2Vla1llYXI7XG4gICAgfVxuXG4gICAgY29uc3QgeyBtb250aCwgZGF5IH0gPSB1bmNvbXB1dGVPcmRpbmFsKHllYXIsIG9yZGluYWwpO1xuXG4gICAgcmV0dXJuIHsgeWVhciwgbW9udGgsIGRheSwgLi4udGltZU9iamVjdCh3ZWVrRGF0YSkgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdyZWdvcmlhblRvT3JkaW5hbChncmVnRGF0YTogR3JlZ29yaWFuRGF0ZVRpbWUpOiBPcmRpbmFsRGF0ZVRpbWUge1xuICAgIGNvbnN0IHsgeWVhciwgbW9udGgsIGRheSB9ID0gZ3JlZ0RhdGE7XG4gICAgY29uc3Qgb3JkaW5hbCA9IGNvbXB1dGVPcmRpbmFsKHllYXIsIG1vbnRoLCBkYXkpO1xuXG4gICAgcmV0dXJuIHsgeWVhciwgb3JkaW5hbCwgLi4udGltZU9iamVjdChncmVnRGF0YSkgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9yZGluYWxUb0dyZWdvcmlhbihvcmRpbmFsRGF0YTogT3JkaW5hbERhdGVUaW1lKSB7XG4gICAgY29uc3QgeyB5ZWFyLCBvcmRpbmFsIH0gPSBvcmRpbmFsRGF0YTtcbiAgICBjb25zdCB7IG1vbnRoLCBkYXkgfSA9IHVuY29tcHV0ZU9yZGluYWwoeWVhciwgb3JkaW5hbCk7XG5cbiAgICByZXR1cm4geyB5ZWFyLCBtb250aCwgZGF5LCAuLi50aW1lT2JqZWN0KG9yZGluYWxEYXRhKSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzSW52YWxpZFdlZWtEYXRhKG9iajogV2Vla0RhdGVUaW1lKTogSW52YWxpZCB8IGZhbHNlIHtcbiAgICBjb25zdCB2YWxpZFllYXIgPSBpc0ludGVnZXIob2JqLndlZWtZZWFyKSxcbiAgICAgICAgdmFsaWRXZWVrID0gaW50ZWdlckJldHdlZW4ob2JqLndlZWtOdW1iZXIsIDEsIHdlZWtzSW5XZWVrWWVhcihvYmoud2Vla1llYXIpKSxcbiAgICAgICAgdmFsaWRXZWVrZGF5ID0gaW50ZWdlckJldHdlZW4ob2JqLndlZWtkYXksIDEsIDcpO1xuXG4gICAgaWYgKCF2YWxpZFllYXIpIHtcbiAgICAgICAgcmV0dXJuIHVuaXRPdXRPZlJhbmdlKFwid2Vla1llYXJcIiwgb2JqLndlZWtZZWFyKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIXZhbGlkV2Vlaykge1xuICAgICAgICByZXR1cm4gdW5pdE91dE9mUmFuZ2UoXCJ3ZWVrXCIsIG9iai53ZWVrTnVtYmVyKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIXZhbGlkV2Vla2RheSkge1xuICAgICAgICByZXR1cm4gdW5pdE91dE9mUmFuZ2UoXCJ3ZWVrZGF5XCIsIG9iai53ZWVrZGF5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNJbnZhbGlkT3JkaW5hbERhdGEob2JqOiBPcmRpbmFsRGF0ZVRpbWUpOiBJbnZhbGlkIHwgZmFsc2Uge1xuICAgIGNvbnN0IHZhbGlkWWVhciA9IGlzSW50ZWdlcihvYmoueWVhciksXG4gICAgICAgIHZhbGlkT3JkaW5hbCA9IGludGVnZXJCZXR3ZWVuKG9iai5vcmRpbmFsLCAxLCBkYXlzSW5ZZWFyKG9iai55ZWFyKSk7XG5cbiAgICBpZiAoIXZhbGlkWWVhcikge1xuICAgICAgICByZXR1cm4gdW5pdE91dE9mUmFuZ2UoXCJ5ZWFyXCIsIG9iai55ZWFyKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIXZhbGlkT3JkaW5hbCkge1xuICAgICAgICByZXR1cm4gdW5pdE91dE9mUmFuZ2UoXCJvcmRpbmFsXCIsIG9iai5vcmRpbmFsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNJbnZhbGlkR3JlZ29yaWFuRGF0YShvYmo6IEdyZWdvcmlhbkRhdGVUaW1lKTogSW52YWxpZCB8IGZhbHNlIHtcbiAgICBjb25zdCB2YWxpZFllYXIgPSBpc0ludGVnZXIob2JqLnllYXIpLFxuICAgICAgICB2YWxpZE1vbnRoID0gaW50ZWdlckJldHdlZW4ob2JqLm1vbnRoLCAxLCAxMiksXG4gICAgICAgIHZhbGlkRGF5ID0gaW50ZWdlckJldHdlZW4ob2JqLmRheSwgMSwgZGF5c0luTW9udGgob2JqLnllYXIsIG9iai5tb250aCkpO1xuXG4gICAgaWYgKCF2YWxpZFllYXIpIHtcbiAgICAgICAgcmV0dXJuIHVuaXRPdXRPZlJhbmdlKFwieWVhclwiLCBvYmoueWVhcik7XG4gICAgfVxuICAgIGVsc2UgaWYgKCF2YWxpZE1vbnRoKSB7XG4gICAgICAgIHJldHVybiB1bml0T3V0T2ZSYW5nZShcIm1vbnRoXCIsIG9iai5tb250aCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCF2YWxpZERheSkge1xuICAgICAgICByZXR1cm4gdW5pdE91dE9mUmFuZ2UoXCJkYXlcIiwgb2JqLmRheSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzSW52YWxpZFRpbWVEYXRhKG9iajogVGltZU9iamVjdCk6IEludmFsaWQgfCBmYWxzZSB7XG4gICAgY29uc3QgeyBob3VyLCBtaW51dGUsIHNlY29uZCwgbWlsbGlzZWNvbmQgfSA9IG9iajtcbiAgICBjb25zdCB2YWxpZEhvdXIgPVxuICAgICAgICBpbnRlZ2VyQmV0d2Vlbihob3VyLCAwLCAyMykgfHxcbiAgICAgICAgKGhvdXIgPT09IDI0ICYmIG1pbnV0ZSA9PT0gMCAmJiBzZWNvbmQgPT09IDAgJiYgbWlsbGlzZWNvbmQgPT09IDApLFxuICAgICAgICB2YWxpZE1pbnV0ZSA9IGludGVnZXJCZXR3ZWVuKG1pbnV0ZSwgMCwgNTkpLFxuICAgICAgICB2YWxpZFNlY29uZCA9IGludGVnZXJCZXR3ZWVuKHNlY29uZCwgMCwgNTkpLFxuICAgICAgICB2YWxpZE1pbGxpc2Vjb25kID0gaW50ZWdlckJldHdlZW4obWlsbGlzZWNvbmQsIDAsIDk5OSk7XG5cbiAgICBpZiAoIXZhbGlkSG91cikge1xuICAgICAgICByZXR1cm4gdW5pdE91dE9mUmFuZ2UoXCJob3VyXCIsIGhvdXIpO1xuICAgIH1cbiAgICBlbHNlIGlmICghdmFsaWRNaW51dGUpIHtcbiAgICAgICAgcmV0dXJuIHVuaXRPdXRPZlJhbmdlKFwibWludXRlXCIsIG1pbnV0ZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCF2YWxpZFNlY29uZCkge1xuICAgICAgICByZXR1cm4gdW5pdE91dE9mUmFuZ2UoXCJzZWNvbmRcIiwgc2Vjb25kKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIXZhbGlkTWlsbGlzZWNvbmQpIHtcbiAgICAgICAgcmV0dXJuIHVuaXRPdXRPZlJhbmdlKFwibWlsbGlzZWNvbmRcIiwgbWlsbGlzZWNvbmQpO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cbiIsImltcG9ydCB7IER1cmF0aW9uLCBEdXJhdGlvbkxpa2UgfSBmcm9tIFwiLi9kdXJhdGlvblwiO1xyXG5pbXBvcnQgeyBJbnRlcnZhbCB9IGZyb20gXCIuL2ludGVydmFsXCI7XHJcbmltcG9ydCB7IFNldHRpbmdzIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcclxuaW1wb3J0IHsgSW5mbyB9IGZyb20gXCIuL2luZm9cIjtcclxuaW1wb3J0IHsgRm9ybWF0dGVyIH0gZnJvbSBcIi4vaW1wbC9mb3JtYXR0ZXJcIjtcclxuaW1wb3J0IHsgRml4ZWRPZmZzZXRab25lIH0gZnJvbSBcIi4vem9uZXMvZml4ZWRPZmZzZXRab25lXCI7XHJcbmltcG9ydCB7IExvY2FsZSB9IGZyb20gXCIuL2ltcGwvbG9jYWxlXCI7XHJcbmltcG9ydCB7XHJcbiAgICBpc0RlZmluZWQsXHJcbiAgICBpc1VuZGVmaW5lZCxcclxuICAgIG1heWJlQXJyYXksXHJcbiAgICBpc0RhdGUsXHJcbiAgICBpc051bWJlcixcclxuICAgIGJlc3RCeSxcclxuICAgIGRheXNJbk1vbnRoLFxyXG4gICAgZGF5c0luWWVhcixcclxuICAgIGlzTGVhcFllYXIsXHJcbiAgICB3ZWVrc0luV2Vla1llYXIsXHJcbiAgICBub3JtYWxpemVPYmplY3QsXHJcbiAgICByb3VuZFRvLFxyXG4gICAgb2JqVG9Mb2NhbFRTLFxyXG4gICAgcGFkU3RhcnRcclxufSBmcm9tIFwiLi9pbXBsL3V0aWxcIjtcclxuaW1wb3J0IHsgbm9ybWFsaXplWm9uZSB9IGZyb20gXCIuL2ltcGwvem9uZVV0aWxcIjtcclxuaW1wb3J0IHsgZGlmZiB9IGZyb20gXCIuL2ltcGwvZGlmZlwiO1xyXG5pbXBvcnQgeyBwYXJzZVJGQzI4MjJEYXRlLCBwYXJzZUlTT0RhdGUsIHBhcnNlSFRUUERhdGUsIHBhcnNlU1FMIH0gZnJvbSBcIi4vaW1wbC9yZWdleFBhcnNlclwiO1xyXG5pbXBvcnQgeyBwYXJzZUZyb21Ub2tlbnMsIGV4cGxhaW5Gcm9tVG9rZW5zIH0gZnJvbSBcIi4vaW1wbC90b2tlblBhcnNlclwiO1xyXG5pbXBvcnQge1xyXG4gICAgZ3JlZ29yaWFuVG9XZWVrLFxyXG4gICAgd2Vla1RvR3JlZ29yaWFuLFxyXG4gICAgZ3JlZ29yaWFuVG9PcmRpbmFsLFxyXG4gICAgb3JkaW5hbFRvR3JlZ29yaWFuLFxyXG4gICAgaGFzSW52YWxpZEdyZWdvcmlhbkRhdGEsXHJcbiAgICBoYXNJbnZhbGlkV2Vla0RhdGEsXHJcbiAgICBoYXNJbnZhbGlkT3JkaW5hbERhdGEsXHJcbiAgICBoYXNJbnZhbGlkVGltZURhdGFcclxufSBmcm9tIFwiLi9pbXBsL2NvbnZlcnNpb25zXCI7XHJcbmltcG9ydCAqIGFzIEZvcm1hdHMgZnJvbSBcIi4vaW1wbC9mb3JtYXRzXCI7XHJcbmltcG9ydCB7XHJcbiAgICBJbnZhbGlkQXJndW1lbnRFcnJvcixcclxuICAgIENvbmZsaWN0aW5nU3BlY2lmaWNhdGlvbkVycm9yLFxyXG4gICAgSW52YWxpZFVuaXRFcnJvcixcclxuICAgIEludmFsaWREYXRlVGltZUVycm9yXHJcbn0gZnJvbSBcIi4vZXJyb3JzXCI7XHJcbmltcG9ydCB7IFpvbmUgfSBmcm9tIFwiLi96b25lXCI7XHJcbmltcG9ydCB7XHJcbiAgICBUb0lTT1RpbWVPcHRpb25zLFxyXG4gICAgVG9JU09Gb3JtYXQsXHJcbiAgICBUb1NRTE9wdGlvbnMsXHJcbiAgICBUb1JlbGF0aXZlT3B0aW9ucyxcclxuICAgIFRvUmVsYXRpdmVDYWxlbmRhck9wdGlvbnMsXHJcbiAgICBTZXRab25lT3B0aW9ucyxcclxuICAgIEdyZWdvcmlhbkRhdGVUaW1lLFxyXG4gICAgV2Vla0RhdGVUaW1lLFxyXG4gICAgT3JkaW5hbERhdGVUaW1lLFxyXG4gICAgR2VuZXJpY0RhdGVUaW1lLFxyXG4gICAgRGVmYXVsdFVuaXRWYWx1ZXMsXHJcbiAgICBEZWZhdWx0V2Vla1VuaXRWYWx1ZXMsXHJcbiAgICBEZWZhdWx0T3JkaW5hbFVuaXRWYWx1ZXMsXHJcbiAgICBUaW1lT2JqZWN0LFxyXG4gICAgSW5uZXJCdWlsZE9iamVjdENvbmZpZyxcclxuICAgIEdlbmVyaWNEYXRlVGltZVBsdXJhbHMsIEdlbmVyaWNEYXRlVGltZUV4dGVuZGVkLCBEYXRlVGltZU9wdGlvbnNcclxufSBmcm9tIFwiLi90eXBlcy9kYXRldGltZVwiO1xyXG5pbXBvcnQgeyBEdXJhdGlvblVuaXQsIER1cmF0aW9uT3B0aW9ucywgRHVyYXRpb25PYmplY3QgfSBmcm9tIFwiLi90eXBlcy9kdXJhdGlvblwiO1xyXG5pbXBvcnQgeyBMb2NhbGVPcHRpb25zLCBDYWxlbmRhclN5c3RlbSB9IGZyb20gXCIuL3R5cGVzL2xvY2FsZVwiO1xyXG5pbXBvcnQgeyBab25lTGlrZSB9IGZyb20gXCIuL3R5cGVzL3pvbmVcIjtcclxuaW1wb3J0IHsgSW52YWxpZCB9IGZyb20gXCIuL3R5cGVzL2ludmFsaWRcIjtcclxuaW1wb3J0IEludGwgZnJvbSBcIi4vdHlwZXMvaW50bC1uZXh0XCI7XHJcblxyXG5jb25zdCBJTlZBTElEID0gXCJJbnZhbGlkIERhdGVUaW1lXCI7XHJcbmNvbnN0IE1BWF9EQVRFID0gOC42NGUxNTtcclxuXHJcbi8vIGZpbmQgdGhlIHJpZ2h0IG9mZnNldCBhdCBhIGdpdmVuIGxvY2FsIHRpbWUuIFRoZSBvIGlucHV0IGlzIG91ciBndWVzcywgd2hpY2ggZGV0ZXJtaW5lcyB3aGljaFxyXG4vLyBvZmZzZXQgd2UnbGwgcGljayBpbiBhbWJpZ3VvdXMgY2FzZXMgKGUuZy4gdGhlcmUgYXJlIHR3byAzIEFNcyBiL2MgRmFsbGJhY2sgRFNUKVxyXG5mdW5jdGlvbiBmaXhPZmZzZXQobG9jYWxUUzogbnVtYmVyLCBvOiBudW1iZXIsIHR6OiBab25lKTogW251bWJlciwgbnVtYmVyXSB7XHJcbiAgICAvLyBPdXIgVVRDIHRpbWUgaXMganVzdCBhIGd1ZXNzIGJlY2F1c2Ugb3VyIG9mZnNldCBpcyBqdXN0IGEgZ3Vlc3NcclxuICAgIGxldCB1dGNHdWVzcyA9IGxvY2FsVFMgLSBvICogNjAgKiAxMDAwO1xyXG5cclxuICAgIC8vIFRlc3Qgd2hldGhlciB0aGUgem9uZSBtYXRjaGVzIHRoZSBvZmZzZXQgZm9yIHRoaXMgdHNcclxuICAgIGNvbnN0IG8yID0gdHoub2Zmc2V0KHV0Y0d1ZXNzKTtcclxuXHJcbiAgICAvLyBJZiBzbywgb2Zmc2V0IGRpZG4ndCBjaGFuZ2UgYW5kIHdlJ3JlIGRvbmVcclxuICAgIGlmIChvID09PSBvMikge1xyXG4gICAgICAgIHJldHVybiBbdXRjR3Vlc3MsIG9dO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIG5vdCwgY2hhbmdlIHRoZSB0cyBieSB0aGUgZGlmZmVyZW5jZSBpbiB0aGUgb2Zmc2V0XHJcbiAgICB1dGNHdWVzcyAtPSAobzIgLSBvKSAqIDYwICogMTAwMDtcclxuXHJcbiAgICAvLyBJZiB0aGF0IGdpdmVzIHVzIHRoZSBsb2NhbCB0aW1lIHdlIHdhbnQsIHdlJ3JlIGRvbmVcclxuICAgIGNvbnN0IG8zID0gdHoub2Zmc2V0KHV0Y0d1ZXNzKTtcclxuICAgIGlmIChvMiA9PT0gbzMpIHtcclxuICAgICAgICByZXR1cm4gW3V0Y0d1ZXNzLCBvMl07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgaXQncyBkaWZmZXJlbnQsIHdlJ3JlIGluIGEgaG9sZSB0aW1lLiBUaGUgb2Zmc2V0IGhhcyBjaGFuZ2VkLCBidXQgdGhlIHdlIGRvbid0IGFkanVzdCB0aGUgdGltZVxyXG4gICAgcmV0dXJuIFtsb2NhbFRTIC0gTWF0aC5taW4obzIsIG8zKSAqIDYwICogMTAwMCwgTWF0aC5tYXgobzIsIG8zKV07XHJcbn1cclxuXHJcbi8vIGNvbnZlcnQgYW4gZXBvY2ggdGltZXN0YW1wIGludG8gYSBjYWxlbmRhciBvYmplY3Qgd2l0aCB0aGUgZ2l2ZW4gb2Zmc2V0XHJcbmZ1bmN0aW9uIHRzVG9PYmoodHM6IG51bWJlciwgb2Zmc2V0OiBudW1iZXIpOiBHcmVnb3JpYW5EYXRlVGltZSB7XHJcbiAgICB0cyArPSBvZmZzZXQgKiA2MCAqIDEwMDA7XHJcblxyXG4gICAgY29uc3QgZCA9IG5ldyBEYXRlKHRzKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHllYXI6IGQuZ2V0VVRDRnVsbFllYXIoKSxcclxuICAgICAgICBtb250aDogZC5nZXRVVENNb250aCgpICsgMSxcclxuICAgICAgICBkYXk6IGQuZ2V0VVRDRGF0ZSgpLFxyXG4gICAgICAgIGhvdXI6IGQuZ2V0VVRDSG91cnMoKSxcclxuICAgICAgICBtaW51dGU6IGQuZ2V0VVRDTWludXRlcygpLFxyXG4gICAgICAgIHNlY29uZDogZC5nZXRVVENTZWNvbmRzKCksXHJcbiAgICAgICAgbWlsbGlzZWNvbmQ6IGQuZ2V0VVRDTWlsbGlzZWNvbmRzKClcclxuICAgIH07XHJcbn1cclxuXHJcbi8vIGNvbnZlcnQgYSBjYWxlbmRhciBvYmplY3QgdG8gYW4gZXBvY2ggdGltZXN0YW1wXHJcbmZ1bmN0aW9uIG9ialRvVFMob2JqOiBHcmVnb3JpYW5EYXRlVGltZSwgb2Zmc2V0OiBudW1iZXIsIHpvbmU6IFpvbmUpIHtcclxuICAgIHJldHVybiBmaXhPZmZzZXQob2JqVG9Mb2NhbFRTKG9iaiksIG9mZnNldCwgem9uZSk7XHJcbn1cclxuXHJcbi8vIGhlbHBlciB1c2VmdWwgaW4gdHVybmluZyB0aGUgcmVzdWx0cyBvZiBwYXJzaW5nIGludG8gcmVhbCBkYXRlc1xyXG4vLyBieSBoYW5kbGluZyB0aGUgem9uZSBvcHRpb25zXHJcbmZ1bmN0aW9uIHBhcnNlRGF0YVRvRGF0ZVRpbWUocGFyc2VkOiBHZW5lcmljRGF0ZVRpbWUgfCBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZFpvbmU6IFpvbmUgfCBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdHM6IERhdGVUaW1lT3B0aW9ucyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IHN0cmluZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBzdHJpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BlY2lmaWNPZmZzZXQ/OiBudW1iZXIpIHtcclxuICAgIGNvbnN0IHsgc2V0Wm9uZSwgem9uZSB9ID0gb3B0cztcclxuICAgIGlmIChwYXJzZWQgJiYgT2JqZWN0LmtleXMocGFyc2VkKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgY29uc3QgaW50ZXJwcmV0YXRpb25ab25lID0gcGFyc2VkWm9uZSB8fCB6b25lO1xyXG4gICAgICAgIGNvbnN0IGluc3QgPSBEYXRlVGltZS5mcm9tT2JqZWN0KHBhcnNlZCwge1xyXG4gICAgICAgICAgICAuLi5vcHRzLFxyXG4gICAgICAgICAgICB6b25lOiBpbnRlcnByZXRhdGlvblpvbmUsXHJcbiAgICAgICAgICAgIHNwZWNpZmljT2Zmc2V0XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBzZXRab25lID8gaW5zdCA6IGluc3Quc2V0Wm9uZSh6b25lKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBEYXRlVGltZS5pbnZhbGlkKFxyXG4gICAgICAgICAgICBuZXcgSW52YWxpZChcInVucGFyc2FibGVcIiwgYHRoZSBpbnB1dCBcIiR7dGV4dH1cIiBjYW4ndCBiZSBwYXJzZWQgYXMgJHtmb3JtYXR9YClcclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBpZiB5b3Ugd2FudCB0byBvdXRwdXQgYSB0ZWNobmljYWwgZm9ybWF0IChlLmcuIFJGQyAyODIyKSwgdGhpcyBoZWxwZXJcclxuLy8gaGVscHMgaGFuZGxlIHRoZSBkZXRhaWxzXHJcbmZ1bmN0aW9uIHRvVGVjaEZvcm1hdChkdDogRGF0ZVRpbWUsIGZvcm1hdDogc3RyaW5nLCBhbGxvd1ogPSB0cnVlKSB7XHJcbiAgICByZXR1cm4gZHQuaXNWYWxpZFxyXG4gICAgICAgID8gRm9ybWF0dGVyLmNyZWF0ZShMb2NhbGUuY3JlYXRlKFwiZW4tVVNcIiksIHtcclxuICAgICAgICAgICAgYWxsb3daLFxyXG4gICAgICAgICAgICBmb3JjZVNpbXBsZTogdHJ1ZVxyXG4gICAgICAgIH0pLmZvcm1hdERhdGVUaW1lRnJvbVN0cmluZyhkdCwgZm9ybWF0KVxyXG4gICAgICAgIDogbnVsbDtcclxufVxyXG5cclxuLy8gZGVmYXVsdHMgZm9yIHVuc3BlY2lmaWVkIHVuaXRzIGluIHRoZSBzdXBwb3J0ZWQgY2FsZW5kYXJzXHJcbmNvbnN0IGRlZmF1bHRVbml0VmFsdWVzOiBEZWZhdWx0VW5pdFZhbHVlcyA9IHtcclxuICAgICAgICB5ZWFyOiAwLCAvLyB1bnVzZWQgdmFsdWVcclxuICAgICAgICBtb250aDogMSxcclxuICAgICAgICBkYXk6IDEsXHJcbiAgICAgICAgaG91cjogMCxcclxuICAgICAgICBtaW51dGU6IDAsXHJcbiAgICAgICAgc2Vjb25kOiAwLFxyXG4gICAgICAgIG1pbGxpc2Vjb25kOiAwXHJcbiAgICB9LFxyXG4gICAgZGVmYXVsdFdlZWtVbml0VmFsdWVzOiBEZWZhdWx0V2Vla1VuaXRWYWx1ZXMgPSB7XHJcbiAgICAgICAgd2Vla051bWJlcjogMSxcclxuICAgICAgICB3ZWVrZGF5OiAxLFxyXG4gICAgICAgIGhvdXI6IDAsXHJcbiAgICAgICAgbWludXRlOiAwLFxyXG4gICAgICAgIHNlY29uZDogMCxcclxuICAgICAgICBtaWxsaXNlY29uZDogMFxyXG4gICAgfSxcclxuICAgIGRlZmF1bHRPcmRpbmFsVW5pdFZhbHVlczogRGVmYXVsdE9yZGluYWxVbml0VmFsdWVzID0ge1xyXG4gICAgICAgIG9yZGluYWw6IDEsXHJcbiAgICAgICAgaG91cjogMCxcclxuICAgICAgICBtaW51dGU6IDAsXHJcbiAgICAgICAgc2Vjb25kOiAwLFxyXG4gICAgICAgIG1pbGxpc2Vjb25kOiAwXHJcbiAgICB9O1xyXG5cclxuLy8gVW5pdHMgaW4gdGhlIHN1cHBvcnRlZCBjYWxlbmRhcnMsIHNvcnRlZCBieSBiaWduZXNzXHJcbmNvbnN0IG9yZGVyZWRVbml0czogQXJyYXk8a2V5b2YgR3JlZ29yaWFuRGF0ZVRpbWU+ID0gW1xyXG4gICAgICAgIFwieWVhclwiLFxyXG4gICAgICAgIFwibW9udGhcIixcclxuICAgICAgICBcImRheVwiLFxyXG4gICAgICAgIFwiaG91clwiLFxyXG4gICAgICAgIFwibWludXRlXCIsXHJcbiAgICAgICAgXCJzZWNvbmRcIixcclxuICAgICAgICBcIm1pbGxpc2Vjb25kXCJcclxuICAgIF0sXHJcbiAgICBvcmRlcmVkV2Vla1VuaXRzOiBBcnJheTxrZXlvZiBXZWVrRGF0ZVRpbWU+ID0gW1xyXG4gICAgICAgIFwid2Vla1llYXJcIixcclxuICAgICAgICBcIndlZWtOdW1iZXJcIixcclxuICAgICAgICBcIndlZWtkYXlcIixcclxuICAgICAgICBcImhvdXJcIixcclxuICAgICAgICBcIm1pbnV0ZVwiLFxyXG4gICAgICAgIFwic2Vjb25kXCIsXHJcbiAgICAgICAgXCJtaWxsaXNlY29uZFwiXHJcbiAgICBdLFxyXG4gICAgb3JkZXJlZE9yZGluYWxVbml0czogQXJyYXk8a2V5b2YgT3JkaW5hbERhdGVUaW1lPiA9IFtcclxuICAgICAgICBcInllYXJcIixcclxuICAgICAgICBcIm9yZGluYWxcIixcclxuICAgICAgICBcImhvdXJcIixcclxuICAgICAgICBcIm1pbnV0ZVwiLFxyXG4gICAgICAgIFwic2Vjb25kXCIsXHJcbiAgICAgICAgXCJtaWxsaXNlY29uZFwiXHJcbiAgICBdO1xyXG5cclxuLy8gc3RhbmRhcmRpemUgY2FzZSBhbmQgcGx1cmFsaXR5IGluIHVuaXRzXHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVVuaXQodW5pdDogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBwbHVyYWxNYXBwaW5nOiBSZWNvcmQ8c3RyaW5nLCBrZXlvZiBHZW5lcmljRGF0ZVRpbWVFeHRlbmRlZD4gPSB7XHJcbiAgICAgICAgeWVhcjogXCJ5ZWFyXCIsXHJcbiAgICAgICAgeWVhcnM6IFwieWVhclwiLFxyXG4gICAgICAgIHF1YXJ0ZXI6IFwicXVhcnRlclwiLFxyXG4gICAgICAgIHF1YXJ0ZXJzOiBcInF1YXJ0ZXJcIixcclxuICAgICAgICBtb250aDogXCJtb250aFwiLFxyXG4gICAgICAgIG1vbnRoczogXCJtb250aFwiLFxyXG4gICAgICAgIGRheTogXCJkYXlcIixcclxuICAgICAgICBkYXlzOiBcImRheVwiLFxyXG4gICAgICAgIGhvdXI6IFwiaG91clwiLFxyXG4gICAgICAgIGhvdXJzOiBcImhvdXJcIixcclxuICAgICAgICBtaW51dGU6IFwibWludXRlXCIsXHJcbiAgICAgICAgbWludXRlczogXCJtaW51dGVcIixcclxuICAgICAgICBzZWNvbmQ6IFwic2Vjb25kXCIsXHJcbiAgICAgICAgc2Vjb25kczogXCJzZWNvbmRcIixcclxuICAgICAgICBtaWxsaXNlY29uZDogXCJtaWxsaXNlY29uZFwiLFxyXG4gICAgICAgIG1pbGxpc2Vjb25kczogXCJtaWxsaXNlY29uZFwiLFxyXG4gICAgICAgIHdlZWtkYXk6IFwid2Vla2RheVwiLFxyXG4gICAgICAgIHdlZWtkYXlzOiBcIndlZWtkYXlcIixcclxuICAgICAgICB3ZWVrbnVtYmVyOiBcIndlZWtOdW1iZXJcIixcclxuICAgICAgICB3ZWVrc251bWJlcjogXCJ3ZWVrTnVtYmVyXCIsXHJcbiAgICAgICAgd2Vla251bWJlcnM6IFwid2Vla051bWJlclwiLFxyXG4gICAgICAgIHdlZWt5ZWFyOiBcIndlZWtZZWFyXCIsXHJcbiAgICAgICAgd2Vla3llYXJzOiBcIndlZWtZZWFyXCIsXHJcbiAgICAgICAgb3JkaW5hbDogXCJvcmRpbmFsXCJcclxuICAgIH07XHJcbiAgICBjb25zdCBub3JtYWxpemVkID0gcGx1cmFsTWFwcGluZ1t1bml0LnRvTG93ZXJDYXNlKCldO1xyXG5cclxuICAgIGlmICghbm9ybWFsaXplZCkge1xyXG4gICAgICAgIHRocm93IG5ldyBJbnZhbGlkVW5pdEVycm9yKHVuaXQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBub3JtYWxpemVkO1xyXG59XHJcblxyXG50eXBlIERpZmZSZWxhdGl2ZU9wdGlvbnMgPSBUb1JlbGF0aXZlT3B0aW9ucyAmIHtcclxuICAgIG51bWVyaWM6IEludGwuUmVsYXRpdmVUaW1lRm9ybWF0TnVtZXJpYztcclxuICAgIHVuaXRzOiBJbnRsLlJlbGF0aXZlVGltZUZvcm1hdFVuaXRbXTtcclxuICAgIGNhbGVuZGFyeT86IGJvb2xlYW47XHJcbn07XHJcblxyXG5pbnRlcmZhY2UgRGF0ZVRpbWVDb25maWcge1xyXG4gICAgdHM/OiBudW1iZXI7XHJcbiAgICB6b25lPzogWm9uZTtcclxuICAgIGxvYz86IExvY2FsZTtcclxufVxyXG5cclxuaW50ZXJmYWNlIENvbmZpZyBleHRlbmRzIERhdGVUaW1lQ29uZmlnIHtcclxuICAgIGludmFsaWQ/OiBJbnZhbGlkO1xyXG4gICAgbz86IG51bWJlcjtcclxuICAgIG9sZD86IHtcclxuICAgICAgICB0czogbnVtYmVyO1xyXG4gICAgICAgIHpvbmU6IFpvbmU7XHJcbiAgICAgICAgbzogbnVtYmVyO1xyXG4gICAgICAgIGM6IEdyZWdvcmlhbkRhdGVUaW1lO1xyXG4gICAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEEgRGF0ZVRpbWUgaXMgYW4gaW1tdXRhYmxlIGRhdGEgc3RydWN0dXJlIHJlcHJlc2VudGluZyBhIHNwZWNpZmljIGRhdGUgYW5kIHRpbWUgYW5kIGFjY29tcGFueWluZyBtZXRob2RzLiBJdCBjb250YWlucyBjbGFzcyBhbmQgaW5zdGFuY2UgbWV0aG9kcyBmb3IgY3JlYXRpbmcsIHBhcnNpbmcsIGludGVycm9nYXRpbmcsIHRyYW5zZm9ybWluZywgYW5kIGZvcm1hdHRpbmcgdGhlbS5cclxuICpcclxuICogQSBEYXRlVGltZSBjb21wcmlzZXMgb2Y6XHJcbiAqICogQSB0aW1lc3RhbXAuIEVhY2ggRGF0ZVRpbWUgaW5zdGFuY2UgcmVmZXJzIHRvIGEgc3BlY2lmaWMgbWlsbGlzZWNvbmQgb2YgdGhlIFVuaXggZXBvY2guXHJcbiAqICogQSB0aW1lIHpvbmUuIEVhY2ggaW5zdGFuY2UgaXMgY29uc2lkZXJlZCBpbiB0aGUgY29udGV4dCBvZiBhIHNwZWNpZmljIHpvbmUgKGJ5IGRlZmF1bHQgdGhlIHN5c3RlbSdzIHRpbWUgem9uZSkuXHJcbiAqICogQ29uZmlndXJhdGlvbiBwcm9wZXJ0aWVzIHRoYXQgZWZmZWN0IGhvdyBvdXRwdXQgc3RyaW5ncyBhcmUgZm9ybWF0dGVkLCBzdWNoIGFzIGBsb2NhbGVgLCBgbnVtYmVyaW5nU3lzdGVtYCwgYW5kIGBvdXRwdXRDYWxlbmRhcmAuXHJcbiAqXHJcbiAqIEhlcmUgaXMgYSBicmllZiBvdmVydmlldyBvZiB0aGUgbW9zdCBjb21tb25seSB1c2VkIGZ1bmN0aW9uYWxpdHkgaXQgcHJvdmlkZXM6XHJcbiAqXHJcbiAqICogKipDcmVhdGlvbioqOiBUbyBjcmVhdGUgYSBEYXRlVGltZSBmcm9tIGl0cyBjb21wb25lbnRzLCB1c2Ugb25lIG9mIGl0cyBmYWN0b3J5IGNsYXNzIG1ldGhvZHM6IHtAbGluayBEYXRlVGltZSNsb2NhbH0sIHtAbGluayBEYXRlVGltZSN1dGN9LCBhbmQgKG1vc3QgZmxleGlibHkpIHtAbGluayBEYXRlVGltZSNmcm9tT2JqZWN0fS4gVG8gY3JlYXRlIG9uZSBmcm9tIGEgc3RhbmRhcmQgc3RyaW5nIGZvcm1hdCwgdXNlIHtAbGluayBEYXRlVGltZSNmcm9tSVNPfSwge0BsaW5rIERhdGVUaW1lI2Zyb21IVFRQfSwgYW5kIHtAbGluayBEYXRlVGltZSNmcm9tUkZDMjgyMn0uIFRvIGNyZWF0ZSBvbmUgZnJvbSBhIGN1c3RvbSBzdHJpbmcgZm9ybWF0LCB1c2Uge0BsaW5rIERhdGVUaW1lI2Zyb21Gb3JtYXR9LiBUbyBjcmVhdGUgb25lIGZyb20gYSBuYXRpdmUgSlMgZGF0ZSwgdXNlIHtAbGluayBEYXRlVGltZSNmcm9tSlNEYXRlfS5cclxuICogKiAqKkdyZWdvcmlhbiBjYWxlbmRhciBhbmQgdGltZSoqOiBUbyBleGFtaW5lIHRoZSBHcmVnb3JpYW4gcHJvcGVydGllcyBvZiBhIERhdGVUaW1lIGluZGl2aWR1YWxseSAoaS5lIGFzIG9wcG9zZWQgdG8gY29sbGVjdGl2ZWx5IHRocm91Z2gge0BsaW5rIERhdGVUaW1lI3RvT2JqZWN0fSksIHVzZSB0aGUge0BsaW5rIERhdGVUaW1lI3llYXJ9LCB7QGxpbmsgRGF0ZVRpbWUjbW9udGh9LFxyXG4gKiB7QGxpbmsgRGF0ZVRpbWUjZGF5fSwge0BsaW5rIERhdGVUaW1lI2hvdXJ9LCB7QGxpbmsgRGF0ZVRpbWUjbWludXRlfSwge0BsaW5rIERhdGVUaW1lI3NlY29uZH0sIHtAbGluayBEYXRlVGltZSNtaWxsaXNlY29uZH0gYWNjZXNzb3JzLlxyXG4gKiAqICoqV2VlayBjYWxlbmRhcioqOiBGb3IgSVNPIHdlZWsgY2FsZW5kYXIgYXR0cmlidXRlcywgc2VlIHRoZSB7QGxpbmsgRGF0ZVRpbWUjd2Vla1llYXJ9LCB7QGxpbmsgRGF0ZVRpbWUjd2Vla051bWJlcn0sIGFuZCB7QGxpbmsgRGF0ZVRpbWUjd2Vla2RheX0gYWNjZXNzb3JzLlxyXG4gKiAqICoqQ29uZmlndXJhdGlvbioqIFNlZSB0aGUge0BsaW5rIERhdGVUaW1lI2xvY2FsZX0gYW5kIHtAbGluayBEYXRlVGltZSNudW1iZXJpbmdTeXN0ZW19IGFjY2Vzc29ycy5cclxuICogKiAqKlRyYW5zZm9ybWF0aW9uKio6IFRvIHRyYW5zZm9ybSB0aGUgRGF0ZVRpbWUgaW50byBvdGhlciBEYXRlVGltZXMsIHVzZSB7QGxpbmsgRGF0ZVRpbWUjc2V0fSwge0BsaW5rIERhdGVUaW1lI3JlY29uZmlndXJlfSwge0BsaW5rIERhdGVUaW1lI3NldFpvbmV9LCB7QGxpbmsgRGF0ZVRpbWUjc2V0TG9jYWxlfSwge0BsaW5rIERhdGVUaW1lLnBsdXN9LCB7QGxpbmsgRGF0ZVRpbWUjbWludXN9LCB7QGxpbmsgRGF0ZVRpbWUjZW5kT2Z9LCB7QGxpbmsgRGF0ZVRpbWUjc3RhcnRPZn0sIHtAbGluayBEYXRlVGltZSN0b1VUQ30sIGFuZCB7QGxpbmsgRGF0ZVRpbWUjdG9Mb2NhbH0uXHJcbiAqICogKipPdXRwdXQqKjogVG8gY29udmVydCB0aGUgRGF0ZVRpbWUgdG8gb3RoZXIgcmVwcmVzZW50YXRpb25zLCB1c2UgdGhlIHtAbGluayBEYXRlVGltZSN0b1JlbGF0aXZlfSwge0BsaW5rIERhdGVUaW1lI3RvUmVsYXRpdmVDYWxlbmRhcn0sIHtAbGluayBEYXRlVGltZSN0b0pTT059LCB7QGxpbmsgRGF0ZVRpbWUjdG9JU099LCB7QGxpbmsgRGF0ZVRpbWUjdG9IVFRQfSwge0BsaW5rIERhdGVUaW1lI3RvT2JqZWN0fSwge0BsaW5rIERhdGVUaW1lI3RvUkZDMjgyMn0sIHtAbGluayBEYXRlVGltZSN0b1N0cmluZ30sIHtAbGluayBEYXRlVGltZSN0b0xvY2FsZVN0cmluZ30sIHtAbGluayBEYXRlVGltZSN0b0Zvcm1hdH0sIHtAbGluayBEYXRlVGltZSN0b01pbGxpc30gYW5kIHtAbGluayBEYXRlVGltZSN0b0pTRGF0ZX0uXHJcbiAqXHJcbiAqIFRoZXJlJ3MgcGxlbnR5IG90aGVycyBkb2N1bWVudGVkIGJlbG93LiBJbiBhZGRpdGlvbiwgZm9yIG1vcmUgaW5mb3JtYXRpb24gb24gc3VidGxlciB0b3BpY3MgbGlrZSBpbnRlcm5hdGlvbmFsaXphdGlvbiwgdGltZSB6b25lcywgYWx0ZXJuYXRpdmUgY2FsZW5kYXJzLCB2YWxpZGl0eSwgYW5kIHNvIG9uLCBzZWUgdGhlIGV4dGVybmFsIGRvY3VtZW50YXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgRGF0ZVRpbWUge1xyXG5cclxuXHJcbiAgICAvLyBGT1JNQVQgUFJFU0VUU1xyXG5cclxuICAgIC8qKlxyXG4gICAgICoge0BsaW5rIERhdGVUaW1lI3RvTG9jYWxlU3RyaW5nfSBmb3JtYXQgbGlrZSAxMC8xNC8xOTgzXHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgREFURV9TSE9SVCA9IEZvcm1hdHMuREFURV9TSE9SVDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIHtAbGluayBEYXRlVGltZSN0b0xvY2FsZVN0cmluZ30gZm9ybWF0IGxpa2UgJ09jdCAxNCwgMTk4MydcclxuICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyByZWFkb25seSBEQVRFX01FRCA9IEZvcm1hdHMuREFURV9NRUQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB7QGxpbmsgRGF0ZVRpbWUjdG9Mb2NhbGVTdHJpbmd9IGZvcm1hdCBsaWtlICdGcmksIE9jdCAxNCwgMTk4MydcclxuICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyByZWFkb25seSBEQVRFX01FRF9XSVRIX1dFRUtEQVkgPSBGb3JtYXRzLkRBVEVfTUVEX1dJVEhfV0VFS0RBWTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIHtAbGluayBEYXRlVGltZSN0b0xvY2FsZVN0cmluZ30gZm9ybWF0IGxpa2UgJ09jdG9iZXIgMTQsIDE5ODMnXHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgREFURV9GVUxMID0gRm9ybWF0cy5EQVRFX0ZVTEw7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB7QGxpbmsgRGF0ZVRpbWUjdG9Mb2NhbGVTdHJpbmd9IGZvcm1hdCBsaWtlICdUdWVzZGF5LCBPY3RvYmVyIDE0LCAxOTgzJ1xyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IERBVEVfSFVHRSA9IEZvcm1hdHMuREFURV9IVUdFO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICoge0BsaW5rIERhdGVUaW1lI3RvTG9jYWxlU3RyaW5nfSBmb3JtYXQgbGlrZSAnMDk6MzAgQU0nLiBPbmx5IDEyLWhvdXIgaWYgdGhlIGxvY2FsZSBpcy5cclxuICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyByZWFkb25seSBUSU1FX1NJTVBMRSA9IEZvcm1hdHMuVElNRV9TSU1QTEU7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB7QGxpbmsgRGF0ZVRpbWUjdG9Mb2NhbGVTdHJpbmd9IGZvcm1hdCBsaWtlICcwOTozMDoyMyBBTScuIE9ubHkgMTItaG91ciBpZiB0aGUgbG9jYWxlIGlzLlxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IFRJTUVfV0lUSF9TRUNPTkRTID0gRm9ybWF0cy5USU1FX1dJVEhfU0VDT05EUztcclxuXHJcbiAgICAvKipcclxuICAgICAqIHtAbGluayBEYXRlVGltZSN0b0xvY2FsZVN0cmluZ30gZm9ybWF0IGxpa2UgJzA5OjMwOjIzIEFNIEVEVCcuIE9ubHkgMTItaG91ciBpZiB0aGUgbG9jYWxlIGlzLlxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IFRJTUVfV0lUSF9TSE9SVF9PRkZTRVQgPSBGb3JtYXRzLlRJTUVfV0lUSF9TSE9SVF9PRkZTRVQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB7QGxpbmsgRGF0ZVRpbWUjdG9Mb2NhbGVTdHJpbmd9IGZvcm1hdCBsaWtlICcwOTozMDoyMyBBTSBFYXN0ZXJuIERheWxpZ2h0IFRpbWUnLiBPbmx5IDEyLWhvdXIgaWYgdGhlIGxvY2FsZSBpcy5cclxuICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyByZWFkb25seSBUSU1FX1dJVEhfTE9OR19PRkZTRVQgPSBGb3JtYXRzLlRJTUVfV0lUSF9MT05HX09GRlNFVDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIHtAbGluayBEYXRlVGltZSN0b0xvY2FsZVN0cmluZ30gZm9ybWF0IGxpa2UgJzA5OjMwJywgYWx3YXlzIDI0LWhvdXIuXHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgVElNRV8yNF9TSU1QTEUgPSBGb3JtYXRzLlRJTUVfMjRfU0lNUExFO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICoge0BsaW5rIERhdGVUaW1lI3RvTG9jYWxlU3RyaW5nfSBmb3JtYXQgbGlrZSAnMDk6MzA6MjMnLCBhbHdheXMgMjQtaG91ci5cclxuICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyByZWFkb25seSBUSU1FXzI0X1dJVEhfU0VDT05EUyA9IEZvcm1hdHMuVElNRV8yNF9XSVRIX1NFQ09ORFM7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB7QGxpbmsgRGF0ZVRpbWUjdG9Mb2NhbGVTdHJpbmd9IGZvcm1hdCBsaWtlICcwOTozMDoyMyBFRFQnLCBhbHdheXMgMjQtaG91ci5cclxuICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyByZWFkb25seSBUSU1FXzI0X1dJVEhfU0hPUlRfT0ZGU0VUID0gRm9ybWF0cy5USU1FXzI0X1dJVEhfU0hPUlRfT0ZGU0VUO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICoge0BsaW5rIERhdGVUaW1lI3RvTG9jYWxlU3RyaW5nfSBmb3JtYXQgbGlrZSAnMDk6MzA6MjMgRWFzdGVybiBEYXlsaWdodCBUaW1lJywgYWx3YXlzIDI0LWhvdXIuXHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgVElNRV8yNF9XSVRIX0xPTkdfT0ZGU0VUID0gRm9ybWF0cy5USU1FXzI0X1dJVEhfTE9OR19PRkZTRVQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB7QGxpbmsgRGF0ZVRpbWUjdG9Mb2NhbGVTdHJpbmd9IGZvcm1hdCBsaWtlICcxMC8xNC8xOTgzLCA5OjMwIEFNJy4gT25seSAxMi1ob3VyIGlmIHRoZSBsb2NhbGUgaXMuXHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgREFURVRJTUVfU0hPUlQgPSBGb3JtYXRzLkRBVEVUSU1FX1NIT1JUO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICoge0BsaW5rIERhdGVUaW1lI3RvTG9jYWxlU3RyaW5nfSBmb3JtYXQgbGlrZSAnMTAvMTQvMTk4MywgOTozMDozMyBBTScuIE9ubHkgMTItaG91ciBpZiB0aGUgbG9jYWxlIGlzLlxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IERBVEVUSU1FX1NIT1JUX1dJVEhfU0VDT05EUyA9IEZvcm1hdHMuREFURVRJTUVfU0hPUlRfV0lUSF9TRUNPTkRTO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICoge0BsaW5rIERhdGVUaW1lI3RvTG9jYWxlU3RyaW5nfSBmb3JtYXQgbGlrZSAnT2N0IDE0LCAxOTgzLCA5OjMwIEFNJy4gT25seSAxMi1ob3VyIGlmIHRoZSBsb2NhbGUgaXMuXHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgREFURVRJTUVfTUVEID0gRm9ybWF0cy5EQVRFVElNRV9NRUQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB7QGxpbmsgRGF0ZVRpbWUjdG9Mb2NhbGVTdHJpbmd9IGZvcm1hdCBsaWtlICdPY3QgMTQsIDE5ODMsIDk6MzA6MzMgQU0nLiBPbmx5IDEyLWhvdXIgaWYgdGhlIGxvY2FsZSBpcy5cclxuICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyByZWFkb25seSBEQVRFVElNRV9NRURfV0lUSF9TRUNPTkRTID0gRm9ybWF0cy5EQVRFVElNRV9NRURfV0lUSF9TRUNPTkRTO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICoge0BsaW5rIERhdGVUaW1lI3RvTG9jYWxlU3RyaW5nfSBmb3JtYXQgbGlrZSAnRnJpLCAxNCBPY3QgMTk4MywgOTozMCBBTScuIE9ubHkgMTItaG91ciBpZiB0aGUgbG9jYWxlIGlzLlxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IERBVEVUSU1FX01FRF9XSVRIX1dFRUtEQVkgPSBGb3JtYXRzLkRBVEVUSU1FX01FRF9XSVRIX1dFRUtEQVk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB7QGxpbmsgRGF0ZVRpbWUjdG9Mb2NhbGVTdHJpbmd9IGZvcm1hdCBsaWtlICdPY3RvYmVyIDE0LCAxOTgzLCA5OjMwIEFNIEVEVCcuIE9ubHkgMTItaG91ciBpZiB0aGUgbG9jYWxlIGlzLlxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IERBVEVUSU1FX0ZVTEwgPSBGb3JtYXRzLkRBVEVUSU1FX0ZVTEw7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB7QGxpbmsgRGF0ZVRpbWUjdG9Mb2NhbGVTdHJpbmd9IGZvcm1hdCBsaWtlICdPY3RvYmVyIDE0LCAxOTgzLCA5OjMwOjMzIEFNIEVEVCcuIE9ubHkgMTItaG91ciBpZiB0aGUgbG9jYWxlIGlzLlxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IERBVEVUSU1FX0ZVTExfV0lUSF9TRUNPTkRTID0gRm9ybWF0cy5EQVRFVElNRV9GVUxMX1dJVEhfU0VDT05EUztcclxuXHJcbiAgICAvKipcclxuICAgICAqIHtAbGluayBEYXRlVGltZSN0b0xvY2FsZVN0cmluZ30gZm9ybWF0IGxpa2UgJ0ZyaWRheSwgT2N0b2JlciAxNCwgMTk4MywgOTozMCBBTSBFYXN0ZXJuIERheWxpZ2h0IFRpbWUnLiBPbmx5IDEyLWhvdXIgaWYgdGhlIGxvY2FsZSBpcy5cclxuICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyByZWFkb25seSBEQVRFVElNRV9IVUdFID0gRm9ybWF0cy5EQVRFVElNRV9IVUdFO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICoge0BsaW5rIERhdGVUaW1lI3RvTG9jYWxlU3RyaW5nfSBmb3JtYXQgbGlrZSAnRnJpZGF5LCBPY3RvYmVyIDE0LCAxOTgzLCA5OjMwOjMzIEFNIEVhc3Rlcm4gRGF5bGlnaHQgVGltZScuIE9ubHkgMTItaG91ciBpZiB0aGUgbG9jYWxlIGlzLlxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IERBVEVUSU1FX0hVR0VfV0lUSF9TRUNPTkRTID0gRm9ybWF0cy5EQVRFVElNRV9IVUdFX1dJVEhfU0VDT05EUztcclxuXHJcblxyXG4gICAgLy8gUHJpdmF0ZSByZWFkb25seSBmaWVsZHNcclxuICAgIHByaXZhdGUgX2M6IFJlYWRvbmx5PEdyZWdvcmlhbkRhdGVUaW1lPjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2lzTHV4b25EYXRlVGltZTogdHJ1ZTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2ludmFsaWQ6IEludmFsaWQgfCBudWxsO1xyXG4gICAgcHJpdmF0ZSBfbG9jOiBMb2NhbGU7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9vOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF90czogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBfd2Vla0RhdGE6IFdlZWtEYXRlVGltZSB8IG51bGw7XHJcbiAgICBwcml2YXRlIF96b25lOiBSZWFkb25seTxab25lPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBhY2Nlc3MgcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKGNvbmZpZzogQ29uZmlnKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IHpvbmU6IFpvbmUgPSBjb25maWcuem9uZSB8fCBTZXR0aW5ncy5kZWZhdWx0Wm9uZTtcclxuXHJcbiAgICAgICAgbGV0IGludmFsaWQgPVxyXG4gICAgICAgICAgICBjb25maWcuaW52YWxpZCB8fFxyXG4gICAgICAgICAgICAvLyBpbnZhbGlkIHRpbWVzdGFtcCBjYW4gaGFwcGVuIHdoZW4gdXNpbmcgcGx1cyBvciBtaW51cyB3aXRoIDFFOCBkYXlzIHJlc3VsdGluZyBpbiBvdmVyZmxvd3NcclxuICAgICAgICAgICAgKE51bWJlci5pc05hTihjb25maWcudHMpID8gbmV3IEludmFsaWQoXCJpbnZhbGlkIHRpbWVzdGFtcFwiKSA6IG51bGwpIHx8XHJcbiAgICAgICAgICAgICghem9uZS5pc1ZhbGlkID8gRGF0ZVRpbWUuX3Vuc3VwcG9ydGVkWm9uZSh6b25lKSA6IG51bGwpO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAYWNjZXNzIHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl90cyA9IGlzVW5kZWZpbmVkKGNvbmZpZy50cykgPyBTZXR0aW5ncy5ub3coKSA6IGNvbmZpZy50cztcclxuXHJcbiAgICAgICAgbGV0IG8sIGM7XHJcbiAgICAgICAgaWYgKCFpbnZhbGlkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVuY2hhbmdlZCA9ICEhY29uZmlnLm9sZCAmJiBjb25maWcub2xkLnRzID09PSB0aGlzLl90cyAmJiBjb25maWcub2xkLnpvbmUuZXF1YWxzKHpvbmUpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHVuY2hhbmdlZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgW2MsIG9dID0gW2NvbmZpZy5vbGQuYywgY29uZmlnLm9sZC5vXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG90ID0gem9uZS5vZmZzZXQodGhpcy5fdHMpO1xyXG4gICAgICAgICAgICAgICAgYyA9IHRzVG9PYmoodGhpcy5fdHMsIG90KTtcclxuICAgICAgICAgICAgICAgIGludmFsaWQgPSBOdW1iZXIuaXNOYU4oYy55ZWFyKSA/IG5ldyBJbnZhbGlkKFwiaW52YWxpZCBpbnB1dFwiKSA6IG51bGw7XHJcbiAgICAgICAgICAgICAgICBjID0gaW52YWxpZCA/IHZvaWQgMCA6IGM7XHJcbiAgICAgICAgICAgICAgICBvID0gaW52YWxpZCA/IHZvaWQgMCA6IG90O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAYWNjZXNzIHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl96b25lID0gem9uZTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAYWNjZXNzIHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9sb2MgPSBjb25maWcubG9jIHx8IExvY2FsZS5jcmVhdGUoKTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAYWNjZXNzIHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9pbnZhbGlkID0gaW52YWxpZDtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAYWNjZXNzIHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl93ZWVrRGF0YSA9IG51bGw7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGFjY2VzcyBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fYyA9IGMgYXMgR3JlZ29yaWFuRGF0ZVRpbWU7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGFjY2VzcyBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fbyA9IG8gYXMgbnVtYmVyO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBhY2Nlc3MgcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2lzTHV4b25EYXRlVGltZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGFuIGV4cGxhbmF0aW9uIG9mIHdoeSB0aGlzIER1cmF0aW9uIGJlY2FtZSBpbnZhbGlkLCBvciBudWxsIGlmIHRoZSBEdXJhdGlvbiBpcyB2YWxpZFxyXG4gICAgICogQHR5cGUge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgZ2V0IGludmFsaWRFeHBsYW5hdGlvbigpOiBzdHJpbmcgfCB2b2lkIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW52YWxpZCA/IHRoaXMuX2ludmFsaWQuZXhwbGFuYXRpb24gOiB2b2lkIDA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGFuIGVycm9yIGNvZGUgaWYgdGhpcyBEdXJhdGlvbiBiZWNhbWUgaW52YWxpZCwgb3IgbnVsbCBpZiB0aGUgRHVyYXRpb24gaXMgdmFsaWRcclxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgZ2V0IGludmFsaWRSZWFzb24oKTogc3RyaW5nIHwgdm9pZCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludmFsaWQgPyB0aGlzLl9pbnZhbGlkLnJlYXNvbiA6IHZvaWQgMDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgRGF0ZVRpbWUgaXMgdmFsaWQuIEludmFsaWQgRGF0ZVRpbWVzIG9jY3VyIHdoZW46XHJcbiAgICAgKiAqIFRoZSBEYXRlVGltZSB3YXMgY3JlYXRlZCBmcm9tIGludmFsaWQgY2FsZW5kYXIgaW5mb3JtYXRpb24sIHN1Y2ggYXMgdGhlIDEzdGggbW9udGggb3IgRmVicnVhcnkgMzBcclxuICAgICAqICogVGhlIERhdGVUaW1lIHdhcyBjcmVhdGVkIGJ5IGFuIG9wZXJhdGlvbiBvbiBhbm90aGVyIGludmFsaWQgZGF0ZVxyXG4gICAgICogQHR5cGUge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIGdldCBpc1ZhbGlkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZhbGlkID09PSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBsb2NhbGUgb2YgYSBEYXRlVGltZSwgc3VjaCAnZW4tR0InLiBUaGUgbG9jYWxlIGlzIHVzZWQgd2hlbiBmb3JtYXR0aW5nIHRoZSBEYXRlVGltZVxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGdldCBsb2NhbGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMuX2xvYy5sb2NhbGUgOiB2b2lkIDA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIG51bWJlcmluZyBzeXN0ZW0gb2YgYSBEYXRlVGltZSwgc3VjaCAnYmVuZycuIFRoZSBudW1iZXJpbmcgc3lzdGVtIGlzIHVzZWQgd2hlbiBmb3JtYXR0aW5nIHRoZSBEYXRlVGltZVxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGdldCBudW1iZXJpbmdTeXN0ZW0oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMuX2xvYy5udW1iZXJpbmdTeXN0ZW0gOiB2b2lkIDA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIG91dHB1dCBjYWxlbmRhciBvZiBhIERhdGVUaW1lLCBzdWNoICdpc2xhbWljJy4gVGhlIG91dHB1dCBjYWxlbmRhciBpcyB1c2VkIHdoZW4gZm9ybWF0dGluZyB0aGUgRGF0ZVRpbWVcclxuICAgICAqXHJcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBnZXQgb3V0cHV0Q2FsZW5kYXIoKTogQ2FsZW5kYXJTeXN0ZW0gfCB1bmRlZmluZWQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWRcclxuICAgICAgICAgICAgPyB0aGlzLl9sb2Mub3V0cHV0Q2FsZW5kYXJcclxuICAgICAgICAgICAgOiB2b2lkIDA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIHRpbWUgem9uZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBEYXRlVGltZS5cclxuICAgICAqIEB0eXBlIHtab25lfVxyXG4gICAgICovXHJcbiAgICBnZXQgem9uZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fem9uZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgbmFtZSBvZiB0aGUgdGltZSB6b25lLlxyXG4gICAgICogQHR5cGUge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgZ2V0IHpvbmVOYW1lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyB0aGlzLnpvbmUubmFtZSA6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIHllYXJcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTcsIDUsIDI1KS55ZWFyIC8vPT4gMjAxN1xyXG4gICAgICogQHR5cGUge251bWJlcn1cclxuICAgICAqL1xyXG4gICAgZ2V0IHllYXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMuX2MueWVhciA6IE5hTjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgcXVhcnRlclxyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNywgNSwgMjUpLnF1YXJ0ZXIgLy89PiAyXHJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBnZXQgcXVhcnRlcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gTWF0aC5jZWlsKHRoaXMuX2MubW9udGggLyAzKSA6IE5hTjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgbW9udGggKDEtMTIpLlxyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNywgNSwgMjUpLm1vbnRoIC8vPT4gNVxyXG4gICAgICogQHR5cGUge251bWJlcn1cclxuICAgICAqL1xyXG4gICAgZ2V0IG1vbnRoKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyB0aGlzLl9jLm1vbnRoIDogTmFOO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBkYXkgb2YgdGhlIG1vbnRoICgxLTMwaXNoKS5cclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTcsIDUsIDI1KS5kYXkgLy89PiAyNVxyXG4gICAgICogQHR5cGUge251bWJlcn1cclxuICAgICAqL1xyXG4gICAgZ2V0IGRheSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy5fYy5kYXkgOiBOYU47XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGhvdXIgb2YgdGhlIGRheSAoMC0yMykuXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE3LCA1LCAyNSwgOSkuaG91ciAvLz0+IDlcclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIGdldCBob3VyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyB0aGlzLl9jLmhvdXIgOiBOYU47XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIG1pbnV0ZSBvZiB0aGUgaG91ciAoMC01OSkuXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE3LCA1LCAyNSwgOSwgMzApLm1pbnV0ZSAvLz0+IDMwXHJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBnZXQgbWludXRlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyB0aGlzLl9jLm1pbnV0ZSA6IE5hTjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgc2Vjb25kIG9mIHRoZSBtaW51dGUgKDAtNTkpLlxyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNywgNSwgMjUsIDksIDMwLCA1Mikuc2Vjb25kIC8vPT4gNTJcclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIGdldCBzZWNvbmQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMuX2Muc2Vjb25kIDogTmFOO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBtaWxsaXNlY29uZCBvZiB0aGUgc2Vjb25kICgwLTk5OSkuXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE3LCA1LCAyNSwgOSwgMzAsIDUyLCA2NTQpLm1pbGxpc2Vjb25kIC8vPT4gNjU0XHJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBnZXQgbWlsbGlzZWNvbmQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMuX2MubWlsbGlzZWNvbmQgOiBOYU47XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIHdlZWsgeWVhclxyXG4gICAgICogQHNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fd2Vla19kYXRlXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE0LCAxMiwgMzEpLndlZWtZZWFyIC8vPT4gMjAxNVxyXG4gICAgICogQHR5cGUge251bWJlcn1cclxuICAgICAqL1xyXG4gICAgZ2V0IHdlZWtZZWFyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyB0aGlzLl9wb3NzaWJseUNhY2hlZFdlZWtEYXRhKHRoaXMpLndlZWtZZWFyIDogTmFOO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSB3ZWVrIG51bWJlciBvZiB0aGUgd2VlayB5ZWFyICgxLTUyaXNoKS5cclxuICAgICAqIEBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPX3dlZWtfZGF0ZVxyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNywgNSwgMjUpLndlZWtOdW1iZXIgLy89PiAyMVxyXG4gICAgICogQHR5cGUge251bWJlcn1cclxuICAgICAqL1xyXG4gICAgZ2V0IHdlZWtOdW1iZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMuX3Bvc3NpYmx5Q2FjaGVkV2Vla0RhdGEodGhpcykud2Vla051bWJlciA6IE5hTjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgZGF5IG9mIHRoZSB3ZWVrLlxyXG4gICAgICogMSBpcyBNb25kYXkgYW5kIDcgaXMgU3VuZGF5XHJcbiAgICAgKiBAc2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT193ZWVrX2RhdGVcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTQsIDExLCAzMSkud2Vla2RheSAvLz0+IDRcclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIGdldCB3ZWVrZGF5KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMuX3Bvc3NpYmx5Q2FjaGVkV2Vla0RhdGEodGhpcykud2Vla2RheSA6IE5hTjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgb3JkaW5hbCAobWVhbmluZyB0aGUgZGF5IG9mIHRoZSB5ZWFyKVxyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNywgNSwgMjUpLm9yZGluYWwgLy89PiAxNDVcclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIGdldCBvcmRpbmFsKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IGdyZWdvcmlhblRvT3JkaW5hbCh0aGlzLl9jKS5vcmRpbmFsIDogTmFOO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBodW1hbiByZWFkYWJsZSBzaG9ydCBtb250aCBuYW1lLCBzdWNoIGFzICdPY3QnLlxyXG4gICAgICogRGVmYXVsdHMgdG8gdGhlIHN5c3RlbSdzIGxvY2FsZSBpZiBubyBsb2NhbGUgaGFzIGJlZW4gc3BlY2lmaWVkXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE3LCAxMCwgMzApLm1vbnRoU2hvcnQgLy89PiBPY3RcclxuICAgICAqIEB0eXBlIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGdldCBtb250aFNob3J0KCk6IHN0cmluZyB8IG51bGwge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyBJbmZvLm1vbnRocyhcInNob3J0XCIsIHsgbG9jT2JqOiB0aGlzLl9sb2MgfSlbdGhpcy5tb250aCAtIDFdIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgaHVtYW4gcmVhZGFibGUgbG9uZyBtb250aCBuYW1lLCBzdWNoIGFzICdPY3RvYmVyJy5cclxuICAgICAqIERlZmF1bHRzIHRvIHRoZSBzeXN0ZW0ncyBsb2NhbGUgaWYgbm8gbG9jYWxlIGhhcyBiZWVuIHNwZWNpZmllZFxyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNywgMTAsIDMwKS5tb250aExvbmcgLy89PiBPY3RvYmVyXHJcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBnZXQgbW9udGhMb25nKCk6IHN0cmluZyB8IG51bGwge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyBJbmZvLm1vbnRocyhcImxvbmdcIiwgeyBsb2NPYmo6IHRoaXMuX2xvYyB9KVt0aGlzLm1vbnRoIC0gMV0gOiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBodW1hbiByZWFkYWJsZSBzaG9ydCB3ZWVrZGF5LCBzdWNoIGFzICdNb24nLlxyXG4gICAgICogRGVmYXVsdHMgdG8gdGhlIHN5c3RlbSdzIGxvY2FsZSBpZiBubyBsb2NhbGUgaGFzIGJlZW4gc3BlY2lmaWVkXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE3LCAxMCwgMzApLndlZWtkYXlTaG9ydCAvLz0+IE1vblxyXG4gICAgICogQHR5cGUge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgZ2V0IHdlZWtkYXlTaG9ydCgpOiBzdHJpbmcgfCBudWxsIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gSW5mby53ZWVrZGF5cyhcInNob3J0XCIsIHsgbG9jT2JqOiB0aGlzLl9sb2MgfSlbdGhpcy53ZWVrZGF5IC0gMV0gOiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBodW1hbiByZWFkYWJsZSBsb25nIHdlZWtkYXksIHN1Y2ggYXMgJ01vbmRheScuXHJcbiAgICAgKiBEZWZhdWx0cyB0byB0aGUgc3lzdGVtJ3MgbG9jYWxlIGlmIG5vIGxvY2FsZSBoYXMgYmVlbiBzcGVjaWZpZWRcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTcsIDEwLCAzMCkud2Vla2RheUxvbmcgLy89PiBNb25kYXlcclxuICAgICAqIEB0eXBlIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGdldCB3ZWVrZGF5TG9uZygpOiBzdHJpbmcgfCBudWxsIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gSW5mby53ZWVrZGF5cyhcImxvbmdcIiwgeyBsb2NPYmo6IHRoaXMuX2xvYyB9KVt0aGlzLndlZWtkYXkgLSAxXSA6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIFVUQyBvZmZzZXQgb2YgdGhpcyBEYXRlVGltZSBpbiBtaW51dGVzXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS5vZmZzZXQgLy89PiAtMjQwXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS51dGMoKS5vZmZzZXQgLy89PiAwXHJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBnZXQgb2Zmc2V0KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/ICt0aGlzLl9vIDogTmFOO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBzaG9ydCBodW1hbiBuYW1lIGZvciB0aGUgem9uZSdzIGN1cnJlbnQgb2Zmc2V0LCBmb3IgZXhhbXBsZSBcIkVTVFwiIG9yIFwiRURUXCIuXHJcbiAgICAgKiBEZWZhdWx0cyB0byB0aGUgc3lzdGVtJ3MgbG9jYWxlIGlmIG5vIGxvY2FsZSBoYXMgYmVlbiBzcGVjaWZpZWRcclxuICAgICAqIEB0eXBlIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGdldCBvZmZzZXROYW1lU2hvcnQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnpvbmUub2Zmc2V0TmFtZSh0aGlzLl90cywge1xyXG4gICAgICAgICAgICBmb3JtYXQ6IFwic2hvcnRcIixcclxuICAgICAgICAgICAgbG9jYWxlOiB0aGlzLmxvY2FsZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBsb25nIGh1bWFuIG5hbWUgZm9yIHRoZSB6b25lJ3MgY3VycmVudCBvZmZzZXQsIGZvciBleGFtcGxlIFwiRWFzdGVybiBTdGFuZGFyZCBUaW1lXCIgb3IgXCJFYXN0ZXJuIERheWxpZ2h0IFRpbWVcIi5cclxuICAgICAqIERlZmF1bHRzIHRvIHRoZSBzeXN0ZW0ncyBsb2NhbGUgaWYgbm8gbG9jYWxlIGhhcyBiZWVuIHNwZWNpZmllZFxyXG4gICAgICogQHR5cGUge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgZ2V0IG9mZnNldE5hbWVMb25nKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuem9uZS5vZmZzZXROYW1lKHRoaXMuX3RzLCB7XHJcbiAgICAgICAgICAgIGZvcm1hdDogXCJsb25nXCIsXHJcbiAgICAgICAgICAgIGxvY2FsZTogdGhpcy5sb2NhbGVcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB3aGV0aGVyIHRoaXMgem9uZSdzIG9mZnNldCBldmVyIGNoYW5nZXMsIGFzIGluIGEgRFNULlxyXG4gICAgICogQHR5cGUge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIGdldCBpc09mZnNldEZpeGVkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyB0aGlzLnpvbmUuaXNVbml2ZXJzYWwgOiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHdoZXRoZXIgdGhlIERhdGVUaW1lIGlzIGluIGEgRFNULlxyXG4gICAgICogQHR5cGUge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIGdldCBpc0luRFNUKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzT2Zmc2V0Rml4ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIHRoaXMub2Zmc2V0ID4gdGhpcy5zZXQoeyBtb250aDogMSwgZGF5OiAxIH0pLm9mZnNldCB8fCB0aGlzLm9mZnNldCA+IHRoaXMuc2V0KHsgbW9udGg6IDUgfSkub2Zmc2V0XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgRGF0ZVRpbWUgaXMgaW4gYSBsZWFwIHllYXIsIGZhbHNlIG90aGVyd2lzZVxyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNikuaXNJbkxlYXBZZWFyIC8vPT4gdHJ1ZVxyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxMykuaXNJbkxlYXBZZWFyIC8vPT4gZmFsc2VcclxuICAgICAqIEB0eXBlIHtib29sZWFufVxyXG4gICAgICovXHJcbiAgICBnZXQgaXNJbkxlYXBZZWFyKCkge1xyXG4gICAgICAgIHJldHVybiBpc0xlYXBZZWFyKHRoaXMueWVhcik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgZGF5cyBpbiB0aGlzIERhdGVUaW1lJ3MgbW9udGhcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTYsIDIpLmRheXNJbk1vbnRoIC8vPT4gMjlcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTYsIDMpLmRheXNJbk1vbnRoIC8vPT4gMzFcclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIGdldCBkYXlzSW5Nb250aCgpIHtcclxuICAgICAgICByZXR1cm4gZGF5c0luTW9udGgodGhpcy55ZWFyLCB0aGlzLm1vbnRoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIG51bWJlciBvZiBkYXlzIGluIHRoaXMgRGF0ZVRpbWUncyB5ZWFyXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE2KS5kYXlzSW5ZZWFyIC8vPT4gMzY2XHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDEzKS5kYXlzSW5ZZWFyIC8vPT4gMzY1XHJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBnZXQgZGF5c0luWWVhcigpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPyBkYXlzSW5ZZWFyKHRoaXMueWVhcikgOiBOYU47XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2Ygd2Vla3MgaW4gdGhpcyBEYXRlVGltZSdzIHllYXJcclxuICAgICAqIEBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPX3dlZWtfZGF0ZVxyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAwNCkud2Vla3NJbldlZWtZZWFyIC8vPT4gNTNcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTMpLndlZWtzSW5XZWVrWWVhciAvLz0+IDUyXHJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBnZXQgd2Vla3NJbldlZWtZZWFyKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHdlZWtzSW5XZWVrWWVhcih0aGlzLndlZWtZZWFyKSA6IE5hTjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgdGltZXN0YW1wLlxyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMTk3MCwgMSwgMSwgMCwgMCwgMCwgNjU0KS50cyAvLz0+IDY1NFxyXG4gICAgICogQHR5cGUge251bWJlcn1cclxuICAgICAqL1xyXG4gICAgZ2V0IHRzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90cztcclxuICAgIH1cclxuXHJcbiAgICAvLyBDT05TVFJVQ1RcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIERhdGVUaW1lIGZvciB0aGUgY3VycmVudCBpbnN0YW50LCBpbiB0aGUgc3lzdGVtJ3MgdGltZSB6b25lLlxyXG4gICAgICpcclxuICAgICAqIFVzZSBTZXR0aW5ncyB0byBvdmVycmlkZSB0aGVzZSBkZWZhdWx0IHZhbHVlcyBpZiBuZWVkZWQuXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS50b0lTTygpIC8vfj4gbm93IGluIHRoZSBJU08gZm9ybWF0XHJcbiAgICAgKiBAcmV0dXJuIHtEYXRlVGltZX1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIG5vdygpIHtcclxuICAgICAgICByZXR1cm4gbmV3IERhdGVUaW1lKHt9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIGxvY2FsIERhdGVUaW1lXHJcbiAgICAgKiBAcGFyYW0gYXJncyAtIFRoZSBkYXRlIHZhbHVlcyAoeWVhciwgbW9udGgsIGV0Yy4pIGFuZC9vciB0aGUgY29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgRGF0ZVRpbWVcclxuICAgICAqIEBleGFtcGxlIHtudW1iZXJ9IFt5ZWFyXSAtIFRoZSBjYWxlbmRhciB5ZWFyLiBJZiBvbWl0dGVkIChhcyBpbiwgY2FsbCBgbG9jYWwoKWAgd2l0aCBubyBhcmd1bWVudHMpLCB0aGUgY3VycmVudCB0aW1lIHdpbGwgYmUgdXNlZFxyXG4gICAgICogQGV4YW1wbGUge251bWJlcn0gW21vbnRoPTFdIC0gVGhlIG1vbnRoLCAxLWluZGV4ZWRcclxuICAgICAqIEBleGFtcGxlIHtudW1iZXJ9IFtkYXk9MV0gLSBUaGUgZGF5IG9mIHRoZSBtb250aCwgMS1pbmRleGVkXHJcbiAgICAgKiBAZXhhbXBsZSB7bnVtYmVyfSBbaG91cj0wXSAtIFRoZSBob3VyIG9mIHRoZSBkYXksIGluIDI0LWhvdXIgdGltZVxyXG4gICAgICogQGV4YW1wbGUge251bWJlcn0gW21pbnV0ZT0wXSAtIFRoZSBtaW51dGUgb2YgdGhlIGhvdXIsIG1lYW5pbmcgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCA1OVxyXG4gICAgICogQGV4YW1wbGUge251bWJlcn0gW3NlY29uZD0wXSAtIFRoZSBzZWNvbmQgb2YgdGhlIG1pbnV0ZSwgbWVhbmluZyBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDU5XHJcbiAgICAgKiBAZXhhbXBsZSB7bnVtYmVyfSBbbWlsbGlzZWNvbmQ9MF0gLSBUaGUgbWlsbGlzZWNvbmQgb2YgdGhlIHNlY29uZCwgbWVhbmluZyBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDk5OVxyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9+PiBub3dcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKHsgem9uZTogXCJBbWVyaWNhL05ld19Zb3JrXCIgfSkgICAgLy9+PiBub3csIGluIFVTIGVhc3QgY29hc3QgdGltZVxyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNykgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9+PiAyMDE3LTAxLTAxVDAwOjAwOjAwXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE3LCAzKSAgICAgICAgICAgICAgICAgICAgICAgICAvL34+IDIwMTctMDMtMDFUMDA6MDA6MDBcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTcsIDMsIDEyLCB7IGxvY2FsZTogXCJmclwiIH0pICAgICAvL34+IDIwMTctMDMtMTJUMDA6MDA6MDAsIHdpdGggYSBGcmVuY2ggbG9jYWxlXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE3LCAzLCAxMiwgNSkgICAgICAgICAgICAgICAgICAvL34+IDIwMTctMDMtMTJUMDU6MDA6MDBcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTcsIDMsIDEyLCA1LCB7IHpvbmU6IFwidXRjXCIgfSkgLy9+PiAyMDE3LTAzLTEyVDA1OjAwOjAwLCBpbiBVVENcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTcsIDMsIDEyLCA1LCA0NSwgMTApICAgICAgICAgIC8vfj4gMjAxNy0wMy0xMlQwNTo0NToxMFxyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNywgMywgMTIsIDUsIDQ1LCAxMCwgNzY1KSAgICAgLy9+PiAyMDE3LTAzLTEyVDA1OjQ1OjEwLjc2NVxyXG4gICAgICogQHJldHVybiB7RGF0ZVRpbWV9XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBsb2NhbCguLi5hcmdzOiBbRGF0ZVRpbWVPcHRpb25zXSB8IG51bWJlcltdIHwgKG51bWJlciB8IERhdGVUaW1lT3B0aW9ucylbXSk6IERhdGVUaW1lIHtcclxuXHJcbiAgICAgICAgY29uc3QgW29wdHMsIGRhdGVWYWx1ZXNdID0gdGhpcy5fbGFzdE9wdHMoYXJncyk7XHJcbiAgICAgICAgY29uc3QgW3llYXIsIG1vbnRoLCBkYXksIGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBtaWxsaXNlY29uZF0gPSBkYXRlVmFsdWVzO1xyXG5cclxuICAgICAgICByZXR1cm4gRGF0ZVRpbWUuX3F1aWNrRFQoXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHllYXIsXHJcbiAgICAgICAgICAgICAgICBtb250aCxcclxuICAgICAgICAgICAgICAgIGRheSxcclxuICAgICAgICAgICAgICAgIGhvdXIsXHJcbiAgICAgICAgICAgICAgICBtaW51dGUsXHJcbiAgICAgICAgICAgICAgICBzZWNvbmQsXHJcbiAgICAgICAgICAgICAgICBtaWxsaXNlY29uZFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvcHRzXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIERhdGVUaW1lIGluIFVUQ1xyXG4gICAgICogQHBhcmFtIGFyZ3MgLSBUaGUgZGF0ZSB2YWx1ZXMgKHllYXIsIG1vbnRoLCBldGMuKSBhbmQvb3IgdGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIERhdGVUaW1lXHJcbiAgICAgKiBAZXhhbXBsZSB7bnVtYmVyfSBbeWVhcl0gLSBUaGUgY2FsZW5kYXIgeWVhci4gSWYgb21pdHRlZCAoYXMgaW4sIGNhbGwgYHV0YygpYCB3aXRoIG5vIGFyZ3VtZW50cyksIHRoZSBjdXJyZW50IHRpbWUgd2lsbCBiZSB1c2VkXHJcbiAgICAgKiBAZXhhbXBsZSB7bnVtYmVyfSBbbW9udGg9MV0gLSBUaGUgbW9udGgsIDEtaW5kZXhlZFxyXG4gICAgICogQGV4YW1wbGUge251bWJlcn0gW2RheT0xXSAtIFRoZSBkYXkgb2YgdGhlIG1vbnRoXHJcbiAgICAgKiBAZXhhbXBsZSB7bnVtYmVyfSBbaG91cj0wXSAtIFRoZSBob3VyIG9mIHRoZSBkYXksIGluIDI0LWhvdXIgdGltZVxyXG4gICAgICogQGV4YW1wbGUge251bWJlcn0gW21pbnV0ZT0wXSAtIFRoZSBtaW51dGUgb2YgdGhlIGhvdXIsIG1lYW5pbmcgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCA1OVxyXG4gICAgICogQGV4YW1wbGUge251bWJlcn0gW3NlY29uZD0wXSAtIFRoZSBzZWNvbmQgb2YgdGhlIG1pbnV0ZSwgbWVhbmluZyBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDU5XHJcbiAgICAgKiBAZXhhbXBsZSB7bnVtYmVyfSBbbWlsbGlzZWNvbmQ9MF0gLSBUaGUgbWlsbGlzZWNvbmQgb2YgdGhlIHNlY29uZCwgbWVhbmluZyBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDk5OVxyXG4gICAgICogQGV4YW1wbGUge09iamVjdH0gb3B0aW9ucyAtIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIERhdGVUaW1lXHJcbiAgICAgKiBAZXhhbXBsZSB7c3RyaW5nfSBbb3B0aW9ucy5sb2NhbGVdIC0gYSBsb2NhbGUgdG8gc2V0IG9uIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaW5zdGFuY2VcclxuICAgICAqIEBleGFtcGxlIHtzdHJpbmd9IFtvcHRpb25zLm91dHB1dENhbGVuZGFyXSAtIHRoZSBvdXRwdXQgY2FsZW5kYXIgdG8gc2V0IG9uIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaW5zdGFuY2VcclxuICAgICAqIEBleGFtcGxlIHtzdHJpbmd9IFtvcHRpb25zLm51bWJlcmluZ1N5c3RlbV0gLSB0aGUgbnVtYmVyaW5nIHN5c3RlbSB0byBzZXQgb24gdGhlIHJlc3VsdGluZyBEYXRlVGltZSBpbnN0YW5jZVxyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUudXRjKCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9+PiBub3dcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygyMDE3KSAgICAgICAgICAgICAgICAgICAgICAgIC8vfj4gMjAxNy0wMS0wMVQwMDowMDowMFpcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygyMDE3LCAzKSAgICAgICAgICAgICAgICAgICAgIC8vfj4gMjAxNy0wMy0wMVQwMDowMDowMFpcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygyMDE3LCAzLCAxMikgICAgICAgICAgICAgICAgIC8vfj4gMjAxNy0wMy0xMlQwMDowMDowMFpcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygyMDE3LCAzLCAxMiwgNSkgICAgICAgICAgICAgIC8vfj4gMjAxNy0wMy0xMlQwNTowMDowMFpcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygyMDE3LCAzLCAxMiwgNSwgNDUpICAgICAgICAgIC8vfj4gMjAxNy0wMy0xMlQwNTo0NTowMFpcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygyMDE3LCAzLCAxMiwgNSwgNDUsIHsgbG9jYWxlOiBcImZyXCIgfSApICAgICAgIC8vfj4gMjAxNy0wMy0xMlQwNTo0NTowMFogd2l0aCBhIEZyZW5jaCBsb2NhbGVcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygyMDE3LCAzLCAxMiwgNSwgNDUsIDEwKSAgICAgIC8vfj4gMjAxNy0wMy0xMlQwNTo0NToxMFpcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygyMDE3LCAzLCAxMiwgNSwgNDUsIDEwLCA3NjUsIHsgbG9jYWxlOiBcImZyIH0pIC8vfj4gMjAxNy0wMy0xMlQwNTo0NToxMC43NjVaXHJcbiAgICAgKiBAcmV0dXJuIHtEYXRlVGltZX1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHV0YyguLi5hcmdzOiBbRGF0ZVRpbWVPcHRpb25zXSB8IG51bWJlcltdIHwgKG51bWJlciB8IERhdGVUaW1lT3B0aW9ucylbXSk6IERhdGVUaW1lIHtcclxuICAgICAgICBjb25zdCBbb3B0cywgZGF0ZVZhbHVlc10gPSB0aGlzLl9sYXN0T3B0cyhhcmdzKTtcclxuICAgICAgICBjb25zdCBbeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlLCBzZWNvbmQsIG1pbGxpc2Vjb25kXSA9IGRhdGVWYWx1ZXM7XHJcblxyXG4gICAgICAgIG9wdHMuem9uZSA9IEZpeGVkT2Zmc2V0Wm9uZS51dGNJbnN0YW5jZTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcXVpY2tEVCh7IHllYXIsIG1vbnRoLCBkYXksIGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBtaWxsaXNlY29uZCB9LCBvcHRzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIERhdGVUaW1lIGZyb20gYSBKYXZhc2NyaXB0IERhdGUgb2JqZWN0LiBVc2VzIHRoZSBkZWZhdWx0IHpvbmUuXHJcbiAgICAgKiBAcGFyYW0ge0RhdGV9IGRhdGUgLSBhIEphdmFzY3JpcHQgRGF0ZSBvYmplY3RcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gY29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgRGF0ZVRpbWVcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfFpvbmV9IFtvcHRpb25zLnpvbmU9J2RlZmF1bHQnXSAtIHRoZSB6b25lIHRvIHBsYWNlIHRoZSBEYXRlVGltZSBpbnRvXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubG9jYWxlXSAtIGEgbG9jYWxlIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMub3V0cHV0Q2FsZW5kYXJdIC0gdGhlIG91dHB1dCBjYWxlbmRhciB0byBzZXQgb24gdGhlIHJlc3VsdGluZyBEYXRlVGltZSBpbnN0YW5jZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLm51bWJlcmluZ1N5c3RlbV0gLSB0aGUgbnVtYmVyaW5nIHN5c3RlbSB0byBzZXQgb24gdGhlIHJlc3VsdGluZyBEYXRlVGltZSBpbnN0YW5jZVxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5udWxsT25JbnZhbGlkPWZhbHNlXSAtIHJldHVybiBudWxsIG9uIGludmFsaWQgdmFsdWVzIGluc3RlYWQgb2YgdGhyb3dpbmcgYW4gZXJyb3JcclxuICAgICAqIEByZXR1cm4ge0RhdGVUaW1lfVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZnJvbUpTRGF0ZShkYXRlOiBEYXRlLCBvcHRpb25zOiBEYXRlVGltZU9wdGlvbnMgPSB7fSk6IERhdGVUaW1lIHtcclxuICAgICAgICBjb25zdCB0cyA9IGlzRGF0ZShkYXRlKSA/IGRhdGUudmFsdWVPZigpIDogTmFOO1xyXG4gICAgICAgIGlmIChOdW1iZXIuaXNOYU4odHMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBEYXRlVGltZS5pbnZhbGlkKFwiaW52YWxpZCBpbnB1dFwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHpvbmVUb1VzZSA9IG5vcm1hbGl6ZVpvbmUob3B0aW9ucy56b25lLCBTZXR0aW5ncy5kZWZhdWx0Wm9uZSk7XHJcbiAgICAgICAgaWYgKCF6b25lVG9Vc2UuaXNWYWxpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gRGF0ZVRpbWUuaW52YWxpZChEYXRlVGltZS5fdW5zdXBwb3J0ZWRab25lKHpvbmVUb1VzZSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlVGltZSh7XHJcbiAgICAgICAgICAgIHRzOiB0cyxcclxuICAgICAgICAgICAgem9uZTogem9uZVRvVXNlLFxyXG4gICAgICAgICAgICBsb2M6IExvY2FsZS5mcm9tT2JqZWN0KG9wdGlvbnMpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYSBEYXRlVGltZSBmcm9tIGEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBzaW5jZSB0aGUgZXBvY2ggKG1lYW5pbmcgc2luY2UgMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS4gVXNlcyB0aGUgZGVmYXVsdCB6b25lLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbGxpc2Vjb25kcyAtIGEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBzaW5jZSAxOTcwIFVUQ1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBjb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSBEYXRlVGltZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd8Wm9uZX0gW29wdGlvbnMuem9uZT0nZGVmYXVsdCddIC0gdGhlIHpvbmUgdG8gcGxhY2UgdGhlIERhdGVUaW1lIGludG9cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sb2NhbGVdIC0gYSBsb2NhbGUgdG8gc2V0IG9uIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaW5zdGFuY2VcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5vdXRwdXRDYWxlbmRhcl0gLSB0aGUgb3V0cHV0IGNhbGVuZGFyIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubnVtYmVyaW5nU3lzdGVtXSAtIHRoZSBudW1iZXJpbmcgc3lzdGVtIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLm51bGxPbkludmFsaWQ9ZmFsc2VdIC0gcmV0dXJuIG51bGwgb24gaW52YWxpZCB2YWx1ZXMgaW5zdGVhZCBvZiB0aHJvd2luZyBhbiBlcnJvclxyXG4gICAgICogQHJldHVybiB7RGF0ZVRpbWV9XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBmcm9tTWlsbGlzKG1pbGxpc2Vjb25kczogbnVtYmVyLCBvcHRpb25zOiBEYXRlVGltZU9wdGlvbnMgPSB7fSk6IERhdGVUaW1lIHtcclxuICAgICAgICBpZiAoIWlzTnVtYmVyKG1pbGxpc2Vjb25kcykpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFxyXG4gICAgICAgICAgICAgICAgYGZyb21NaWxsaXMgcmVxdWlyZXMgYSBudW1lcmljYWwgaW5wdXQsIGJ1dCByZWNlaXZlZCBhICR7dHlwZW9mIG1pbGxpc2Vjb25kc30gd2l0aCB2YWx1ZSAke21pbGxpc2Vjb25kc31gXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG1pbGxpc2Vjb25kcyA8IC1NQVhfREFURSB8fCBtaWxsaXNlY29uZHMgPiBNQVhfREFURSkge1xyXG4gICAgICAgICAgICAvLyB0aGlzIGlzbid0IHBlcmZlY3QgYmVjYXVzZSBiZWNhdXNlIHdlIGNhbiBzdGlsbCBlbmQgdXAgb3V0IG9mIHJhbmdlIGJlY2F1c2Ugb2YgYWRkaXRpb25hbCBzaGlmdGluZywgYnV0IGl0J3MgYSBzdGFydFxyXG4gICAgICAgICAgICByZXR1cm4gRGF0ZVRpbWUuaW52YWxpZChcIlRpbWVzdGFtcCBvdXQgb2YgcmFuZ2VcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGVUaW1lKHtcclxuICAgICAgICAgICAgICAgIHRzOiBtaWxsaXNlY29uZHMsXHJcbiAgICAgICAgICAgICAgICB6b25lOiBub3JtYWxpemVab25lKG9wdGlvbnMuem9uZSwgU2V0dGluZ3MuZGVmYXVsdFpvbmUpLFxyXG4gICAgICAgICAgICAgICAgbG9jOiBMb2NhbGUuZnJvbU9iamVjdChvcHRpb25zKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYSBEYXRlVGltZSBmcm9tIGEgbnVtYmVyIG9mIHNlY29uZHMgc2luY2UgdGhlIGVwb2NoIChtZWFuaW5nIHNpbmNlIDEgSmFudWFyeSAxOTcwIDAwOjAwOjAwIFVUQykuIFVzZXMgdGhlIGRlZmF1bHQgem9uZS5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzZWNvbmRzIC0gYSBudW1iZXIgb2Ygc2Vjb25kcyBzaW5jZSAxOTcwIFVUQ1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBjb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSBEYXRlVGltZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd8Wm9uZX0gW29wdGlvbnMuem9uZT0nZGVmYXVsdCddIC0gdGhlIHpvbmUgdG8gcGxhY2UgdGhlIERhdGVUaW1lIGludG9cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sb2NhbGVdIC0gYSBsb2NhbGUgdG8gc2V0IG9uIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaW5zdGFuY2VcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5vdXRwdXRDYWxlbmRhcl0gLSB0aGUgb3V0cHV0IGNhbGVuZGFyIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubnVtYmVyaW5nU3lzdGVtXSAtIHRoZSBudW1iZXJpbmcgc3lzdGVtIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLm51bGxPbkludmFsaWQ9ZmFsc2VdIC0gcmV0dXJuIG51bGwgb24gaW52YWxpZCB2YWx1ZXMgaW5zdGVhZCBvZiB0aHJvd2luZyBhbiBlcnJvclxyXG4gICAgICogQHJldHVybiB7RGF0ZVRpbWV9XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBmcm9tU2Vjb25kcyhzZWNvbmRzOiBudW1iZXIsIG9wdGlvbnM6IERhdGVUaW1lT3B0aW9ucyA9IHt9KTogRGF0ZVRpbWUge1xyXG4gICAgICAgIGlmICghaXNOdW1iZXIoc2Vjb25kcykpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFwiZnJvbVNlY29uZHMgcmVxdWlyZXMgYSBudW1lcmljYWwgaW5wdXRcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbmV3IERhdGVUaW1lKHtcclxuICAgICAgICAgICAgdHM6IHNlY29uZHMgKiAxMDAwLFxyXG4gICAgICAgICAgICB6b25lOiBub3JtYWxpemVab25lKG9wdGlvbnMuem9uZSwgU2V0dGluZ3MuZGVmYXVsdFpvbmUpLFxyXG4gICAgICAgICAgICBsb2M6IExvY2FsZS5mcm9tT2JqZWN0KG9wdGlvbnMpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYSBEYXRlVGltZSBmcm9tIGEgSmF2YVNjcmlwdCBvYmplY3Qgd2l0aCBrZXlzIGxpa2UgJ3llYXInIGFuZCAnaG91cicgd2l0aCByZWFzb25hYmxlIGRlZmF1bHRzLlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iaiAtIHRoZSBvYmplY3QgdG8gY3JlYXRlIHRoZSBEYXRlVGltZSBmcm9tXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2JqLnllYXIgLSBhIHllYXIsIHN1Y2ggYXMgMTk4N1xyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9iai5tb250aCAtIGEgbW9udGgsIDEtMTJcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvYmouZGF5IC0gYSBkYXkgb2YgdGhlIG1vbnRoLCAxLTMxLCBkZXBlbmRpbmcgb24gdGhlIG1vbnRoXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2JqLm9yZGluYWwgLSBkYXkgb2YgdGhlIHllYXIsIDEtMzY1IG9yIDM2NlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9iai53ZWVrWWVhciAtIGFuIElTTyB3ZWVrIHllYXJcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvYmoud2Vla051bWJlciAtIGFuIElTTyB3ZWVrIG51bWJlciwgYmV0d2VlbiAxIGFuZCA1MiBvciA1MywgZGVwZW5kaW5nIG9uIHRoZSB5ZWFyXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2JqLndlZWtkYXkgLSBhbiBJU08gd2Vla2RheSwgMS03LCB3aGVyZSAxIGlzIE1vbmRheSBhbmQgNyBpcyBTdW5kYXlcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvYmouaG91ciAtIGhvdXIgb2YgdGhlIGRheSwgMC0yM1xyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9iai5taW51dGUgLSBtaW51dGUgb2YgdGhlIGhvdXIsIDAtNTlcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvYmouc2Vjb25kIC0gc2Vjb25kIG9mIHRoZSBtaW51dGUsIDAtNTlcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvYmoubWlsbGlzZWNvbmQgLSBtaWxsaXNlY29uZCBvZiB0aGUgc2Vjb25kLCAwLTk5OVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRpb25zIGZvciBjcmVhdGluZyB0aGlzIERhdGVUaW1lXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xab25lfSBbb3B0cy56b25lPSdsb2NhbCddIC0gaW50ZXJwcmV0IHRoZSBudW1iZXJzIGluIHRoZSBjb250ZXh0IG9mIGEgcGFydGljdWxhciB6b25lLiBDYW4gdGFrZSBhbnkgdmFsdWUgdGFrZW4gYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHNldFpvbmUoKVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmxvY2FsZT0nc3lzdGVtJ3MgbG9jYWxlJ10gLSBhIGxvY2FsZSB0byBzZXQgb24gdGhlIHJlc3VsdGluZyBEYXRlVGltZSBpbnN0YW5jZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG9wdHMub3V0cHV0Q2FsZW5kYXIgLSB0aGUgb3V0cHV0IGNhbGVuZGFyIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0cy5udW1iZXJpbmdTeXN0ZW0gLSB0aGUgbnVtYmVyaW5nIHN5c3RlbSB0byBzZXQgb24gdGhlIHJlc3VsdGluZyBEYXRlVGltZSBpbnN0YW5jZVxyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUuZnJvbU9iamVjdCh7IHllYXI6IDE5ODIsIG1vbnRoOiA1LCBkYXk6IDI1fSkudG9JU09EYXRlKCkgLy89PiAnMTk4Mi0wNS0yNSdcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmZyb21PYmplY3QoeyB5ZWFyOiAxOTgyIH0pLnRvSVNPRGF0ZSgpIC8vPT4gJzE5ODItMDEtMDEnXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5mcm9tT2JqZWN0KHsgaG91cjogMTAsIG1pbnV0ZTogMjYsIHNlY29uZDogNiB9KSAvL34+IHRvZGF5IGF0IDEwOjI2OjA2XHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5mcm9tT2JqZWN0KHsgaG91cjogMTAsIG1pbnV0ZTogMjYsIHNlY29uZDogNiB9LCB7IHpvbmU6ICd1dGMnIH0pLFxyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUuZnJvbU9iamVjdCh7IGhvdXI6IDEwLCBtaW51dGU6IDI2LCBzZWNvbmQ6IDYgfSwgeyB6b25lOiAnbG9jYWwnIH0pXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5mcm9tT2JqZWN0KHsgaG91cjogMTAsIG1pbnV0ZTogMjYsIHNlY29uZDogNiB9LCB7IH16b25lOiAnQW1lcmljYS9OZXdfWW9yaycgfSlcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmZyb21PYmplY3QoeyB3ZWVrWWVhcjogMjAxNiwgd2Vla051bWJlcjogMiwgd2Vla2RheTogMyB9KS50b0lTT0RhdGUoKSAvLz0+ICcyMDE2LTAxLTEzJ1xyXG4gICAgICogQHJldHVybiB7RGF0ZVRpbWV9XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBmcm9tT2JqZWN0KG9iajogRHVyYXRpb25PYmplY3QgJiBHZW5lcmljRGF0ZVRpbWUgPSB7fSxcclxuICAgICAgICAgICAgICAgICAgICAgIG9wdHM6IERhdGVUaW1lT3B0aW9ucyA9IHt9IGFzIERhdGVUaW1lT3B0aW9ucykge1xyXG4gICAgICAgIGNvbnN0IHpvbmVUb1VzZSA9IG5vcm1hbGl6ZVpvbmUob3B0cy56b25lLCBTZXR0aW5ncy5kZWZhdWx0Wm9uZSk7XHJcbiAgICAgICAgaWYgKCF6b25lVG9Vc2UuaXNWYWxpZCkge1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIERhdGVUaW1lLmludmFsaWQoRGF0ZVRpbWUuX3Vuc3VwcG9ydGVkWm9uZSh6b25lVG9Vc2UpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHRzTm93ID0gU2V0dGluZ3Mubm93KCksXHJcbiAgICAgICAgICAgIG9mZnNldFByb3ZpcyA9IGlzTnVtYmVyKG9wdHMuc3BlY2lmaWNPZmZzZXQpXHJcbiAgICAgICAgICAgICAgICA/IG9wdHMuc3BlY2lmaWNPZmZzZXRcclxuICAgICAgICAgICAgICAgIDogem9uZVRvVXNlLm9mZnNldCh0c05vdyksXHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZWQgPSBub3JtYWxpemVPYmplY3Qob2JqIGFzIFJlY29yZDxzdHJpbmcsIGFueT4sIG5vcm1hbGl6ZVVuaXQpLFxyXG4gICAgICAgICAgICBjb250YWluc09yZGluYWwgPSBpc0RlZmluZWQobm9ybWFsaXplZC5vcmRpbmFsKSxcclxuICAgICAgICAgICAgY29udGFpbnNHcmVnb3JZZWFyID0gaXNEZWZpbmVkKG5vcm1hbGl6ZWQueWVhciksXHJcbiAgICAgICAgICAgIGNvbnRhaW5zR3JlZ29yTUQgPSBpc0RlZmluZWQobm9ybWFsaXplZC5tb250aCkgfHwgaXNEZWZpbmVkKG5vcm1hbGl6ZWQuZGF5KSxcclxuICAgICAgICAgICAgY29udGFpbnNHcmVnb3IgPSBjb250YWluc0dyZWdvclllYXIgfHwgY29udGFpbnNHcmVnb3JNRCxcclxuICAgICAgICAgICAgZGVmaW5pdGVXZWVrRGVmID0gbm9ybWFsaXplZC53ZWVrWWVhciB8fCBub3JtYWxpemVkLndlZWtOdW1iZXIsXHJcbiAgICAgICAgICAgIGxvYyA9IExvY2FsZS5mcm9tT2JqZWN0KG9wdHMpO1xyXG5cclxuICAgICAgICAvLyBjYXNlczpcclxuICAgICAgICAvLyBqdXN0IGEgd2Vla2RheSAtPiB0aGlzIHdlZWsncyBpbnN0YW5jZSBvZiB0aGF0IHdlZWtkYXksIG5vIHdvcnJpZXNcclxuICAgICAgICAvLyAoZ3JlZ29yaWFuIGRhdGEgb3Igb3JkaW5hbCkgKyAod2Vla1llYXIgb3Igd2Vla051bWJlcikgLT4gZXJyb3JcclxuICAgICAgICAvLyAoZ3JlZ29yaWFuIG1vbnRoIG9yIGRheSkgKyBvcmRpbmFsIC0+IGVycm9yXHJcbiAgICAgICAgLy8gb3RoZXJ3aXNlIGp1c3QgdXNlIHdlZWtzIG9yIG9yZGluYWxzIG9yIGdyZWdvcmlhbiwgZGVwZW5kaW5nIG9uIHdoYXQncyBzcGVjaWZpZWRcclxuXHJcbiAgICAgICAgaWYgKChjb250YWluc0dyZWdvciB8fCBjb250YWluc09yZGluYWwpICYmIGRlZmluaXRlV2Vla0RlZikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgQ29uZmxpY3RpbmdTcGVjaWZpY2F0aW9uRXJyb3IoXHJcbiAgICAgICAgICAgICAgICBcIkNhbid0IG1peCB3ZWVrWWVhci93ZWVrTnVtYmVyIHVuaXRzIHdpdGggeWVhci9tb250aC9kYXkgb3Igb3JkaW5hbHNcIlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNvbnRhaW5zR3JlZ29yTUQgJiYgY29udGFpbnNPcmRpbmFsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBDb25mbGljdGluZ1NwZWNpZmljYXRpb25FcnJvcihcIkNhbid0IG1peCBvcmRpbmFsIGRhdGVzIHdpdGggbW9udGgvZGF5XCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgdXNlV2Vla0RhdGEgPSBkZWZpbml0ZVdlZWtEZWYgfHwgKG5vcm1hbGl6ZWQud2Vla2RheSAmJiAhY29udGFpbnNHcmVnb3IpO1xyXG5cclxuICAgICAgICAvLyBjb25maWd1cmUgb3Vyc2VsdmVzIHRvIGRlYWwgd2l0aCBncmVnb3JpYW4gZGF0ZXMgb3Igd2VlayBzdHVmZlxyXG4gICAgICAgIGNvbnN0IHRtcE5vdzogR3JlZ29yaWFuRGF0ZVRpbWUgPSB0c1RvT2JqKHRzTm93LCBvZmZzZXRQcm92aXMpO1xyXG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHtcclxuICAgICAgICAgICAgY29udGFpbnNHcmVnb3IsXHJcbiAgICAgICAgICAgIGNvbnRhaW5zT3JkaW5hbCxcclxuICAgICAgICAgICAgbG9jLFxyXG4gICAgICAgICAgICBub3JtYWxpemVkLFxyXG4gICAgICAgICAgICBvYmosXHJcbiAgICAgICAgICAgIG9mZnNldFByb3ZpcyxcclxuICAgICAgICAgICAgdXNlV2Vla0RhdGEsXHJcbiAgICAgICAgICAgIHpvbmVUb1VzZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKHVzZVdlZWtEYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBEYXRlVGltZS5fYnVpbGRPYmplY3Q8V2Vla0RhdGVUaW1lPihjb25maWcsXHJcbiAgICAgICAgICAgICAgICBvcmRlcmVkV2Vla1VuaXRzLFxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdFdlZWtVbml0VmFsdWVzLFxyXG4gICAgICAgICAgICAgICAgZ3JlZ29yaWFuVG9XZWVrKHRtcE5vdylcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY29udGFpbnNPcmRpbmFsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBEYXRlVGltZS5fYnVpbGRPYmplY3QoY29uZmlnLCBvcmRlcmVkT3JkaW5hbFVuaXRzLCBkZWZhdWx0T3JkaW5hbFVuaXRWYWx1ZXMsIGdyZWdvcmlhblRvT3JkaW5hbCh0bXBOb3cpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBEYXRlVGltZS5fYnVpbGRPYmplY3QoY29uZmlnLCBvcmRlcmVkVW5pdHMsIGRlZmF1bHRVbml0VmFsdWVzLCB0bXBOb3cpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYSBEYXRlVGltZSBmcm9tIGFuIElTTyA4NjAxIHN0cmluZ1xyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0aGUgSVNPIHN0cmluZ1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRpb25zIHRvIGFmZmVjdCB0aGUgY3JlYXRpb25cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfFpvbmV9IFtvcHRzLnpvbmU9J2xvY2FsJ10gLSB1c2UgdGhpcyB6b25lIGlmIG5vIG9mZnNldCBpcyBzcGVjaWZpZWQgaW4gdGhlIGlucHV0IHN0cmluZyBpdHNlbGYuIFdpbGwgYWxzbyBjb252ZXJ0IHRoZSB0aW1lIHRvIHRoaXMgem9uZVxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5zZXRab25lPWZhbHNlXSAtIG92ZXJyaWRlIHRoZSB6b25lIHdpdGggYSBmaXhlZC1vZmZzZXQgem9uZSBzcGVjaWZpZWQgaW4gdGhlIHN0cmluZyBpdHNlbGYsIGlmIGl0IHNwZWNpZmllcyBvbmVcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5sb2NhbGU9J3N5c3RlbSdzIGxvY2FsZSddIC0gYSBsb2NhbGUgdG8gc2V0IG9uIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaW5zdGFuY2VcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5vdXRwdXRDYWxlbmRhcl0gLSB0aGUgb3V0cHV0IGNhbGVuZGFyIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMubnVtYmVyaW5nU3lzdGVtXSAtIHRoZSBudW1iZXJpbmcgc3lzdGVtIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5mcm9tSVNPKCcyMDE2LTA1LTI1VDA5OjA4OjM0LjEyMycpXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5mcm9tSVNPKCcyMDE2LTA1LTI1VDA5OjA4OjM0LjEyMyswNjowMCcpXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5mcm9tSVNPKCcyMDE2LTA1LTI1VDA5OjA4OjM0LjEyMyswNjowMCcsIHtzZXRab25lOiB0cnVlfSlcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmZyb21JU08oJzIwMTYtMDUtMjVUMDk6MDg6MzQuMTIzJywge3pvbmU6ICd1dGMnfSlcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmZyb21JU08oJzIwMTYtVzA1LTQnKVxyXG4gICAgICogQHJldHVybiB7RGF0ZVRpbWV9XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBmcm9tSVNPKHRleHQ6IHN0cmluZywgb3B0czogRGF0ZVRpbWVPcHRpb25zID0ge30pOiBEYXRlVGltZSB7XHJcbiAgICAgICAgY29uc3QgW3ZhbHMsIHBhcnNlZFpvbmVdID0gcGFyc2VJU09EYXRlKHRleHQpO1xyXG5cclxuICAgICAgICByZXR1cm4gcGFyc2VEYXRhVG9EYXRlVGltZSh2YWxzLCBwYXJzZWRab25lLCBvcHRzLCBcIklTTyA4NjAxXCIsIHRleHQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgRGF0ZVRpbWUgZnJvbSBhbiBSRkMgMjgyMiBzdHJpbmdcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gdGhlIFJGQyAyODIyIHN0cmluZ1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRpb25zIHRvIGFmZmVjdCB0aGUgY3JlYXRpb25cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfFpvbmV9IFtvcHRzLnpvbmU9J2xvY2FsJ10gLSBjb252ZXJ0IHRoZSB0aW1lIHRvIHRoaXMgem9uZS4gU2luY2UgdGhlIG9mZnNldCBpcyBhbHdheXMgc3BlY2lmaWVkIGluIHRoZSBzdHJpbmcgaXRzZWxmLCB0aGlzIGhhcyBubyBlZmZlY3Qgb24gdGhlIGludGVycHJldGF0aW9uIG9mIHN0cmluZywgbWVyZWx5IHRoZSB6b25lIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaXMgZXhwcmVzc2VkIGluLlxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5zZXRab25lPWZhbHNlXSAtIG92ZXJyaWRlIHRoZSB6b25lIHdpdGggYSBmaXhlZC1vZmZzZXQgem9uZSBzcGVjaWZpZWQgaW4gdGhlIHN0cmluZyBpdHNlbGYsIGlmIGl0IHNwZWNpZmllcyBvbmVcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5sb2NhbGU9J3N5c3RlbSdzIGxvY2FsZSddIC0gYSBsb2NhbGUgdG8gc2V0IG9uIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaW5zdGFuY2VcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRzLm91dHB1dENhbGVuZGFyIC0gdGhlIG91dHB1dCBjYWxlbmRhciB0byBzZXQgb24gdGhlIHJlc3VsdGluZyBEYXRlVGltZSBpbnN0YW5jZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG9wdHMubnVtYmVyaW5nU3lzdGVtIC0gdGhlIG51bWJlcmluZyBzeXN0ZW0gdG8gc2V0IG9uIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaW5zdGFuY2VcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmZyb21SRkMyODIyKCcyNSBOb3YgMjAxNiAxMzoyMzoxMiBHTVQnKVxyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUuZnJvbVJGQzI4MjIoJ0ZyaSwgMjUgTm92IDIwMTYgMTM6MjM6MTIgKzA2MDAnKVxyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUuZnJvbVJGQzI4MjIoJzI1IE5vdiAyMDE2IDEzOjIzIFonKVxyXG4gICAgICogQHJldHVybiB7RGF0ZVRpbWV9XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBmcm9tUkZDMjgyMih0ZXh0OiBzdHJpbmcsIG9wdHM6IERhdGVUaW1lT3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgY29uc3QgW3ZhbHMsIHBhcnNlZFpvbmVdID0gcGFyc2VSRkMyODIyRGF0ZSh0ZXh0KTtcclxuICAgICAgICByZXR1cm4gcGFyc2VEYXRhVG9EYXRlVGltZSh2YWxzLCBwYXJzZWRab25lLCBvcHRzLCBcIlJGQyAyODIyXCIsIHRleHQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgRGF0ZVRpbWUgZnJvbSBhbiBIVFRQIGhlYWRlciBkYXRlXHJcbiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9Qcm90b2NvbHMvcmZjMjYxNi9yZmMyNjE2LXNlYzMuaHRtbCNzZWMzLjMuMVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0aGUgSFRUUCBoZWFkZXIgZGF0ZVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRpb25zIHRvIGFmZmVjdCB0aGUgY3JlYXRpb25cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfFpvbmV9IFtvcHRzLnpvbmU9J2xvY2FsJ10gLSBjb252ZXJ0IHRoZSB0aW1lIHRvIHRoaXMgem9uZS4gU2luY2UgSFRUUCBkYXRlcyBhcmUgYWx3YXlzIGluIFVUQywgdGhpcyBoYXMgbm8gZWZmZWN0IG9uIHRoZSBpbnRlcnByZXRhdGlvbiBvZiBzdHJpbmcsIG1lcmVseSB0aGUgem9uZSB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGlzIGV4cHJlc3NlZCBpbi5cclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuc2V0Wm9uZT1mYWxzZV0gLSBvdmVycmlkZSB0aGUgem9uZSB3aXRoIHRoZSBmaXhlZC1vZmZzZXQgem9uZSBzcGVjaWZpZWQgaW4gdGhlIHN0cmluZy4gRm9yIEhUVFAgZGF0ZXMsIHRoaXMgaXMgYWx3YXlzIFVUQywgc28gdGhpcyBvcHRpb24gaXMgZXF1aXZhbGVudCB0byBzZXR0aW5nIHRoZSBgem9uZWAgb3B0aW9uIHRvICd1dGMnLCBidXQgdGhpcyBvcHRpb24gaXMgaW5jbHVkZWQgZm9yIGNvbnNpc3RlbmN5IHdpdGggc2ltaWxhciBtZXRob2RzLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmxvY2FsZT0nc3lzdGVtJ3MgbG9jYWxlJ10gLSBhIGxvY2FsZSB0byBzZXQgb24gdGhlIHJlc3VsdGluZyBEYXRlVGltZSBpbnN0YW5jZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG9wdHMub3V0cHV0Q2FsZW5kYXIgLSB0aGUgb3V0cHV0IGNhbGVuZGFyIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0cy5udW1iZXJpbmdTeXN0ZW0gLSB0aGUgbnVtYmVyaW5nIHN5c3RlbSB0byBzZXQgb24gdGhlIHJlc3VsdGluZyBEYXRlVGltZSBpbnN0YW5jZVxyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUuZnJvbUhUVFAoJ1N1biwgMDYgTm92IDE5OTQgMDg6NDk6MzcgR01UJylcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmZyb21IVFRQKCdTdW5kYXksIDA2LU5vdi05NCAwODo0OTozNyBHTVQnKVxyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUuZnJvbUhUVFAoJ1N1biBOb3YgIDYgMDg6NDk6MzcgMTk5NCcpXHJcbiAgICAgKiBAcmV0dXJuIHtEYXRlVGltZX1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGZyb21IVFRQKHRleHQ6IHN0cmluZywgb3B0czogRGF0ZVRpbWVPcHRpb25zID0ge30pOiBEYXRlVGltZSB7XHJcbiAgICAgICAgY29uc3QgW3ZhbHMsIHBhcnNlZFpvbmVdID0gcGFyc2VIVFRQRGF0ZSh0ZXh0KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHBhcnNlRGF0YVRvRGF0ZVRpbWUodmFscywgcGFyc2VkWm9uZSwgb3B0cywgXCJIVFRQXCIsIHRleHQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgRGF0ZVRpbWUgZnJvbSBhbiBpbnB1dCBzdHJpbmcgYW5kIGZvcm1hdCBzdHJpbmcuXHJcbiAgICAgKiBEZWZhdWx0cyB0byBlbi1VUyBpZiBubyBsb2NhbGUgaGFzIGJlZW4gc3BlY2lmaWVkLCByZWdhcmRsZXNzIG9mIHRoZSBzeXN0ZW0ncyBsb2NhbGUuXHJcbiAgICAgKiBAc2VlIGh0dHBzOi8vbW9tZW50LmdpdGh1Yi5pby9sdXhvbi9kb2NzL21hbnVhbC9wYXJzaW5nLmh0bWwjdGFibGUtb2YtdG9rZW5zXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIHRoZSBzdHJpbmcgdG8gcGFyc2VcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmbXQgLSB0aGUgZm9ybWF0IHRoZSBzdHJpbmcgaXMgZXhwZWN0ZWQgdG8gYmUgaW4gKHNlZSB0aGUgbGluayBiZWxvdyBmb3IgdGhlIGZvcm1hdHMpXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIG9wdGlvbnMgdG8gYWZmZWN0IHRoZSBjcmVhdGlvblxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd8Wm9uZX0gW29wdHMuem9uZT0nbG9jYWwnXSAtIHVzZSB0aGlzIHpvbmUgaWYgbm8gb2Zmc2V0IGlzIHNwZWNpZmllZCBpbiB0aGUgaW5wdXQgc3RyaW5nIGl0c2VsZi4gV2lsbCBhbHNvIGNvbnZlcnQgdGhlIERhdGVUaW1lIHRvIHRoaXMgem9uZVxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5zZXRab25lPWZhbHNlXSAtIG92ZXJyaWRlIHRoZSB6b25lIHdpdGggYSB6b25lIHNwZWNpZmllZCBpbiB0aGUgc3RyaW5nIGl0c2VsZiwgaWYgaXQgc3BlY2lmaWVzIG9uZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmxvY2FsZT0nZW4tVVMnXSAtIGEgbG9jYWxlIHN0cmluZyB0byB1c2Ugd2hlbiBwYXJzaW5nLiBXaWxsIGFsc28gc2V0IHRoZSBEYXRlVGltZSB0byB0aGlzIGxvY2FsZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG9wdHMubnVtYmVyaW5nU3lzdGVtIC0gdGhlIG51bWJlcmluZyBzeXN0ZW0gdG8gdXNlIHdoZW4gcGFyc2luZy4gV2lsbCBhbHNvIHNldCB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIHRvIHRoaXMgbnVtYmVyaW5nIHN5c3RlbVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG9wdHMub3V0cHV0Q2FsZW5kYXIgLSB0aGUgb3V0cHV0IGNhbGVuZGFyIHRvIHNldCBvbiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lIGluc3RhbmNlXHJcbiAgICAgKiBAcmV0dXJuIHtEYXRlVGltZX1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGZyb21Gb3JtYXQodGV4dDogc3RyaW5nLCBmbXQ6IHN0cmluZywgb3B0czogRGF0ZVRpbWVPcHRpb25zID0ge30pOiBEYXRlVGltZSB7XHJcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHRleHQpIHx8IGlzVW5kZWZpbmVkKGZtdCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKFwiZnJvbUZvcm1hdCByZXF1aXJlcyBhbiBpbnB1dCBzdHJpbmcgYW5kIGEgZm9ybWF0XCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgeyBsb2NhbGUsIG51bWJlcmluZ1N5c3RlbSB9ID0gb3B0cyxcclxuICAgICAgICAgICAgbG9jYWxlVG9Vc2UgPSBMb2NhbGUuZnJvbU9wdHMoe1xyXG4gICAgICAgICAgICAgICAgbG9jYWxlLFxyXG4gICAgICAgICAgICAgICAgbnVtYmVyaW5nU3lzdGVtLFxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdFRvRU46IHRydWVcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIFt2YWxzLCBwYXJzZWRab25lLCBzcGVjaWZpY09mZnNldCwgaW52YWxpZF0gPSBwYXJzZUZyb21Ub2tlbnMobG9jYWxlVG9Vc2UsIHRleHQsIGZtdCk7XHJcbiAgICAgICAgaWYgKGludmFsaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIERhdGVUaW1lLmludmFsaWQoaW52YWxpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VEYXRhVG9EYXRlVGltZSh2YWxzIGFzIEdlbmVyaWNEYXRlVGltZUV4dGVuZGVkLCBwYXJzZWRab25lIHx8IG51bGwsIG9wdHMsIGBmb3JtYXQgJHtmbXR9YCwgdGV4dCwgc3BlY2lmaWNPZmZzZXQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIHVzZSBmcm9tRm9ybWF0IGluc3RlYWRcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGZyb21TdHJpbmcodGV4dDogc3RyaW5nLCBmbXQ6IHN0cmluZywgb3B0czogRGF0ZVRpbWVPcHRpb25zID0ge30pIHtcclxuICAgICAgICByZXR1cm4gRGF0ZVRpbWUuZnJvbUZvcm1hdCh0ZXh0LCBmbXQsIG9wdHMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgRGF0ZVRpbWUgZnJvbSBhIFNRTCBkYXRlLCB0aW1lLCBvciBkYXRldGltZVxyXG4gICAgICogRGVmYXVsdHMgdG8gZW4tVVMgaWYgbm8gbG9jYWxlIGhhcyBiZWVuIHNwZWNpZmllZCwgcmVnYXJkbGVzcyBvZiB0aGUgc3lzdGVtJ3MgbG9jYWxlXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIHRoZSBzdHJpbmcgdG8gcGFyc2VcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9ucyB0byBhZmZlY3QgdGhlIGNyZWF0aW9uXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xab25lfSBbb3B0cy56b25lPSdsb2NhbCddIC0gdXNlIHRoaXMgem9uZSBpZiBubyBvZmZzZXQgaXMgc3BlY2lmaWVkIGluIHRoZSBpbnB1dCBzdHJpbmcgaXRzZWxmLiBXaWxsIGFsc28gY29udmVydCB0aGUgRGF0ZVRpbWUgdG8gdGhpcyB6b25lXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnNldFpvbmU9ZmFsc2VdIC0gb3ZlcnJpZGUgdGhlIHpvbmUgd2l0aCBhIHpvbmUgc3BlY2lmaWVkIGluIHRoZSBzdHJpbmcgaXRzZWxmLCBpZiBpdCBzcGVjaWZpZXMgb25lXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMubG9jYWxlPSdlbi1VUyddIC0gYSBsb2NhbGUgc3RyaW5nIHRvIHVzZSB3aGVuIHBhcnNpbmcuIFdpbGwgYWxzbyBzZXQgdGhlIERhdGVUaW1lIHRvIHRoaXMgbG9jYWxlXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0cy5udW1iZXJpbmdTeXN0ZW0gLSB0aGUgbnVtYmVyaW5nIHN5c3RlbSB0byB1c2Ugd2hlbiBwYXJzaW5nLiBXaWxsIGFsc28gc2V0IHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgdG8gdGhpcyBudW1iZXJpbmcgc3lzdGVtXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0cy5vdXRwdXRDYWxlbmRhciAtIHRoZSBvdXRwdXQgY2FsZW5kYXIgdG8gc2V0IG9uIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWUgaW5zdGFuY2VcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmZyb21TUUwoJzIwMTctMDUtMTUnKVxyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUuZnJvbVNRTCgnMjAxNy0wNS0xNSAwOToxMjozNCcpXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5mcm9tU1FMKCcyMDE3LTA1LTE1IDA5OjEyOjM0LjM0MicpXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5mcm9tU1FMKCcyMDE3LTA1LTE1IDA5OjEyOjM0LjM0MiswNjowMCcpXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5mcm9tU1FMKCcyMDE3LTA1LTE1IDA5OjEyOjM0LjM0MiBBbWVyaWNhL0xvc19BbmdlbGVzJylcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmZyb21TUUwoJzIwMTctMDUtMTUgMDk6MTI6MzQuMzQyIEFtZXJpY2EvTG9zX0FuZ2VsZXMnLCB7IHNldFpvbmU6IHRydWUgfSlcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmZyb21TUUwoJzIwMTctMDUtMTUgMDk6MTI6MzQuMzQyJywgeyB6b25lOiAnQW1lcmljYS9Mb3NfQW5nZWxlcycgfSlcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmZyb21TUUwoJzA5OjEyOjM0LjM0MicpXHJcbiAgICAgKiBAcmV0dXJuIHtEYXRlVGltZX1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGZyb21TUUwodGV4dDogc3RyaW5nLCBvcHRzOiBEYXRlVGltZU9wdGlvbnMgPSB7fSk6IERhdGVUaW1lIHtcclxuICAgICAgICBjb25zdCBbdmFscywgcGFyc2VkWm9uZV0gPSBwYXJzZVNRTCh0ZXh0KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHBhcnNlRGF0YVRvRGF0ZVRpbWUodmFscywgcGFyc2VkWm9uZSwgb3B0cywgXCJTUUxcIiwgdGV4dCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGFuIGludmFsaWQgRGF0ZVRpbWUuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVhc29uIC0gc2ltcGxlIHN0cmluZyBvZiB3aHkgdGhpcyBEYXRlVGltZSBpcyBpbnZhbGlkLiBTaG91bGQgbm90IGNvbnRhaW4gcGFyYW1ldGVycyBvciBhbnl0aGluZyBlbHNlIGRhdGEtZGVwZW5kZW50XHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2V4cGxhbmF0aW9uPW51bGxdIC0gbG9uZ2VyIGV4cGxhbmF0aW9uLCBtYXkgaW5jbHVkZSBwYXJhbWV0ZXJzIGFuZCBvdGhlciB1c2VmdWwgZGVidWdnaW5nIGluZm9ybWF0aW9uXHJcbiAgICAgKiBAcmV0dXJuIHtEYXRlVGltZX1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGludmFsaWQocmVhc29uOiBJbnZhbGlkIHwgc3RyaW5nLCBleHBsYW5hdGlvbj86IHN0cmluZyk6IERhdGVUaW1lIHtcclxuICAgICAgICBpZiAoIXJlYXNvbikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXCJuZWVkIHRvIHNwZWNpZnkgYSByZWFzb24gdGhlIERhdGVUaW1lIGlzIGludmFsaWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGludmFsaWQgPSByZWFzb24gaW5zdGFuY2VvZiBJbnZhbGlkID8gcmVhc29uIDogbmV3IEludmFsaWQocmVhc29uLCBleHBsYW5hdGlvbik7XHJcbiAgICAgICAgaWYgKFNldHRpbmdzLnRocm93T25JbnZhbGlkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkRGF0ZVRpbWVFcnJvcihpbnZhbGlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlVGltZSh7IGludmFsaWQgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBhbiBvYmplY3QgaXMgYW4gaW5zdGFuY2Ugb2YgRGF0ZVRpbWUuIFdvcmtzIGFjcm9zcyBjb250ZXh0IGJvdW5kYXJpZXNcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvXHJcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgaXNEYXRlVGltZShvOiB1bmtub3duKTogbyBpcyBEYXRlVGltZSB7XHJcbiAgICAgICAgcmV0dXJuICEhKG8gJiYgKG8gYXMgRGF0ZVRpbWUpLl9pc0x1eG9uRGF0ZVRpbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIHRoZSBtaW4gb2Ygc2V2ZXJhbCBkYXRlIHRpbWVzXHJcbiAgICAgKiBAcGFyYW0gey4uLkRhdGVUaW1lfSBkYXRlVGltZXMgLSB0aGUgRGF0ZVRpbWVzIGZyb20gd2hpY2ggdG8gY2hvb3NlIHRoZSBtaW5pbXVtXHJcbiAgICAgKiBAcmV0dXJuIHtEYXRlVGltZX0gdGhlIG1pbiBEYXRlVGltZSwgb3IgdW5kZWZpbmVkIGlmIGNhbGxlZCB3aXRoIG5vIGFyZ3VtZW50c1xyXG4gICAgICovXHJcbiAgICBzdGF0aWMgbWluKC4uLmRhdGVUaW1lczogW10pOiB2b2lkO1xyXG4gICAgc3RhdGljIG1pbiguLi5kYXRlVGltZXM6IERhdGVUaW1lW10pOiBEYXRlVGltZTtcclxuICAgIHN0YXRpYyBtaW4oLi4uZGF0ZVRpbWVzOiBEYXRlVGltZVtdKTogRGF0ZVRpbWUgfCB2b2lkIHtcclxuICAgICAgICBpZiAoIWRhdGVUaW1lcy5ldmVyeShEYXRlVGltZS5pc0RhdGVUaW1lKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXCJtaW4gcmVxdWlyZXMgYWxsIGFyZ3VtZW50cyBiZSBEYXRlVGltZXNcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYmVzdEJ5KGRhdGVUaW1lcywgKGk6IERhdGVUaW1lKSA9PiBpLnZhbHVlT2YoKSwgTWF0aC5taW4pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIHRoZSBtYXggb2Ygc2V2ZXJhbCBkYXRlIHRpbWVzXHJcbiAgICAgKiBAcGFyYW0gey4uLkRhdGVUaW1lfSBkYXRlVGltZXMgLSB0aGUgRGF0ZVRpbWVzIGZyb20gd2hpY2ggdG8gY2hvb3NlIHRoZSBtYXhpbXVtXHJcbiAgICAgKiBAcmV0dXJuIHtEYXRlVGltZX0gdGhlIG1heCBEYXRlVGltZSwgb3IgdW5kZWZpbmVkIGlmIGNhbGxlZCB3aXRoIG5vIGFyZ3VtZW50c1xyXG4gICAgICovXHJcbiAgICBzdGF0aWMgbWF4KC4uLmRhdGVUaW1lczogW10pOiB2b2lkO1xyXG4gICAgc3RhdGljIG1heCguLi5kYXRlVGltZXM6IERhdGVUaW1lW10pOiBEYXRlVGltZTtcclxuICAgIHN0YXRpYyBtYXgoLi4uZGF0ZVRpbWVzOiBEYXRlVGltZVtdKTogRGF0ZVRpbWUgfCB2b2lkIHtcclxuICAgICAgICBpZiAoIWRhdGVUaW1lcy5ldmVyeShEYXRlVGltZS5pc0RhdGVUaW1lKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoXCJtYXggcmVxdWlyZXMgYWxsIGFyZ3VtZW50cyBiZSBEYXRlVGltZXNcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYmVzdEJ5KGRhdGVUaW1lcywgaSA9PiBpLnZhbHVlT2YoKSwgTWF0aC5tYXgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE1JU0NcclxuXHJcbiAgICAvKipcclxuICAgICAqIEV4cGxhaW4gaG93IGEgc3RyaW5nIHdvdWxkIGJlIHBhcnNlZCBieSBmcm9tRm9ybWF0KClcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gdGhlIHN0cmluZyB0byBwYXJzZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZtdCAtIHRoZSBmb3JtYXQgdGhlIHN0cmluZyBpcyBleHBlY3RlZCB0byBiZSBpbiAoc2VlIGRlc2NyaXB0aW9uKVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIHRha2VuIGJ5IGZyb21Gb3JtYXQoKVxyXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZnJvbUZvcm1hdEV4cGxhaW4odGV4dDogc3RyaW5nLCBmbXQ6IHN0cmluZywgb3B0aW9uczogRGF0ZVRpbWVPcHRpb25zID0ge30pIHtcclxuICAgICAgICBjb25zdCB7IGxvY2FsZSwgbnVtYmVyaW5nU3lzdGVtIH0gPSBvcHRpb25zLFxyXG4gICAgICAgICAgICBsb2NhbGVUb1VzZSA9IExvY2FsZS5mcm9tT3B0cyh7XHJcbiAgICAgICAgICAgICAgICBsb2NhbGUsXHJcbiAgICAgICAgICAgICAgICBudW1iZXJpbmdTeXN0ZW0sXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0VG9FTjogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gZXhwbGFpbkZyb21Ub2tlbnMobG9jYWxlVG9Vc2UsIHRleHQsIGZtdCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCB1c2UgZnJvbUZvcm1hdEV4cGxhaW4gaW5zdGVhZFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZnJvbVN0cmluZ0V4cGxhaW4odGV4dDogc3RyaW5nLCBmbXQ6IHN0cmluZywgb3B0aW9uczogRGF0ZVRpbWVPcHRpb25zID0ge30pIHtcclxuICAgICAgICByZXR1cm4gRGF0ZVRpbWUuZnJvbUZvcm1hdEV4cGxhaW4odGV4dCwgZm10LCBvcHRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc3RhdGljIF9idWlsZE9iamVjdDxUIGV4dGVuZHMgVGltZU9iamVjdD4oY29uZmlnOiBJbm5lckJ1aWxkT2JqZWN0Q29uZmlnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bml0czogc3RyaW5nW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZXM6IERlZmF1bHRVbml0VmFsdWVzIHwgRGVmYXVsdE9yZGluYWxVbml0VmFsdWVzIHwgRGVmYXVsdFdlZWtVbml0VmFsdWVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpOb3c6IFQpIHtcclxuXHJcbiAgICAgICAgLy8gc2V0IGRlZmF1bHQgdmFsdWVzIGZvciBtaXNzaW5nIHN0dWZmXHJcbiAgICAgICAgbGV0IGZvdW5kRmlyc3QgPSBmYWxzZTtcclxuICAgICAgICB1bml0cy5mb3JFYWNoKCh1OiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdiA9IGNvbmZpZy5ub3JtYWxpemVkW3VdO1xyXG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKHYpKSB7XHJcbiAgICAgICAgICAgICAgICBmb3VuZEZpcnN0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChmb3VuZEZpcnN0KSB7XHJcbiAgICAgICAgICAgICAgICBjb25maWcubm9ybWFsaXplZFt1XSA9IGRlZmF1bHRWYWx1ZXNbdV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25maWcubm9ybWFsaXplZFt1XSA9IChvYmpOb3cgYXMgeyBba2V5OiBzdHJpbmddOiBhbnkgfSlbdV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSB2YWx1ZXMgd2UgaGF2ZSBhcmUgaW4gcmFuZ2VcclxuICAgICAgICBjb25zdCBoaWdoZXJPcmRlckludmFsaWQgPSBjb25maWcudXNlV2Vla0RhdGFcclxuICAgICAgICAgICAgPyBoYXNJbnZhbGlkV2Vla0RhdGEoY29uZmlnLm5vcm1hbGl6ZWQgYXMgdW5rbm93biBhcyBXZWVrRGF0ZVRpbWUpXHJcbiAgICAgICAgICAgIDogY29uZmlnLmNvbnRhaW5zT3JkaW5hbFxyXG4gICAgICAgICAgICAgICAgPyBoYXNJbnZhbGlkT3JkaW5hbERhdGEoY29uZmlnLm5vcm1hbGl6ZWQgYXMgdW5rbm93biBhcyBPcmRpbmFsRGF0ZVRpbWUpXHJcbiAgICAgICAgICAgICAgICA6IGhhc0ludmFsaWRHcmVnb3JpYW5EYXRhKGNvbmZpZy5ub3JtYWxpemVkIGFzIHVua25vd24gYXMgR3JlZ29yaWFuRGF0ZVRpbWUpO1xyXG4gICAgICAgIGNvbnN0IGludmFsaWQgPSBoaWdoZXJPcmRlckludmFsaWQgfHwgaGFzSW52YWxpZFRpbWVEYXRhKGNvbmZpZy5ub3JtYWxpemVkIGFzIHVua25vd24gYXMgVGltZU9iamVjdCk7XHJcblxyXG4gICAgICAgIGlmIChpbnZhbGlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBEYXRlVGltZS5pbnZhbGlkKGludmFsaWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gY29tcHV0ZSB0aGUgYWN0dWFsIHRpbWVcclxuICAgICAgICBjb25zdCBncmVnb3JpYW4gPSBjb25maWcudXNlV2Vla0RhdGFcclxuICAgICAgICAgICAgICAgID8gd2Vla1RvR3JlZ29yaWFuKGNvbmZpZy5ub3JtYWxpemVkIGFzIHVua25vd24gYXMgV2Vla0RhdGVUaW1lKVxyXG4gICAgICAgICAgICAgICAgOiBjb25maWcuY29udGFpbnNPcmRpbmFsXHJcbiAgICAgICAgICAgICAgICAgICAgPyBvcmRpbmFsVG9HcmVnb3JpYW4oY29uZmlnLm5vcm1hbGl6ZWQgYXMgdW5rbm93biBhcyBPcmRpbmFsRGF0ZVRpbWUpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBjb25maWcubm9ybWFsaXplZCxcclxuICAgICAgICAgICAgW3RzRmluYWwsIG9mZnNldEZpbmFsXSA9IG9ialRvVFMoZ3JlZ29yaWFuIGFzIHVua25vd24gYXMgR3JlZ29yaWFuRGF0ZVRpbWUsIGNvbmZpZy5vZmZzZXRQcm92aXMsIGNvbmZpZy56b25lVG9Vc2UpLFxyXG4gICAgICAgICAgICBpbnN0ID0gbmV3IERhdGVUaW1lKHtcclxuICAgICAgICAgICAgICAgIHRzOiB0c0ZpbmFsLFxyXG4gICAgICAgICAgICAgICAgem9uZTogY29uZmlnLnpvbmVUb1VzZSxcclxuICAgICAgICAgICAgICAgIG86IG9mZnNldEZpbmFsLFxyXG4gICAgICAgICAgICAgICAgbG9jOiBjb25maWcubG9jXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBncmVnb3JpYW4gZGF0YSArIHdlZWtkYXkgc2VydmVzIG9ubHkgdG8gdmFsaWRhdGVcclxuICAgICAgICBpZiAoY29uZmlnLm5vcm1hbGl6ZWQud2Vla2RheSAmJiBjb25maWcuY29udGFpbnNHcmVnb3IgJiYgY29uZmlnLm9iai53ZWVrZGF5ICE9PSBpbnN0LndlZWtkYXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIERhdGVUaW1lLmludmFsaWQoXHJcbiAgICAgICAgICAgICAgICBcIm1pc21hdGNoZWQgd2Vla2RheVwiLFxyXG4gICAgICAgICAgICAgICAgYHlvdSBjYW4ndCBzcGVjaWZ5IGJvdGggYSB3ZWVrZGF5IG9mICR7Y29uZmlnLm5vcm1hbGl6ZWQud2Vla2RheX0gYW5kIGEgZGF0ZSBvZiAke2luc3QudG9JU08oKX1gXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gaW5zdDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc3RhdGljIF9sYXN0T3B0cyhhcmdMaXN0OiAobnVtYmVyIHwgRGF0ZVRpbWVPcHRpb25zKVtdKTogW0RhdGVUaW1lT3B0aW9ucywgbnVtYmVyW11dIHtcclxuICAgICAgICBsZXQgb3B0cyA9IHt9LFxyXG4gICAgICAgICAgICBhcmdzOiBudW1iZXJbXTtcclxuICAgICAgICAvLyBUaGVyZXMgYXQgbGVhc3QgMSBhcmd1bWVudCBhbmQgdGhlIGxhc3QgcG9zaXRpb24gaG9sZHMgdGhlIERhdGVUaW1lT3B0aW9uc1xyXG4gICAgICAgIGlmIChhcmdMaXN0Lmxlbmd0aCA+IDAgJiYgdHlwZW9mIGFyZ0xpc3RbYXJnTGlzdC5sZW5ndGggLSAxXSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICBvcHRzID0gYXJnTGlzdC5wb3AoKSBhcyBEYXRlVGltZU9wdGlvbnM7XHJcbiAgICAgICAgICAgIGFyZ3MgPSBhcmdMaXN0IGFzIG51bWJlcltdO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBXZSBleHBlY3QgZXZlcnl0aGluZyB0byBiZSBudW1iZXJcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgYXJncyA9IEFycmF5LmZyb20oYXJnTGlzdCkgYXMgbnVtYmVyW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbb3B0cywgYXJnc107XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICAvLyB0aGlzIGlzIGEgZHVtYmVkIGRvd24gdmVyc2lvbiBvZiBmcm9tT2JqZWN0KCkgdGhhdCBydW5zIGFib3V0IDYwJSBmYXN0ZXJcclxuICAgIC8vIGJ1dCBkb2Vzbid0IGRvIGFueSB2YWxpZGF0aW9uLCBtYWtlcyBhIGJ1bmNoIG9mIGFzc3VtcHRpb25zIGFib3V0IHdoYXQgdW5pdHNcclxuICAgIC8vIGFyZSBwcmVzZW50LCBhbmQgc28gb24uXHJcbiAgICBwcml2YXRlIHN0YXRpYyBfcXVpY2tEVChvYmo6IEdyZWdvcmlhbkRhdGVUaW1lLCBvcHRzOiBEYXRlVGltZU9wdGlvbnMpIHtcclxuICAgICAgICBjb25zdCB6b25lID0gbm9ybWFsaXplWm9uZShvcHRzLnpvbmUsIFNldHRpbmdzLmRlZmF1bHRab25lKSxcclxuICAgICAgICAgICAgbG9jID0gTG9jYWxlLmZyb21PYmplY3Qob3B0cyksXHJcbiAgICAgICAgICAgIHRzTm93ID0gU2V0dGluZ3Mubm93KCk7XHJcblxyXG4gICAgICAgIGxldCB0cywgbztcclxuXHJcbiAgICAgICAgLy8gYXNzdW1lIHdlIGhhdmUgdGhlIGhpZ2hlci1vcmRlciB1bml0c1xyXG4gICAgICAgIGlmIChpc0RlZmluZWQob2JqLnllYXIpKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgdSBvZiBvcmRlcmVkVW5pdHMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc1VuZGVmaW5lZChvYmpbdV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqW3VdID0gZGVmYXVsdFVuaXRWYWx1ZXNbdV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGludmFsaWQgPSBoYXNJbnZhbGlkR3JlZ29yaWFuRGF0YShvYmopIHx8IGhhc0ludmFsaWRUaW1lRGF0YShvYmopO1xyXG4gICAgICAgICAgICBpZiAoaW52YWxpZCkge1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBEYXRlVGltZS5pbnZhbGlkKGludmFsaWQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBvZmZzZXRQcm92aXMgPSB6b25lLm9mZnNldCh0c05vdyk7XHJcbiAgICAgICAgICAgIFt0cywgb10gPSBvYmpUb1RTKG9iaiwgb2Zmc2V0UHJvdmlzLCB6b25lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRzID0gdHNOb3c7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbmV3IERhdGVUaW1lKHsgdHMsIHpvbmUsIGxvYywgbyB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc3RhdGljIF9kaWZmUmVsYXRpdmUoc3RhcnQ6IERhdGVUaW1lLCBlbmQ6IERhdGVUaW1lLCBvcHRzOiBEaWZmUmVsYXRpdmVPcHRpb25zKSB7XHJcbiAgICAgICAgY29uc3Qgcm91bmQgPSBpc1VuZGVmaW5lZChvcHRzLnJvdW5kKSA/IHRydWUgOiBvcHRzLnJvdW5kLFxyXG4gICAgICAgICAgICBmb3JtYXQgPSAoYzogbnVtYmVyLCB1bml0OiBJbnRsLlJlbGF0aXZlVGltZUZvcm1hdFVuaXQpID0+IHtcclxuICAgICAgICAgICAgICAgIGMgPSByb3VuZFRvKGMsIHJvdW5kIHx8IG9wdHMuY2FsZW5kYXJ5ID8gMCA6IDIsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZm9ybWF0dGVyID0gZW5kLl9sb2MuY2xvbmUob3B0cykucmVsRm9ybWF0dGVyKG9wdHMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdHRlci5mb3JtYXQoYywgdW5pdCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRpZmZlciA9ICh1bml0OiBJbnRsLlJlbGF0aXZlVGltZUZvcm1hdFVuaXQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRzLmNhbGVuZGFyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZW5kLmhhc1NhbWUoc3RhcnQsIHVuaXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbmQuc3RhcnRPZih1bml0KS5kaWZmKHN0YXJ0LnN0YXJ0T2YodW5pdCksIHVuaXQpLmdldCh1bml0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZW5kLmRpZmYoc3RhcnQsIHVuaXQpLmdldCh1bml0KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaWYgKG9wdHMudW5pdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0KGRpZmZlcihvcHRzLnVuaXQpLCBvcHRzLnVuaXQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChjb25zdCB1bml0IG9mIG9wdHMudW5pdHMpIHtcclxuICAgICAgICAgICAgY29uc3QgY291bnQgPSBkaWZmZXIodW5pdCk7XHJcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhjb3VudCkgPj0gMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdChjb3VudCwgdW5pdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmb3JtYXQoc3RhcnQgPiBlbmQgPyAtMCA6IDAsIG9wdHMudW5pdHNbb3B0cy51bml0cy5sZW5ndGggLSAxXSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHN0YXRpYyBfdW5zdXBwb3J0ZWRab25lKHpvbmU6IFpvbmUpOiBJbnZhbGlkIHtcclxuICAgICAgICByZXR1cm4gbmV3IEludmFsaWQoXCJ1bnN1cHBvcnRlZCB6b25lXCIsIGB0aGUgem9uZSBcIiR7em9uZS5uYW1lfVwiIGlzIG5vdCBzdXBwb3J0ZWRgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJTkZPXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIHZhbHVlIG9mIHVuaXQuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdW5pdCAtIGEgdW5pdCBzdWNoIGFzICdtaW51dGUnIG9yICdkYXknXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE3LCA3LCA0KS5nZXQoJ21vbnRoJyk7IC8vPT4gN1xyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNywgNywgNCkuZ2V0KCdkYXknKTsgLy89PiA0XHJcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIGdldCh1bml0OiBzdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gdGhpc1t1bml0IGFzIGtleW9mIERhdGVUaW1lXTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIHJlc29sdmVkIEludGwgb3B0aW9ucyBmb3IgdGhpcyBEYXRlVGltZS5cclxuICAgICAqIFRoaXMgaXMgdXNlZnVsIGluIHVuZGVyc3RhbmRpbmcgdGhlIGJlaGF2aW9yIG9mIGZvcm1hdHRpbmcgbWV0aG9kc1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSB0aGUgc2FtZSBvcHRpb25zIGFzIHRvTG9jYWxlU3RyaW5nXHJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHJlc29sdmVkTG9jYWxlT3B0aW9ucyhvcHRzID0ge30pIHtcclxuICAgICAgICBjb25zdCB7IGxvY2FsZSwgbnVtYmVyaW5nU3lzdGVtLCBjYWxlbmRhciB9ID0gRm9ybWF0dGVyLmNyZWF0ZShcclxuICAgICAgICAgICAgdGhpcy5fbG9jLmNsb25lKG9wdHMpLFxyXG4gICAgICAgICAgICBvcHRzXHJcbiAgICAgICAgKS5yZXNvbHZlZE9wdGlvbnModGhpcyk7XHJcblxyXG4gICAgICAgIHJldHVybiB7IGxvY2FsZSwgbnVtYmVyaW5nU3lzdGVtLCBvdXRwdXRDYWxlbmRhcjogY2FsZW5kYXIgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUUkFOU0ZPUk1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFwiU2V0XCIgdGhlIERhdGVUaW1lJ3Mgem9uZSB0byB0aGUgaG9zdCdzIGxvY2FsIHpvbmUuIFJldHVybnMgYSBuZXdseS1jb25zdHJ1Y3RlZCBEYXRlVGltZS5cclxuICAgICAqXHJcbiAgICAgKiBFcXVpdmFsZW50IHRvIGBzZXRab25lKCdsb2NhbCcpYFxyXG4gICAgICogQHJldHVybiB7RGF0ZVRpbWV9XHJcbiAgICAgKi9cclxuICAgIHRvTG9jYWwoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0Wm9uZShTZXR0aW5ncy5kZWZhdWx0Wm9uZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcIlNldFwiIHRoZSBEYXRlVGltZSdzIHpvbmUgdG8gVVRDLiBSZXR1cm5zIGEgbmV3bHktY29uc3RydWN0ZWQgRGF0ZVRpbWUuXHJcbiAgICAgKlxyXG4gICAgICogRXF1aXZhbGVudCB0byB7QGxpbmsgc2V0Wm9uZX0oJ3V0YycpXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29mZnNldD0wXSAtIG9wdGlvbmFsbHksIGFuIG9mZnNldCBmcm9tIFVUQyBpbiBtaW51dGVzXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdHM9e31dIC0gb3B0aW9ucyB0byBwYXNzIHRvIGBzZXRab25lKClgXHJcbiAgICAgKiBAcmV0dXJuIHtEYXRlVGltZX1cclxuICAgICAqL1xyXG4gICAgdG9VVEMob2Zmc2V0ID0gMCwgb3B0czogU2V0Wm9uZU9wdGlvbnMgPSB7fSk6IERhdGVUaW1lIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZXRab25lKEZpeGVkT2Zmc2V0Wm9uZS5pbnN0YW5jZShvZmZzZXQpLCBvcHRzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFwiU2V0XCIgdGhlIERhdGVUaW1lJ3Mgem9uZSB0byBzcGVjaWZpZWQgem9uZS4gUmV0dXJucyBhIG5ld2x5LWNvbnN0cnVjdGVkIERhdGVUaW1lLlxyXG4gICAgICpcclxuICAgICAqIEJ5IGRlZmF1bHQsIHRoZSBzZXR0ZXIga2VlcHMgdGhlIHVuZGVybHlpbmcgaW5zdGFudCB0aGUgc2FtZSAoYXMgaW4sIHRoZSBzYW1lIHRpbWVzdGFtcCksIGJ1dCB0aGUgbmV3IGluc3RhbmNlIHdpbGwgcmVwb3J0IGRpZmZlcmVudCBsb2NhbCB0aW1lIGFuZCBjb25zaWRlciBEU1RzIHdoZW4gbWFraW5nIGNvbXB1dGF0aW9ucywgYXMgd2l0aCB7QGxpbmsgRGF0ZVRpbWUjcGx1c30uIFlvdSBtYXkgd2lzaCB0byB1c2Uge0BsaW5rIERhdGVUaW1lI3RvU3lzdGVtWm9uZX0gYW5kIHtAbGluayBEYXRlVGltZSN0b1VUQ30gd2hpY2ggcHJvdmlkZSBzaW1wbGUgY29udmVuaWVuY2Ugd3JhcHBlcnMgZm9yIGNvbW1vbmx5IHVzZWQgem9uZXMuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xab25lfSBbem9uZT0nZGVmYXVsdCddIC0gYSB6b25lIGlkZW50aWZpZXIuIEFzIGEgc3RyaW5nLCB0aGF0IGNhbiBiZSBhbnkgSUFOQSB6b25lIHN1cHBvcnRlZCBieSB0aGUgaG9zdCBlbnZpcm9ubWVudCwgb3IgYSBmaXhlZC1vZmZzZXQgbmFtZSBvZiB0aGUgZm9ybSAnVVRDKzMnLCBvciB0aGUgc3RyaW5ncyAnZGVmYXVsdCcsICdzeXN0ZW0nIG9yICd1dGMnLiBZb3UgbWF5IGFsc28gc3VwcGx5IGFuIGluc3RhbmNlIG9mIGEge0BsaW5rIFpvbmV9IGNsYXNzLlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmtlZXBMb2NhbFRpbWU9ZmFsc2VdIC0gSWYgdHJ1ZSwgYWRqdXN0IHRoZSB1bmRlcmx5aW5nIHRpbWUgc28gdGhhdCB0aGUgbG9jYWwgdGltZSBzdGF5cyB0aGUgc2FtZSwgYnV0IGluIHRoZSB0YXJnZXQgem9uZS4gWW91IHNob3VsZCByYXJlbHkgbmVlZCB0aGlzLlxyXG4gICAgICogQHJldHVybiB7RGF0ZVRpbWV9XHJcbiAgICAgKi9cclxuICAgIHNldFpvbmUoem9uZTogWm9uZUxpa2UsIHsga2VlcExvY2FsVGltZSA9IGZhbHNlLCBrZWVwQ2FsZW5kYXJUaW1lID0gZmFsc2UgfTogU2V0Wm9uZU9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgIHpvbmUgPSBub3JtYWxpemVab25lKHpvbmUsIFNldHRpbmdzLmRlZmF1bHRab25lKTtcclxuICAgICAgICBpZiAoem9uZS5lcXVhbHModGhpcy56b25lKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIXpvbmUuaXNWYWxpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gRGF0ZVRpbWUuaW52YWxpZChEYXRlVGltZS5fdW5zdXBwb3J0ZWRab25lKHpvbmUpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBuZXdUUyA9IHRoaXMuX3RzO1xyXG4gICAgICAgICAgICBpZiAoa2VlcExvY2FsVGltZSB8fCBrZWVwQ2FsZW5kYXJUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXRHdWVzcyA9IHpvbmUub2Zmc2V0KHRoaXMuX3RzKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFzT2JqID0gdGhpcy50b09iamVjdCgpO1xyXG4gICAgICAgICAgICAgICAgbmV3VFMgPSBvYmpUb1RTKGFzT2JqLCBvZmZzZXRHdWVzcywgem9uZSlbMF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Nsb25lKHsgdHM6IG5ld1RTLCB6b25lIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFwiU2V0XCIgdGhlIGxvY2FsZSwgbnVtYmVyaW5nU3lzdGVtLCBvciBvdXRwdXRDYWxlbmRhci4gUmV0dXJucyBhIG5ld2x5LWNvbnN0cnVjdGVkIERhdGVUaW1lLlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIHRoZSBvcHRpb25zIHRvIHNldFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmxvY2FsZV0gLSA7XHJcbiAgICAgKiBAcGFyYW0ge0NhbGVuZGFyU3lzdGVtfSBbb3B0aW9ucy5vdXRwdXRDYWxlbmRhcl0gLSA7XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcmluZ1N5c3RlbX0gW29wdGlvbnMubnVtYmVyaW5nU3lzdGVtXSAtIDtcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTcsIDUsIDI1KS5yZWNvbmZpZ3VyZSh7IGxvY2FsZTogJ2VuLUdCJyB9KVxyXG4gICAgICogQHJldHVybiB7RGF0ZVRpbWV9XHJcbiAgICAgKi9cclxuICAgIHJlY29uZmlndXJlKG9wdGlvbnM6IExvY2FsZU9wdGlvbnMpOiBEYXRlVGltZSB7XHJcbiAgICAgICAgY29uc3QgbG9jID0gdGhpcy5fbG9jLmNsb25lKG9wdGlvbnMpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jbG9uZSh7IGxvYyB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFwiU2V0XCIgdGhlIGxvY2FsZS4gUmV0dXJucyBhIG5ld2x5LWNvbnN0cnVjdGVkIERhdGVUaW1lLlxyXG4gICAgICogSnVzdCBhIGNvbnZlbmllbnQgYWxpYXMgZm9yIHJlY29uZmlndXJlKHsgbG9jYWxlIH0pXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE3LCA1LCAyNSkuc2V0TG9jYWxlKCdlbi1HQicpXHJcbiAgICAgKiBAcmV0dXJuIHtEYXRlVGltZX1cclxuICAgICAqL1xyXG4gICAgc2V0TG9jYWxlKGxvY2FsZTogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVjb25maWd1cmUoeyBsb2NhbGUgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcIlNldFwiIHRoZSB2YWx1ZXMgb2Ygc3BlY2lmaWVkIHVuaXRzLiBSZXR1cm5zIGEgbmV3bHktY29uc3RydWN0ZWQgRGF0ZVRpbWUuXHJcbiAgICAgKiBZb3UgY2FuIG9ubHkgc2V0IHVuaXRzIHdpdGggdGhpcyBtZXRob2Q7IGZvciBcInNldHRpbmdcIiBtZXRhZGF0YSwgc2VlIHtAbGluayBEYXRlVGltZSNyZWNvbmZpZ3VyZX0gYW5kIHtAbGluayBEYXRlVGltZSNzZXRab25lfS5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZXMgLSBhIG1hcHBpbmcgb2YgdW5pdHMgdG8gbnVtYmVyc1xyXG4gICAgICogQGV4YW1wbGUgZHQuc2V0KHsgeWVhcjogMjAxNyB9KVxyXG4gICAgICogQGV4YW1wbGUgZHQuc2V0KHsgaG91cjogOCwgbWludXRlOiAzMCB9KVxyXG4gICAgICogQGV4YW1wbGUgZHQuc2V0KHsgd2Vla2RheTogNSB9KVxyXG4gICAgICogQGV4YW1wbGUgZHQuc2V0KHsgeWVhcjogMjAwNSwgb3JkaW5hbDogMjM0IH0pXHJcbiAgICAgKiBAcmV0dXJuIHtEYXRlVGltZX1cclxuICAgICAqL1xyXG4gICAgc2V0KHZhbHVlczogR2VuZXJpY0RhdGVUaW1lIHwgR2VuZXJpY0RhdGVUaW1lUGx1cmFscyk6IERhdGVUaW1lIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVPYmplY3QodmFsdWVzLCBub3JtYWxpemVVbml0KSxcclxuICAgICAgICAgICAgc2V0dGluZ1dlZWtTdHVmZiA9IGlzRGVmaW5lZChub3JtYWxpemVkLndlZWtZZWFyKSB8fCBpc0RlZmluZWQobm9ybWFsaXplZC53ZWVrTnVtYmVyKSB8fCBpc0RlZmluZWQobm9ybWFsaXplZC53ZWVrZGF5KTtcclxuXHJcbiAgICAgICAgY29uc3QgY29udGFpbnNPcmRpbmFsID0gaXNEZWZpbmVkKG5vcm1hbGl6ZWQub3JkaW5hbCksXHJcbiAgICAgICAgICAgIGNvbnRhaW5zR3JlZ29yWWVhciA9IGlzRGVmaW5lZChub3JtYWxpemVkLnllYXIpLFxyXG4gICAgICAgICAgICBjb250YWluc0dyZWdvck1EID0gaXNEZWZpbmVkKG5vcm1hbGl6ZWQubW9udGgpIHx8IGlzRGVmaW5lZChub3JtYWxpemVkLmRheSksXHJcbiAgICAgICAgICAgIGNvbnRhaW5zR3JlZ29yID0gY29udGFpbnNHcmVnb3JZZWFyIHx8IGNvbnRhaW5zR3JlZ29yTUQsXHJcbiAgICAgICAgICAgIGRlZmluaXRlV2Vla0RlZiA9IG5vcm1hbGl6ZWQud2Vla1llYXIgfHwgbm9ybWFsaXplZC53ZWVrTnVtYmVyO1xyXG5cclxuICAgICAgICBpZiAoKGNvbnRhaW5zR3JlZ29yIHx8IGNvbnRhaW5zT3JkaW5hbCkgJiYgZGVmaW5pdGVXZWVrRGVmKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBDb25mbGljdGluZ1NwZWNpZmljYXRpb25FcnJvcihcclxuICAgICAgICAgICAgICAgIFwiQ2FuJ3QgbWl4IHdlZWtZZWFyL3dlZWtOdW1iZXIgdW5pdHMgd2l0aCB5ZWFyL21vbnRoL2RheSBvciBvcmRpbmFsc1wiXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY29udGFpbnNHcmVnb3JNRCAmJiBjb250YWluc09yZGluYWwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IENvbmZsaWN0aW5nU3BlY2lmaWNhdGlvbkVycm9yKFwiQ2FuJ3QgbWl4IG9yZGluYWwgZGF0ZXMgd2l0aCBtb250aC9kYXlcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgbWl4ZWQ7XHJcbiAgICAgICAgaWYgKHNldHRpbmdXZWVrU3R1ZmYpIHtcclxuICAgICAgICAgICAgbWl4ZWQgPSB3ZWVrVG9HcmVnb3JpYW4oeyAuLi5ncmVnb3JpYW5Ub1dlZWsodGhpcy5fYyksIC4uLm5vcm1hbGl6ZWQgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCFpc1VuZGVmaW5lZChub3JtYWxpemVkLm9yZGluYWwpKSB7XHJcbiAgICAgICAgICAgIG1peGVkID0gb3JkaW5hbFRvR3JlZ29yaWFuKHsgLi4uZ3JlZ29yaWFuVG9PcmRpbmFsKHRoaXMuX2MpLCAuLi5ub3JtYWxpemVkIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbWl4ZWQgPSB7IC4uLnRoaXMudG9PYmplY3QoKSwgLi4ubm9ybWFsaXplZCB9O1xyXG5cclxuICAgICAgICAgICAgLy8gaWYgd2UgZGlkbid0IHNldCB0aGUgZGF5IGJ1dCB3ZSBlbmRlZCB1cCBvbiBhbiBvdmVyZmxvdyBkYXRlLFxyXG4gICAgICAgICAgICAvLyB1c2UgdGhlIGxhc3QgZGF5IG9mIHRoZSByaWdodCBtb250aFxyXG4gICAgICAgICAgICBpZiAoaXNVbmRlZmluZWQobm9ybWFsaXplZC5kYXkpKSB7XHJcbiAgICAgICAgICAgICAgICBtaXhlZC5kYXkgPSBNYXRoLm1pbihkYXlzSW5Nb250aChtaXhlZC55ZWFyLCBtaXhlZC5tb250aCksIG1peGVkLmRheSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IFt0cywgb10gPSBvYmpUb1RTKG1peGVkLCB0aGlzLl9vLCB0aGlzLnpvbmUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jbG9uZSh7IHRzLCBvIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkIGEgcGVyaW9kIG9mIHRpbWUgdG8gdGhpcyBEYXRlVGltZSBhbmQgcmV0dXJuIHRoZSByZXN1bHRpbmcgRGF0ZVRpbWVcclxuICAgICAqXHJcbiAgICAgKiBBZGRpbmcgaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMsIG9yIG1pbGxpc2Vjb25kcyBpbmNyZWFzZXMgdGhlIHRpbWVzdGFtcCBieSB0aGUgcmlnaHQgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcy4gQWRkaW5nIGRheXMsIG1vbnRocywgb3IgeWVhcnMgc2hpZnRzIHRoZSBjYWxlbmRhciwgYWNjb3VudGluZyBmb3IgRFNUcyBhbmQgbGVhcCB5ZWFycyBhbG9uZyB0aGUgd2F5LiBUaHVzLCBgZHQucGx1cyh7IGhvdXJzOiAyNCB9KWAgbWF5IHJlc3VsdCBpbiBhIGRpZmZlcmVudCB0aW1lIHRoYW4gYGR0LnBsdXMoeyBkYXlzOiAxIH0pYCBpZiB0aGVyZSdzIGEgRFNUIHNoaWZ0IGluIGJldHdlZW4uXHJcbiAgICAgKiBAcGFyYW0ge0R1cmF0aW9ufE9iamVjdH0gZHVyYXRpb24gLSBUaGUgYW1vdW50IHRvIGFkZC4gRWl0aGVyIGEgTHV4b24gRHVyYXRpb24gb3IgdGhlIG9iamVjdCBhcmd1bWVudCB0byBEdXJhdGlvbi5mcm9tT2JqZWN0KClcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnBsdXMoMTIzKSAvL34+IGluIDEyMyBtaWxsaXNlY29uZHNcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnBsdXMoeyBtaW51dGVzOiAxNSB9KSAvL34+IGluIDE1IG1pbnV0ZXNcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnBsdXMoeyBkYXlzOiAxIH0pIC8vfj4gdGhpcyB0aW1lIHRvbW9ycm93XHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS5wbHVzKHsgZGF5czogLTEgfSkgLy9+PiB0aGlzIHRpbWUgeWVzdGVyZGF5XHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS5wbHVzKHsgaG91cnM6IDMsIG1pbnV0ZXM6IDEzIH0pIC8vfj4gaW4gMyBociwgMTMgbWluXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS5wbHVzKER1cmF0aW9uLmZyb21PYmplY3QoeyBob3VyczogMywgbWludXRlczogMTMgfSkpIC8vfj4gaW4gMyBociwgMTMgbWluXHJcbiAgICAgKiBAcmV0dXJuIHtEYXRlVGltZX1cclxuICAgICAqL1xyXG4gICAgcGx1cyhkdXJhdGlvbjogRHVyYXRpb25MaWtlIHwgbnVtYmVyKTogRGF0ZVRpbWUge1xyXG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBkdXIgPSBEdXJhdGlvbi5mcm9tRHVyYXRpb25MaWtlKGR1cmF0aW9uKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Nsb25lKHRoaXMuX2FkanVzdFRpbWUoZHVyKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdWJ0cmFjdCBhIHBlcmlvZCBvZiB0aW1lIHRvIHRoaXMgRGF0ZVRpbWUgYW5kIHJldHVybiB0aGUgcmVzdWx0aW5nIERhdGVUaW1lXHJcbiAgICAgKiBTZWUge0BsaW5rIERhdGVUaW1lI3BsdXN9XHJcbiAgICAgKiBAcGFyYW0ge0R1cmF0aW9ufE9iamVjdHxudW1iZXJ9IGR1cmF0aW9uIC0gVGhlIGFtb3VudCB0byBzdWJ0cmFjdC4gRWl0aGVyIGEgTHV4b24gRHVyYXRpb24sIGEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcywgdGhlIG9iamVjdCBhcmd1bWVudCB0byBEdXJhdGlvbi5mcm9tT2JqZWN0KClcclxuICAgICBAcmV0dXJuIHtEYXRlVGltZX1cclxuICAgICAqL1xyXG4gICAgbWludXMoZHVyYXRpb246IER1cmF0aW9uTGlrZSB8IG51bWJlcik6IERhdGVUaW1lIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZHVyID0gRHVyYXRpb24uZnJvbUR1cmF0aW9uTGlrZShkdXJhdGlvbikubmVnYXRlKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Nsb25lKHRoaXMuX2FkanVzdFRpbWUoZHVyKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcIlNldFwiIHRoaXMgRGF0ZVRpbWUgdG8gdGhlIGJlZ2lubmluZyBvZiBhIHVuaXQgb2YgdGltZS5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1bml0IC0gVGhlIHVuaXQgdG8gZ28gdG8gdGhlIGJlZ2lubmluZyBvZi4gQ2FuIGJlICd5ZWFyJywgJ3F1YXJ0ZXInLCAnbW9udGgnLCAnd2VlaycsICdkYXknLCAnaG91cicsICdtaW51dGUnLCAnc2Vjb25kJywgb3IgJ21pbGxpc2Vjb25kJy5cclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTQsIDMsIDMpLnN0YXJ0T2YoJ21vbnRoJykudG9JU09EYXRlKCk7IC8vPT4gJzIwMTQtMDMtMDEnXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE0LCAzLCAzKS5zdGFydE9mKCd5ZWFyJykudG9JU09EYXRlKCk7IC8vPT4gJzIwMTQtMDEtMDEnXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE0LCAzLCAzLCA1LCAzMCkuc3RhcnRPZignd2VlaycpLnRvSVNPVGltZSgpOyAvLz0+ICcyMDE0LTAzLTAzJywgd2Vla3MgYWx3YXlzIHN0YXJ0IG9uIGEgTW9uZGF5XHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE0LCAzLCAzLCA1LCAzMCkuc3RhcnRPZignZGF5JykudG9JU09UaW1lKCk7IC8vPT4gJzAwOjAwLjAwMC0wNTowMCdcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTQsIDMsIDMsIDUsIDMwKS5zdGFydE9mKCdob3VyJykudG9JU09UaW1lKCk7IC8vPT4gJzA1OjAwOjAwLjAwMC0wNTowMCdcclxuICAgICAqIEByZXR1cm4ge0RhdGVUaW1lfVxyXG4gICAgICovXHJcbiAgICBzdGFydE9mKHVuaXQ6IER1cmF0aW9uVW5pdCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBvOiBHZW5lcmljRGF0ZVRpbWUgPSB7fSxcclxuICAgICAgICAgICAgbm9ybWFsaXplZFVuaXQgPSBEdXJhdGlvbi5ub3JtYWxpemVVbml0KHVuaXQpO1xyXG4gICAgICAgIHN3aXRjaCAobm9ybWFsaXplZFVuaXQpIHtcclxuICAgICAgICAgICAgY2FzZSBcInllYXJzXCI6XHJcbiAgICAgICAgICAgICAgICBvLm1vbnRoID0gMTtcclxuICAgICAgICAgICAgLy8gZmFsbHMgdGhyb3VnaFxyXG4gICAgICAgICAgICBjYXNlIFwicXVhcnRlcnNcIjpcclxuICAgICAgICAgICAgY2FzZSBcIm1vbnRoc1wiOlxyXG4gICAgICAgICAgICAgICAgby5kYXkgPSAxO1xyXG4gICAgICAgICAgICAvLyBmYWxscyB0aHJvdWdoXHJcbiAgICAgICAgICAgIGNhc2UgXCJ3ZWVrc1wiOlxyXG4gICAgICAgICAgICBjYXNlIFwiZGF5c1wiOlxyXG4gICAgICAgICAgICAgICAgby5ob3VyID0gMDtcclxuICAgICAgICAgICAgLy8gZmFsbHMgdGhyb3VnaFxyXG4gICAgICAgICAgICBjYXNlIFwiaG91cnNcIjpcclxuICAgICAgICAgICAgICAgIG8ubWludXRlID0gMDtcclxuICAgICAgICAgICAgLy8gZmFsbHMgdGhyb3VnaFxyXG4gICAgICAgICAgICBjYXNlIFwibWludXRlc1wiOlxyXG4gICAgICAgICAgICAgICAgby5zZWNvbmQgPSAwO1xyXG4gICAgICAgICAgICAvLyBmYWxscyB0aHJvdWdoXHJcbiAgICAgICAgICAgIGNhc2UgXCJzZWNvbmRzXCI6XHJcbiAgICAgICAgICAgICAgICBvLm1pbGxpc2Vjb25kID0gMDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwibWlsbGlzZWNvbmRzXCI6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gbm8gZGVmYXVsdCwgaW52YWxpZCB1bml0cyB0aHJvdyBpbiBub3JtYWxpemVVbml0KClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChub3JtYWxpemVkVW5pdCA9PT0gXCJ3ZWVrc1wiKSB7XHJcbiAgICAgICAgICAgIG8ud2Vla2RheSA9IDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobm9ybWFsaXplZFVuaXQgPT09IFwicXVhcnRlcnNcIikge1xyXG4gICAgICAgICAgICBjb25zdCBxID0gTWF0aC5jZWlsKHRoaXMubW9udGggLyAzKTtcclxuICAgICAgICAgICAgby5tb250aCA9IChxIC0gMSkgKiAzICsgMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnNldChvKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFwiU2V0XCIgdGhpcyBEYXRlVGltZSB0byB0aGUgZW5kIChtZWFuaW5nIHRoZSBsYXN0IG1pbGxpc2Vjb25kKSBvZiBhIHVuaXQgb2YgdGltZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVuaXQgLSBUaGUgdW5pdCB0byBnbyB0byB0aGUgZW5kIG9mLiBDYW4gYmUgJ3llYXInLCAncXVhcnRlcicsICdtb250aCcsICd3ZWVrJywgJ2RheScsICdob3VyJywgJ21pbnV0ZScsICdzZWNvbmQnLCBvciAnbWlsbGlzZWNvbmQnLlxyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNCwgMywgMykuZW5kT2YoJ21vbnRoJykudG9JU08oKTsgLy89PiAnMjAxNC0wMy0zMVQyMzo1OTo1OS45OTktMDU6MDAnXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE0LCAzLCAzKS5lbmRPZigneWVhcicpLnRvSVNPKCk7IC8vPT4gJzIwMTQtMTItMzFUMjM6NTk6NTkuOTk5LTA1OjAwJ1xyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubG9jYWwoMjAxNCwgMywgMywgNSwgMzApLmVuZE9mKCdkYXknKS50b0lTTygpOyAvLz0+ICcyMDE0LTAzLTAzVDIzOjU5OjU5Ljk5OS0wNTowMCdcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTQsIDMsIDMsIDUsIDMwKS5lbmRPZignaG91cicpLnRvSVNPKCk7IC8vPT4gJzIwMTQtMDMtMDNUMDU6NTk6NTkuOTk5LTA1OjAwJ1xyXG4gICAgICogQHJldHVybiB7RGF0ZVRpbWV9XHJcbiAgICAgKi9cclxuICAgIGVuZE9mKHVuaXQ6IER1cmF0aW9uVW5pdCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBsdXMoeyBbdW5pdF06IDEgfSlcclxuICAgICAgICAgICAgLnN0YXJ0T2YodW5pdClcclxuICAgICAgICAgICAgLm1pbnVzKHsgbWlsbGlzZWNvbmRzOiAxIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIERhdGVUaW1lIGZvcm1hdHRlZCBhY2NvcmRpbmcgdG8gdGhlIHNwZWNpZmllZCBmb3JtYXQgc3RyaW5nLlxyXG4gICAgICogKipZb3UgbWF5IG5vdCB3YW50IHRoaXMuKiogU2VlIHtAbGluayBEYXRlVGltZSN0b0xvY2FsZVN0cmluZ30gZm9yIGEgbW9yZSBmbGV4aWJsZSBmb3JtYXR0aW5nIHRvb2wuIEZvciBhIHRhYmxlIG9mIHRva2VucyBhbmQgdGhlaXIgaW50ZXJwcmV0YXRpb25zLCBzZWUgW2hlcmVdKGh0dHBzOi8vbW9tZW50LmdpdGh1Yi5pby9sdXhvbi8jL2Zvcm1hdHRpbmc/aWQ9dGFibGUtb2YtdG9rZW5zKS5cclxuICAgICAqIERlZmF1bHRzIHRvIGVuLVVTIGlmIG5vIGxvY2FsZSBoYXMgYmVlbiBzcGVjaWZpZWQsIHJlZ2FyZGxlc3Mgb2YgdGhlIHN5c3RlbSdzIGxvY2FsZS5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmbXQgLSB0aGUgZm9ybWF0IHN0cmluZ1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRzIHRvIG92ZXJyaWRlIHRoZSBjb25maWd1cmF0aW9uIG9wdGlvbnMgb24gdGhpcyBEYXRlVGltZVxyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkudG9Gb3JtYXQoJ3l5eXkgTExMIGRkJykgLy89PiAnMjAxNyBBcHIgMjInXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS5zZXRMb2NhbGUoJ2ZyJykudG9Gb3JtYXQoJ3l5eXkgTExMIGRkJykgLy89PiAnMjAxNyBhdnIuIDIyJ1xyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkudG9Gb3JtYXQoJ3l5eXkgTExMIGRkJywgeyBsb2NhbGU6IFwiZnJcIiB9KSAvLz0+ICcyMDE3IGF2ci4gMjInXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS50b0Zvcm1hdChcIkhIICdob3VycyBhbmQnIG1tICdtaW51dGVzJ1wiKSAvLz0+ICcyMCBob3VycyBhbmQgNTUgbWludXRlcydcclxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgdG9Gb3JtYXQoZm10OiBzdHJpbmcsIG9wdHM6IERhdGVUaW1lT3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZFxyXG4gICAgICAgICAgICA/IEZvcm1hdHRlci5jcmVhdGUodGhpcy5fbG9jLnJlZGVmYXVsdFRvRU4ob3B0cykpLmZvcm1hdERhdGVUaW1lRnJvbVN0cmluZyh0aGlzLCBmbXQpXHJcbiAgICAgICAgICAgIDogSU5WQUxJRDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSBsb2NhbGl6ZWQgc3RyaW5nIHJlcHJlc2VudGluZyB0aGlzIGRhdGUuIEFjY2VwdHMgdGhlIHNhbWUgb3B0aW9ucyBhcyB0aGUgSW50bC5EYXRlVGltZUZvcm1hdCBjb25zdHJ1Y3RvciBhbmQgYW55IHByZXNldHMgZGVmaW5lZCBieSBMdXhvbiwgc3VjaCBhcyBgRGF0ZVRpbWUuREFURV9GVUxMYCBvciBgRGF0ZVRpbWUuVElNRV9TSU1QTEVgLlxyXG4gICAgICogVGhlIGV4YWN0IGJlaGF2aW9yIG9mIHRoaXMgbWV0aG9kIGlzIGJyb3dzZXItc3BlY2lmaWMsIGJ1dCBpbiBnZW5lcmFsIGl0IHdpbGwgcmV0dXJuIGFuIGFwcHJvcHJpYXRlIHJlcHJlc2VudGF0aW9uXHJcbiAgICAgKiBvZiB0aGUgRGF0ZVRpbWUgaW4gdGhlIGFzc2lnbmVkIGxvY2FsZS5cclxuICAgICAqIERlZmF1bHRzIHRvIHRoZSBzeXN0ZW0ncyBsb2NhbGUgaWYgbm8gbG9jYWxlIGhhcyBiZWVuIHNwZWNpZmllZFxyXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9EYXRlVGltZUZvcm1hdFxyXG4gICAgICogQHBhcmFtIGZvcm1hdE9wdHMge09iamVjdH0gLSBJbnRsLkRhdGVUaW1lRm9ybWF0IGNvbnN0cnVjdG9yIG9wdGlvbnMgYW5kIGNvbmZpZ3VyYXRpb24gb3B0aW9uc1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRzIHRvIG92ZXJyaWRlIHRoZSBjb25maWd1cmF0aW9uIG9wdGlvbnMgb24gdGhpcyBEYXRlVGltZVxyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkudG9Mb2NhbGVTdHJpbmcoKTsgLy89PiA0LzIwLzIwMTdcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnNldExvY2FsZSgnZW4tZ2InKS50b0xvY2FsZVN0cmluZygpOyAvLz0+ICcyMC8wNC8yMDE3J1xyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkudG9Mb2NhbGVTdHJpbmcoeyBsb2NhbGU6ICdlbi1nYicgfSk7IC8vPT4gJzIwLzA0LzIwMTcnXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS50b0xvY2FsZVN0cmluZyhEYXRlVGltZS5EQVRFX0ZVTEwpOyAvLz0+ICdBcHJpbCAyMCwgMjAxNydcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnRvTG9jYWxlU3RyaW5nKERhdGVUaW1lLlRJTUVfU0lNUExFKTsgLy89PiAnMTE6MzIgQU0nXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS50b0xvY2FsZVN0cmluZyhEYXRlVGltZS5EQVRFVElNRV9TSE9SVCk7IC8vPT4gJzQvMjAvMjAxNywgMTE6MzIgQU0nXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS50b0xvY2FsZVN0cmluZyh7IHdlZWtkYXk6ICdsb25nJywgbW9udGg6ICdsb25nJywgZGF5OiAnMi1kaWdpdCcgfSk7IC8vPT4gJ1RodXJzZGF5LCBBcHJpbCAyMCdcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnRvTG9jYWxlU3RyaW5nKHsgd2Vla2RheTogJ3Nob3J0JywgbW9udGg6ICdzaG9ydCcsIGRheTogJzItZGlnaXQnLCBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnIH0pOyAvLz0+ICdUaHUsIEFwciAyMCwgMTE6MjcgQU0nXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS50b0xvY2FsZVN0cmluZyh7IGhvdXI6ICcyLWRpZ2l0JywgbWludXRlOiAnMi1kaWdpdCcsIGhvdXJDeWNsZTogJ2gyMycgfSk7IC8vPT4gJzExOjMyJ1xyXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICB0b0xvY2FsZVN0cmluZyhmb3JtYXRPcHRzOiBJbnRsLkRhdGVUaW1lRm9ybWF0T3B0aW9ucyAmIExvY2FsZU9wdGlvbnMgPSBGb3JtYXRzLkRBVEVfU0hPUlQsIG9wdHM6IERhdGVUaW1lT3B0aW9ucyA9IHt9KTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkXHJcbiAgICAgICAgICAgID8gRm9ybWF0dGVyLmNyZWF0ZSh0aGlzLl9sb2MuY2xvbmUob3B0cyksIGZvcm1hdE9wdHMpLmZvcm1hdERhdGVUaW1lKHRoaXMpXHJcbiAgICAgICAgICAgIDogSU5WQUxJRDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgZm9ybWF0IFwicGFydHNcIiwgbWVhbmluZyBpbmRpdmlkdWFsIHRva2VucyBhbG9uZyB3aXRoIG1ldGFkYXRhLiBUaGlzIGlzIGFsbG93cyBjYWxsZXJzIHRvIHBvc3QtcHJvY2VzcyBpbmRpdmlkdWFsIHNlY3Rpb25zIG9mIHRoZSBmb3JtYXR0ZWQgb3V0cHV0LlxyXG4gICAgICogRGVmYXVsdHMgdG8gdGhlIHN5c3RlbSdzIGxvY2FsZSBpZiBubyBsb2NhbGUgaGFzIGJlZW4gc3BlY2lmaWVkXHJcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0RhdGVUaW1lRm9ybWF0L2Zvcm1hdFRvUGFydHNcclxuICAgICAqIEBwYXJhbSBvcHRzIHtPYmplY3R9IC0gSW50bC5EYXRlVGltZUZvcm1hdCBjb25zdHJ1Y3RvciBvcHRpb25zLCBzYW1lIGFzIGB0b0xvY2FsZVN0cmluZ2AuXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS50b0xvY2FsZVBhcnRzKCk7IC8vPT4gW1xyXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vPT4gICB7IHR5cGU6ICdkYXknLCB2YWx1ZTogJzI1JyB9LFxyXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vPT4gICB7IHR5cGU6ICdsaXRlcmFsJywgdmFsdWU6ICcvJyB9LFxyXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vPT4gICB7IHR5cGU6ICdtb250aCcsIHZhbHVlOiAnMDUnIH0sXHJcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy89PiAgIHsgdHlwZTogJ2xpdGVyYWwnLCB2YWx1ZTogJy8nIH0sXHJcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy89PiAgIHsgdHlwZTogJ3llYXInLCB2YWx1ZTogJzE5ODInIH1cclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLz0+IF1cclxuICAgICAqL1xyXG4gICAgdG9Mb2NhbGVQYXJ0cyhvcHRzOiBJbnRsLkRhdGVUaW1lRm9ybWF0T3B0aW9ucyAmIExvY2FsZU9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWRcclxuICAgICAgICAgICAgPyBGb3JtYXR0ZXIuY3JlYXRlKHRoaXMuX2xvYy5jbG9uZShvcHRzKSwgb3B0cykuZm9ybWF0RGF0ZVRpbWVQYXJ0cyh0aGlzKVxyXG4gICAgICAgICAgICA6IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhbiBJU08gODYwMS1jb21wbGlhbnQgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgRGF0ZVRpbWVcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gb3B0aW9uc1xyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5zdXBwcmVzc01pbGxpc2Vjb25kcz1mYWxzZV0gLSBleGNsdWRlIG1pbGxpc2Vjb25kcyBmcm9tIHRoZSBmb3JtYXQgaWYgdGhleSdyZSAwXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnN1cHByZXNzU2Vjb25kcz1mYWxzZV0gLSBleGNsdWRlIHNlY29uZHMgZnJvbSB0aGUgZm9ybWF0IGlmIHRoZXkncmUgMFxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5pbmNsdWRlT2Zmc2V0PXRydWVdIC0gaW5jbHVkZSB0aGUgb2Zmc2V0LCBzdWNoIGFzICdaJyBvciAnLTA0OjAwJ1xyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5leHRlbmRlZFpvbmU9dHJ1ZV0gLSBhZGQgdGhlIHRpbWUgem9uZSBmb3JtYXQgZXh0ZW5zaW9uXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuZm9ybWF0PSdleHRlbmRlZCddIC0gY2hvb3NlIGJldHdlZW4gdGhlIGJhc2ljIGFuZCBleHRlbmRlZCBmb3JtYXRcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygxOTgzLCA1LCAyNSkudG9JU08oKSAvLz0+ICcxOTgyLTA1LTI1VDAwOjAwOjAwLjAwMFonXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS50b0lTTygpIC8vPT4gJzIwMTctMDQtMjJUMjA6NDc6MDUuMzM1LTA0OjAwJ1xyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkudG9JU08oeyBpbmNsdWRlT2Zmc2V0OiBmYWxzZSB9KSAvLz0+ICcyMDE3LTA0LTIyVDIwOjQ3OjA1LjMzNSdcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnRvSVNPKHsgZm9ybWF0OiAnYmFzaWMnIH0pIC8vPT4gJzIwMTcwNDIyVDIwNDcwNS4zMzUtMDQwMCdcclxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgdG9JU08oe1xyXG4gICAgICAgICAgICAgIGZvcm1hdCA9IFwiZXh0ZW5kZWRcIixcclxuICAgICAgICAgICAgICBzdXBwcmVzc1NlY29uZHMgPSBmYWxzZSxcclxuICAgICAgICAgICAgICBzdXBwcmVzc01pbGxpc2Vjb25kcyA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgIGluY2x1ZGVPZmZzZXQgPSB0cnVlLFxyXG4gICAgICAgICAgICAgIGV4dGVuZGVkWm9uZSA9IGZhbHNlXHJcbiAgICAgICAgICB9OiBUb0lTT1RpbWVPcHRpb25zID0ge30pOiBzdHJpbmcgfCBudWxsIHtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGV4dCA9IGZvcm1hdCA9PT0gXCJleHRlbmRlZFwiO1xyXG5cclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB0aGlzLl90b0lTT0RhdGUoZXh0KSxcclxuICAgICAgICAgICAgXCJUXCIsXHJcbiAgICAgICAgICAgIHRoaXMuX3RvSVNPVGltZShleHQsIHN1cHByZXNzU2Vjb25kcywgc3VwcHJlc3NNaWxsaXNlY29uZHMsIGluY2x1ZGVPZmZzZXQsIGV4dGVuZGVkWm9uZSlcclxuICAgICAgICBdLmpvaW4oXCJcIik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGFuIElTTyA4NjAxLWNvbXBsaWFudCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBEYXRlVGltZSdzIGRhdGUgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnNcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5mb3JtYXQ9J2V4dGVuZGVkJ10gLSBjaG9vc2UgYmV0d2VlbiB0aGUgYmFzaWMgYW5kIGV4dGVuZGVkIGZvcm1hdFxyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUudXRjKDE5ODIsIDUsIDI1KS50b0lTT0RhdGUoKSAvLz0+ICcxOTgyLTA1LTI1J1xyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUudXRjKDE5ODIsIDUsIDI1KS50b0lTT0RhdGUoeyBmb3JtYXQ6ICdiYXNpYycgfSkgLy89PiAnMTk4MjA1MjUnXHJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIHRvSVNPRGF0ZShvcHRpb25zOiB7IGZvcm1hdD86IFRvSVNPRm9ybWF0IH0gPSB7IGZvcm1hdDogXCJleHRlbmRlZFwiIH0pIHtcclxuICAgICAgICBsZXQgZm10ID0gb3B0aW9ucy5mb3JtYXQgPT09IFwiYmFzaWNcIiA/IFwieXl5eU1NZGRcIiA6IFwieXl5eS1NTS1kZFwiO1xyXG4gICAgICAgIGlmICh0aGlzLnllYXIgPiA5OTk5KSB7XHJcbiAgICAgICAgICAgIGZtdCA9IFwiK1wiICsgZm10O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRvVGVjaEZvcm1hdCh0aGlzLCBmbXQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhbiBJU08gODYwMS1jb21wbGlhbnQgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgRGF0ZVRpbWUncyB3ZWVrIGRhdGVcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygxOTgyLCA1LCAyNSkudG9JU09XZWVrRGF0ZSgpIC8vPT4gJzE5ODItVzIxLTInXHJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIHRvSVNPV2Vla0RhdGUoKTogc3RyaW5nIHwgbnVsbCB7XHJcbiAgICAgICAgcmV0dXJuIHRvVGVjaEZvcm1hdCh0aGlzLCBcImtra2stJ1cnV1ctY1wiKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYW4gSVNPIDg2MDEtY29tcGxpYW50IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIERhdGVUaW1lJ3MgdGltZSBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9uc1xyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5zdXBwcmVzc01pbGxpc2Vjb25kcz1mYWxzZV0gLSBleGNsdWRlIG1pbGxpc2Vjb25kcyBmcm9tIHRoZSBmb3JtYXQgaWYgdGhleSdyZSAwXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnN1cHByZXNzU2Vjb25kcz1mYWxzZV0gLSBleGNsdWRlIHNlY29uZHMgZnJvbSB0aGUgZm9ybWF0IGlmIHRoZXkncmUgMFxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5pbmNsdWRlT2Zmc2V0PXRydWVdIC0gaW5jbHVkZSB0aGUgb2Zmc2V0LCBzdWNoIGFzICdaJyBvciAnLTA0OjAwJ1xyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5leHRlbmRlZFpvbmU9dHJ1ZV0gLSBhZGQgdGhlIHRpbWUgem9uZSBmb3JtYXQgZXh0ZW5zaW9uXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMuZm9ybWF0PSdleHRlbmRlZCddIC0gY2hvb3NlIGJldHdlZW4gdGhlIGJhc2ljIGFuZCBleHRlbmRlZCBmb3JtYXRcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygpLnNldCh7IGhvdXI6IDcsIG1pbnV0ZTogMzQgfSkudG9JU09UaW1lKCkgLy89PiAnMDc6MzQ6MTkuMzYxWidcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygpLnNldCh7IGhvdXI6IDcsIG1pbnV0ZTogMzQsIHNlY29uZHM6IDAsIG1pbGxpc2Vjb25kczogMCB9KS50b0lTT1RpbWUoeyBzdXBwcmVzc1NlY29uZHM6IHRydWUgfSkgLy89PiAnMDc6MzRaJ1xyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUudXRjKCkuc2V0KHsgaG91cjogNywgbWludXRlOiAzNCB9KS50b0lTT1RpbWUoeyBmb3JtYXQ6ICdiYXNpYycgfSkgLy89PiAnMDczNDE5LjM2MVonXHJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIHRvSVNPVGltZSh7XHJcbiAgICAgICAgICAgICAgICAgIHN1cHByZXNzTWlsbGlzZWNvbmRzID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgIHN1cHByZXNzU2Vjb25kcyA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICBpbmNsdWRlT2Zmc2V0ID0gdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgaW5jbHVkZVByZWZpeCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICBleHRlbmRlZFpvbmUgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgZm9ybWF0ID0gXCJleHRlbmRlZFwiXHJcbiAgICAgICAgICAgICAgfTogVG9JU09UaW1lT3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICBpbmNsdWRlUHJlZml4ID8gXCJUXCIgOiBcIlwiLFxyXG4gICAgICAgICAgICB0aGlzLl90b0lTT1RpbWUoZm9ybWF0ID09PSBcImV4dGVuZGVkXCIsIHN1cHByZXNzU2Vjb25kcywgc3VwcHJlc3NNaWxsaXNlY29uZHMsIGluY2x1ZGVPZmZzZXQsIGV4dGVuZGVkWm9uZSlcclxuICAgICAgICBdLmpvaW4oXCJcIik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGFuIFJGQyAyODIyLWNvbXBhdGlibGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgRGF0ZVRpbWVcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygyMDE0LCA3LCAxMykudG9SRkMyODIyKCkgLy89PiAnU3VuLCAxMyBKdWwgMjAxNCAwMDowMDowMCArMDAwMCdcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTQsIDcsIDEzKS50b1JGQzI4MjIoKSAvLz0+ICdTdW4sIDEzIEp1bCAyMDE0IDAwOjAwOjAwIC0wNDAwJ1xyXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICB0b1JGQzI4MjIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRvVGVjaEZvcm1hdCh0aGlzLCBcIkVFRSwgZGQgTExMIHl5eXkgSEg6bW06c3MgWlpaXCIsIGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBEYXRlVGltZSBhcHByb3ByaWF0ZSBmb3IgdXNlIGluIEhUVFAgaGVhZGVycy4gVGhlIG91dHB1dCBpcyBhbHdheXMgZXhwcmVzc2VkIGluIEdNVFxyXG4gICAgICogU3BlY2lmaWNhbGx5LCB0aGUgc3RyaW5nIGNvbmZvcm1zIHRvIFJGQyAxMTIzLlxyXG4gICAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvUHJvdG9jb2xzL3JmYzI2MTYvcmZjMjYxNi1zZWMzLmh0bWwjc2VjMy4zLjFcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygyMDE0LCA3LCAxMykudG9IVFRQKCkgLy89PiAnU3VuLCAxMyBKdWwgMjAxNCAwMDowMDowMCBHTVQnXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS51dGMoMjAxNCwgNywgMTMsIDE5KS50b0hUVFAoKSAvLz0+ICdTdW4sIDEzIEp1bCAyMDE0IDE5OjAwOjAwIEdNVCdcclxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgdG9IVFRQKCkge1xyXG4gICAgICAgIHJldHVybiB0b1RlY2hGb3JtYXQodGhpcy50b1VUQygpLCBcIkVFRSwgZGQgTExMIHl5eXkgSEg6bW06c3MgJ0dNVCdcIik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgRGF0ZVRpbWUgYXBwcm9wcmlhdGUgZm9yIHVzZSBpbiBTUUwgRGF0ZVxyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUudXRjKDIwMTQsIDcsIDEzKS50b1NRTERhdGUoKSAvLz0+ICcyMDE0LTA3LTEzJ1xyXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICB0b1NRTERhdGUoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fdG9JU09EYXRlKCEwKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBEYXRlVGltZSBhcHByb3ByaWF0ZSBmb3IgdXNlIGluIFNRTCBUaW1lXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIG9wdGlvbnNcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuaW5jbHVkZVpvbmU9ZmFsc2VdIC0gaW5jbHVkZSB0aGUgem9uZSwgc3VjaCBhcyAnQW1lcmljYS9OZXdfWW9yaycuIE92ZXJyaWRlcyBpbmNsdWRlT2Zmc2V0LlxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5pbmNsdWRlT2Zmc2V0PXRydWVdIC0gaW5jbHVkZSB0aGUgb2Zmc2V0LCBzdWNoIGFzICdaJyBvciAnLTA0OjAwJ1xyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5pbmNsdWRlT2Zmc2V0U3BhY2U9dHJ1ZV0gLSBpbmNsdWRlIHRoZSBzcGFjZSBiZXR3ZWVuIHRoZSB0aW1lIGFuZCB0aGUgb2Zmc2V0LCBzdWNoIGFzICcwNToxNToxNi4zNDUgLTA0OjAwJ1xyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUudXRjKCkudG9TUUwoKSAvLz0+ICcwNToxNToxNi4zNDUnXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS50b1NRTCgpIC8vPT4gJzA1OjE1OjE2LjM0NSAtMDQ6MDAnXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS50b1NRTCh7IGluY2x1ZGVPZmZzZXQ6IGZhbHNlIH0pIC8vPT4gJzA1OjE1OjE2LjM0NSdcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnRvU1FMKHsgaW5jbHVkZVpvbmU6IGZhbHNlIH0pIC8vPT4gJzA1OjE1OjE2LjM0NSBBbWVyaWNhL05ld19Zb3JrJ1xyXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICB0b1NRTFRpbWUoeyBpbmNsdWRlT2Zmc2V0ID0gITAsIGluY2x1ZGVab25lID0gITEsIGluY2x1ZGVPZmZzZXRTcGFjZSA9ICEwIH06IFRvU1FMT3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgbGV0IGZtdCA9IFwiSEg6bW06c3MuU1NTXCI7XHJcblxyXG4gICAgICAgIGlmIChpbmNsdWRlWm9uZSB8fCBpbmNsdWRlT2Zmc2V0KSB7XHJcbiAgICAgICAgICAgIGluY2x1ZGVPZmZzZXRTcGFjZSAmJiAoZm10ICs9IFwiIFwiKTtcclxuICAgICAgICAgICAgaWYgKGluY2x1ZGVab25lKSB7XHJcbiAgICAgICAgICAgICAgICBmbXQgKz0gXCJ6XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaW5jbHVkZU9mZnNldCkge1xyXG4gICAgICAgICAgICAgICAgZm10ICs9IFwiWlpcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRvVGVjaEZvcm1hdCh0aGlzLCBmbXQsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIERhdGVUaW1lIGFwcHJvcHJpYXRlIGZvciB1c2UgaW4gU1FMIERhdGVUaW1lXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIG9wdGlvbnNcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuaW5jbHVkZVpvbmU9ZmFsc2VdIC0gaW5jbHVkZSB0aGUgem9uZSwgc3VjaCBhcyAnQW1lcmljYS9OZXdfWW9yaycuIE92ZXJyaWRlcyBpbmNsdWRlT2Zmc2V0LlxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5pbmNsdWRlT2Zmc2V0PXRydWVdIC0gaW5jbHVkZSB0aGUgb2Zmc2V0LCBzdWNoIGFzICdaJyBvciAnLTA0OjAwJ1xyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5pbmNsdWRlT2Zmc2V0U3BhY2U9dHJ1ZV0gLSBpbmNsdWRlIHRoZSBzcGFjZSBiZXR3ZWVuIHRoZSB0aW1lIGFuZCB0aGUgb2Zmc2V0LCBzdWNoIGFzICcwNToxNToxNi4zNDUgLTA0OjAwJ1xyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUudXRjKDIwMTQsIDcsIDEzKS50b1NRTCgpIC8vPT4gJzIwMTQtMDctMTMgMDA6MDA6MDAuMDAwIFonXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE0LCA3LCAxMykudG9TUUwoKSAvLz0+ICcyMDE0LTA3LTEzIDAwOjAwOjAwLjAwMCAtMDQ6MDAnXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5sb2NhbCgyMDE0LCA3LCAxMykudG9TUUwoeyBpbmNsdWRlT2Zmc2V0OiBmYWxzZSB9KSAvLz0+ICcyMDE0LTA3LTEzIDAwOjAwOjAwLjAwMCdcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLmxvY2FsKDIwMTQsIDcsIDEzKS50b1NRTCh7IGluY2x1ZGVab25lOiB0cnVlIH0pIC8vPT4gJzIwMTQtMDctMTMgMDA6MDA6MDAuMDAwIEFtZXJpY2EvTmV3X1lvcmsnXHJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIHRvU1FMKG9wdHM6IFRvU1FMT3B0aW9ucyA9IHt9KTogc3RyaW5nIHwgbnVsbCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYCR7dGhpcy50b1NRTERhdGUoKX0gJHt0aGlzLnRvU1FMVGltZShvcHRzKX1gO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIERhdGVUaW1lIGFwcHJvcHJpYXRlIGZvciBkZWJ1Z2dpbmdcclxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nIHwgbnVsbCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMudG9JU08oKSA6IElOVkFMSUQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBlcG9jaCBtaWxsaXNlY29uZHMgb2YgdGhpcyBEYXRlVGltZS4gQWxpYXMgb2Yge0BsaW5rIERhdGVUaW1lI3RvTWlsbGlzfVxyXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICB2YWx1ZU9mKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRvTWlsbGlzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBlcG9jaCBtaWxsaXNlY29uZHMgb2YgdGhpcyBEYXRlVGltZS5cclxuICAgICAqIEByZXR1cm4ge251bWJlcn1cclxuICAgICAqL1xyXG4gICAgdG9NaWxsaXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IHRoaXMudHMgOiBOYU47XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBlcG9jaCBzZWNvbmRzIG9mIHRoaXMgRGF0ZVRpbWUuXHJcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIHRvU2Vjb25kcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID8gdGhpcy5fdHMgLyAxMDAwIDogTmFOO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgZXBvY2ggc2Vjb25kcyAoYXMgYSB3aG9sZSBudW1iZXIpIG9mIHRoaXMgRGF0ZVRpbWUuXHJcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIHRvVW5peEludGVnZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA/IE1hdGguZmxvb3IodGhpcy50cyAvIDEwMDApIDogTmFOO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhbiBJU08gODYwMSByZXByZXNlbnRhdGlvbiBvZiB0aGlzIERhdGVUaW1lIGFwcHJvcHJpYXRlIGZvciB1c2UgaW4gSlNPTi5cclxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgdG9KU09OKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRvSVNPKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgQlNPTiBzZXJpYWxpemFibGUgZXF1aXZhbGVudCB0byB0aGlzIERhdGVUaW1lLlxyXG4gICAgICogQHJldHVybiB7RGF0ZX1cclxuICAgICAqL1xyXG4gICAgdG9CU09OKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRvSlNEYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgSmF2YVNjcmlwdCBvYmplY3Qgd2l0aCB0aGlzIERhdGVUaW1lJ3MgeWVhciwgbW9udGgsIGRheSwgYW5kIHNvIG9uLlxyXG4gICAgICogQHBhcmFtIG9wdHMgLSBvcHRpb25zIGZvciBnZW5lcmF0aW5nIHRoZSBvYmplY3RcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuaW5jbHVkZUNvbmZpZz1mYWxzZV0gLSBpbmNsdWRlIGNvbmZpZ3VyYXRpb24gYXR0cmlidXRlcyBpbiB0aGUgb3V0cHV0XHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS50b09iamVjdCgpIC8vPT4geyB5ZWFyOiAyMDE3LCBtb250aDogNCwgZGF5OiAyMiwgaG91cjogMjAsIG1pbnV0ZTogNDksIHNlY29uZDogNDIsIG1pbGxpc2Vjb25kOiAyNjggfVxyXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICB0b09iamVjdChvcHRzOiB7IGluY2x1ZGVDb25maWc6IGJvb2xlYW4gfSA9IHsgaW5jbHVkZUNvbmZpZzogITEgfSk6IEdyZWdvcmlhbkRhdGVUaW1lICYgUGFydGlhbDxMb2NhbGVPcHRpb25zPiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHt9IGFzIEdyZWdvcmlhbkRhdGVUaW1lO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgYmFzZSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuX2MpIGFzIEdyZWdvcmlhbkRhdGVUaW1lICYgUGFydGlhbDxMb2NhbGVPcHRpb25zPjtcclxuXHJcbiAgICAgICAgaWYgKG9wdHMuaW5jbHVkZUNvbmZpZykge1xyXG4gICAgICAgICAgICBiYXNlLm91dHB1dENhbGVuZGFyID0gdGhpcy5vdXRwdXRDYWxlbmRhcjtcclxuICAgICAgICAgICAgYmFzZS5udW1iZXJpbmdTeXN0ZW0gPSB0aGlzLl9sb2MubnVtYmVyaW5nU3lzdGVtO1xyXG4gICAgICAgICAgICBiYXNlLmxvY2FsZSA9IHRoaXMuX2xvYy5sb2NhbGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYmFzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSBKYXZhc2NyaXB0IERhdGUgZXF1aXZhbGVudCB0byB0aGlzIERhdGVUaW1lLlxyXG4gICAgICogQHJldHVybiB7RGF0ZX1cclxuICAgICAqL1xyXG4gICAgdG9KU0RhdGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHRoaXMuaXNWYWxpZCA/IHRoaXMuX3RzIDogTmFOKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDT01QQVJFXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gdHdvIERhdGVUaW1lcyBhcyBhIER1cmF0aW9uLlxyXG4gICAgICogQHBhcmFtIHtEYXRlVGltZX0gb3RoZXJEYXRlVGltZSAtIHRoZSBEYXRlVGltZSB0byBjb21wYXJlIHRoaXMgb25lIHRvXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gW3VuaXQ9WydtaWxsaXNlY29uZHMnXV0gLSB0aGUgdW5pdCBvciBhcnJheSBvZiB1bml0cyAoc3VjaCBhcyAnaG91cnMnIG9yICdkYXlzJykgdG8gaW5jbHVkZSBpbiB0aGUgZHVyYXRpb24uXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIG9wdGlvbnMgdGhhdCBhZmZlY3QgdGhlIGNyZWF0aW9uIG9mIHRoZSBEdXJhdGlvblxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmxvY2FsZT1sb2NhbGUoKV0gLSB0aGUgbG9jYWxlIHRvIHVzZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLm51bWJlcmluZ1N5c3RlbT1udW1iZXJpbmdTeXN0ZW0oKV0gLSB0aGUgbnVtYmVyaW5nIHN5c3RlbSB0byB1c2VcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5jb252ZXJzaW9uQWNjdXJhY3k9J2Nhc3VhbCddIC0gdGhlIGNvbnZlcnNpb24gc3lzdGVtIHRvIHVzZVxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5udWxsT25JbnZhbGlkPWZhbHNlXSAtIHdoZXRoZXIgdG8gcmV0dXJuIGBudWxsYCBvbiBlcnJvciBpbnN0ZWFkIG9mIHRocm93aW5nXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogdmFyIGkxID0gRGF0ZVRpbWUuZnJvbUlTTygnMTk4Mi0wNS0yNVQwOTo0NScpLFxyXG4gICAgICogICAgIGkyID0gRGF0ZVRpbWUuZnJvbUlTTygnMTk4My0xMC0xNFQxMDozMCcpO1xyXG4gICAgICogaTIuZGlmZihpMSkudG9PYmplY3QoKSAvLz0+IHsgbWlsbGlzZWNvbmRzOiA0MzgwNzUwMDAwMCB9XHJcbiAgICAgKiBpMi5kaWZmKGkxLCAnaG91cnMnKS50b09iamVjdCgpIC8vPT4geyBob3VyczogMTIxNjguNzUgfVxyXG4gICAgICogaTIuZGlmZihpMSwgWydtb250aHMnLCAnZGF5cyddKS50b09iamVjdCgpIC8vPT4geyBtb250aHM6IDE2LCBkYXlzOiAxOS4wMzEyNSB9XHJcbiAgICAgKiBpMi5kaWZmKGkxLCBbJ21vbnRocycsICdkYXlzJywgJ2hvdXJzJ10pLnRvT2JqZWN0KCkgLy89PiB7IG1vbnRoczogMTYsIGRheXM6IDE5LCBob3VyczogMC43NSB9XHJcbiAgICAgKiBAcmV0dXJuIHtEdXJhdGlvbn1cclxuICAgICAqL1xyXG4gICAgZGlmZihvdGhlckRhdGVUaW1lOiBEYXRlVGltZSwgdW5pdDogRHVyYXRpb25Vbml0IHwgRHVyYXRpb25Vbml0W10gPSBcIm1pbGxpc2Vjb25kc1wiLCBvcHRzOiBEdXJhdGlvbk9wdGlvbnMgPSB7fSk6IER1cmF0aW9uIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCB8fCAhb3RoZXJEYXRlVGltZS5pc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlYXNvbjogc3RyaW5nID0gKHRoaXMuaW52YWxpZFJlYXNvbiB8fCBvdGhlckRhdGVUaW1lLmludmFsaWRSZWFzb24pIGFzIHN0cmluZzsgLy8gT25lIG9mIHRoZSB0d28gaXMgY2VydGFpbmx5IGEgc3RyaW5nXHJcblxyXG4gICAgICAgICAgICByZXR1cm4gRHVyYXRpb24uaW52YWxpZChyZWFzb24sIFwiY3JlYXRlZCBieSBkaWZmaW5nIGFuIGludmFsaWQgRGF0ZVRpbWVcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB1bml0cyA9IG1heWJlQXJyYXkodW5pdCkubWFwKER1cmF0aW9uLm5vcm1hbGl6ZVVuaXQpLFxyXG4gICAgICAgICAgICBvdGhlcklzTGF0ZXIgPSBvdGhlckRhdGVUaW1lLnZhbHVlT2YoKSA+IHRoaXMudmFsdWVPZigpLFxyXG4gICAgICAgICAgICBlYXJsaWVyID0gb3RoZXJJc0xhdGVyID8gdGhpcyA6IG90aGVyRGF0ZVRpbWUsXHJcbiAgICAgICAgICAgIGxhdGVyID0gb3RoZXJJc0xhdGVyID8gb3RoZXJEYXRlVGltZSA6IHRoaXMsXHJcbiAgICAgICAgICAgIGRpZmZlZCA9IGRpZmYoZWFybGllciwgbGF0ZXIsIHVuaXRzLCB7XHJcbiAgICAgICAgICAgICAgICBsb2NhbGU6IHRoaXMubG9jYWxlLFxyXG4gICAgICAgICAgICAgICAgbnVtYmVyaW5nU3lzdGVtOiB0aGlzLm51bWJlcmluZ1N5c3RlbSxcclxuICAgICAgICAgICAgICAgIC4uLm9wdHNcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBvdGhlcklzTGF0ZXIgPyBkaWZmZWQubmVnYXRlKCkgOiBkaWZmZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhpcyBEYXRlVGltZSBhbmQgcmlnaHQgbm93LlxyXG4gICAgICogU2VlIHtAbGluayBEYXRlVGltZSNkaWZmfVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IFt1bml0PVsnbWlsbGlzZWNvbmRzJ11dIC0gdGhlIHVuaXQgb3IgdW5pdHMgdW5pdHMgKHN1Y2ggYXMgJ2hvdXJzJyBvciAnZGF5cycpIHRvIGluY2x1ZGUgaW4gdGhlIGR1cmF0aW9uXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIG9wdGlvbnMgdGhhdCBhZmZlY3QgdGhlIGNyZWF0aW9uIG9mIHRoZSBEdXJhdGlvblxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmNvbnZlcnNpb25BY2N1cmFjeT0nY2FzdWFsJ10gLSB0aGUgY29udmVyc2lvbiBzeXN0ZW0gdG8gdXNlXHJcbiAgICAgKiBAcmV0dXJuIHtEdXJhdGlvbn1cclxuICAgICAqL1xyXG4gICAgZGlmZk5vdyh1bml0OiBEdXJhdGlvblVuaXQgfCBEdXJhdGlvblVuaXRbXSA9IFwibWlsbGlzZWNvbmRzXCIsIG9wdHM6IER1cmF0aW9uT3B0aW9ucyA9IHt9KTogRHVyYXRpb24ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRpZmYoRGF0ZVRpbWUubm93KCksIHVuaXQsIG9wdHMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIGFuIEludGVydmFsIHNwYW5uaW5nIGJldHdlZW4gdGhpcyBEYXRlVGltZSBhbmQgYW5vdGhlciBEYXRlVGltZVxyXG4gICAgICogQHBhcmFtIHtEYXRlVGltZX0gb3RoZXIgLSB0aGUgb3RoZXIgZW5kIHBvaW50IG9mIHRoZSBJbnRlcnZhbFxyXG4gICAgICogQHJldHVybiB7SW50ZXJ2YWx9XHJcbiAgICAgKi9cclxuICAgIHVudGlsKG90aGVyOiBEYXRlVGltZSkge1xyXG4gICAgICAgIHJldHVybiBJbnRlcnZhbC5mcm9tRGF0ZVRpbWVzKHRoaXMsIG90aGVyKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiB3aGV0aGVyIHRoaXMgRGF0ZVRpbWUgaXMgaW4gdGhlIHNhbWUgdW5pdCBvZiB0aW1lIGFzIGFub3RoZXIgRGF0ZVRpbWUuXHJcbiAgICAgKiBIaWdoZXItb3JkZXIgdW5pdHMgbXVzdCBhbHNvIGJlIGlkZW50aWNhbCBmb3IgdGhpcyBmdW5jdGlvbiB0byByZXR1cm4gYHRydWVgLlxyXG4gICAgICogTm90ZSB0aGF0IHRpbWUgem9uZXMgYXJlICoqaWdub3JlZCoqIGluIHRoaXMgY29tcGFyaXNvbiwgd2hpY2ggY29tcGFyZXMgdGhlICoqbG9jYWwqKiBjYWxlbmRhciB0aW1lLiBVc2Uge0BsaW5rIERhdGVUaW1lI3NldFpvbmV9IHRvIGNvbnZlcnQgb25lIG9mIHRoZSBkYXRlcyBpZiBuZWVkZWQuXHJcbiAgICAgKiBAcGFyYW0ge0RhdGVUaW1lfSBvdGhlckRhdGVUaW1lIC0gdGhlIG90aGVyIERhdGVUaW1lXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdW5pdCAtIHRoZSB1bml0IG9mIHRpbWUgdG8gY2hlY2sgc2FtZW5lc3Mgb25cclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLmhhc1NhbWUob3RoZXJEVCwgJ2RheScpOyAvL34+IHRydWUgaWYgb3RoZXJEVCBpcyBpbiB0aGUgc2FtZSBjdXJyZW50IGNhbGVuZGFyIGRheVxyXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgaGFzU2FtZShvdGhlckRhdGVUaW1lOiBEYXRlVGltZSwgdW5pdDogRHVyYXRpb25Vbml0KTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgaW5wdXRNcyA9IG90aGVyRGF0ZVRpbWUudmFsdWVPZigpO1xyXG4gICAgICAgIGNvbnN0IGFkanVzdGVkVG9ab25lID0gdGhpcy5zZXRab25lKG90aGVyRGF0ZVRpbWUuem9uZSwgeyBrZWVwTG9jYWxUaW1lOiB0cnVlIH0pO1xyXG4gICAgICAgIHJldHVybiArYWRqdXN0ZWRUb1pvbmUuc3RhcnRPZih1bml0KSA8PSBpbnB1dE1zICYmIGlucHV0TXMgPD0gK2FkanVzdGVkVG9ab25lLmVuZE9mKHVuaXQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRXF1YWxpdHkgY2hlY2tcclxuICAgICAqIFR3byBEYXRlVGltZXMgYXJlIGVxdWFsIGlmZiB0aGV5IHJlcHJlc2VudCB0aGUgc2FtZSBtaWxsaXNlY29uZCBhbmQgaGF2ZSB0aGUgc2FtZSB6b25lIGFuZCBsb2NhdGlvbi5cclxuICAgICAqIFRvIGNvbXBhcmUganVzdCB0aGUgbWlsbGlzZWNvbmQgdmFsdWVzLCB1c2UgYCtkdDEgPT09ICtkdDJgLlxyXG4gICAgICogQHBhcmFtIHtEYXRlVGltZX0gb3RoZXIgLSB0aGUgb3RoZXIgRGF0ZVRpbWVcclxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIGVxdWFscyhvdGhlcjogRGF0ZVRpbWUpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICB0aGlzLnZhbHVlT2YoKSA9PT0gb3RoZXIudmFsdWVPZigpICYmXHJcbiAgICAgICAgICAgIHRoaXMuem9uZS5lcXVhbHMob3RoZXIuem9uZSkgJiZcclxuICAgICAgICAgICAgdGhpcy5fbG9jLmVxdWFscyhvdGhlci5fbG9jKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgdGhpcyB0aW1lIHJlbGF0aXZlIHRvIG5vdywgc3VjaCBhcyBcImluIHR3byBkYXlzXCIuIENhbiBvbmx5IGludGVybmF0aW9uYWxpemUgaWYgeW91clxyXG4gICAgICogcGxhdGZvcm0gc3VwcG9ydHMgSW50bC5SZWxhdGl2ZVRpbWVGb3JtYXQuIFJvdW5kcyBkb3duIGJ5IGRlZmF1bHQuXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnMgdGhhdCBhZmZlY3QgdGhlIG91dHB1dFxyXG4gICAgICogQHBhcmFtIHtEYXRlVGltZX0gW29wdGlvbnMuYmFzZT1EYXRlVGltZS5ub3coKV0gLSB0aGUgRGF0ZVRpbWUgdG8gdXNlIGFzIHRoZSBiYXNpcyB0byB3aGljaCB0aGlzIHRpbWUgaXMgY29tcGFyZWQuIERlZmF1bHRzIHRvIG5vdy5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5zdHlsZT1cImxvbmdcIl0gLSB0aGUgc3R5bGUgb2YgdW5pdHMsIG11c3QgYmUgXCJsb25nXCIsIFwic2hvcnRcIiwgb3IgXCJuYXJyb3dcIlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IG9wdGlvbnMudW5pdCAtIHVzZSBhIHNwZWNpZmljIHVuaXQgb3IgYXJyYXkgb2YgdW5pdHM7IGlmIG9taXR0ZWQsIG9yIGFuIGFycmF5LCB0aGUgbWV0aG9kIHdpbGwgcGljayB0aGUgYmVzdCB1bml0LiBVc2UgYW4gYXJyYXkgb3Igb25lIG9mIFwieWVhcnNcIiwgXCJxdWFydGVyc1wiLCBcIm1vbnRoc1wiLCBcIndlZWtzXCIsIFwiZGF5c1wiLCBcImhvdXJzXCIsIFwibWludXRlc1wiLCBvciBcInNlY29uZHNcIiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnJvdW5kPXRydWVdIC0gd2hldGhlciB0byByb3VuZCB0aGUgbnVtYmVycyBpbiB0aGUgb3V0cHV0LlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnBhZGRpbmc9MF0gLSBwYWRkaW5nIGluIG1pbGxpc2Vjb25kcy4gVGhpcyBhbGxvd3MgeW91IHRvIHJvdW5kIHVwIHRoZSByZXN1bHQgaWYgaXQgZml0cyBpbnNpZGUgdGhlIHRocmVzaG9sZC4gRG9uJ3QgdXNlIGluIGNvbWJpbmF0aW9uIHdpdGgge3JvdW5kOiBmYWxzZX0gYmVjYXVzZSB0aGUgZGVjaW1hbCBvdXRwdXQgd2lsbCBpbmNsdWRlIHRoZSBwYWRkaW5nLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmxvY2FsZV0gLSBvdmVycmlkZSB0aGUgbG9jYWxlIG9mIHRoaXMgRGF0ZVRpbWVcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5udW1iZXJpbmdTeXN0ZW1dIC0gb3ZlcnJpZGUgdGhlIG51bWJlcmluZ1N5c3RlbSBvZiB0aGlzIERhdGVUaW1lLiBUaGUgSW50bCBzeXN0ZW0gbWF5IGNob29zZSBub3QgdG8gaG9ub3IgdGhpc1xyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkucGx1cyh7IGRheXM6IDEgfSkudG9SZWxhdGl2ZSgpIC8vPT4gXCJpbiAxIGRheVwiXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS5zZXRMb2NhbGUoXCJlc1wiKS50b1JlbGF0aXZlKHsgZGF5czogMSB9KSAvLz0+IFwiZGVudHJvIGRlIDEgZMOtYVwiXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS5wbHVzKHsgZGF5czogMSB9KS50b1JlbGF0aXZlKHsgbG9jYWxlOiBcImZyXCIgfSkgLy89PiBcImRhbnMgMjMgaGV1cmVzXCJcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLm1pbnVzKHsgZGF5czogMiB9KS50b1JlbGF0aXZlKCkgLy89PiBcIjIgZGF5cyBhZ29cIlxyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUubm93KCkubWludXMoeyBkYXlzOiAyIH0pLnRvUmVsYXRpdmUoeyB1bml0OiBcImhvdXJzXCIgfSkgLy89PiBcIjQ4IGhvdXJzIGFnb1wiXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS5taW51cyh7IGhvdXJzOiAzNiB9KS50b1JlbGF0aXZlKHsgcm91bmQ6IGZhbHNlIH0pIC8vPT4gXCIxLjUgZGF5cyBhZ29cIlxyXG4gICAgICovXHJcbiAgICB0b1JlbGF0aXZlKG9wdGlvbnM6IFRvUmVsYXRpdmVPcHRpb25zID0ge30pIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYmFzZSA9IG9wdGlvbnMuYmFzZSB8fCBEYXRlVGltZS5mcm9tT2JqZWN0KHt9LCB7IHpvbmU6IHRoaXMuem9uZSB9KTtcclxuICAgICAgICBjb25zdCBwYWRkaW5nID0gb3B0aW9ucy5wYWRkaW5nID8gKHRoaXMgPCBiYXNlID8gLW9wdGlvbnMucGFkZGluZyA6IG9wdGlvbnMucGFkZGluZykgOiAwO1xyXG4gICAgICAgIGxldCB1bml0cyA9IFtcInllYXJzXCIsIFwibW9udGhzXCIsIFwiZGF5c1wiLCBcImhvdXJzXCIsIFwibWludXRlc1wiLCBcInNlY29uZHNcIl0gYXMgSW50bC5SZWxhdGl2ZVRpbWVGb3JtYXRVbml0W107XHJcbiAgICAgICAgbGV0IHVuaXQgPSBvcHRpb25zLnVuaXQ7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucy51bml0KSkge1xyXG4gICAgICAgICAgICB1bml0cyA9IG9wdGlvbnMudW5pdDtcclxuICAgICAgICAgICAgdW5pdCA9IHZvaWQgMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIERhdGVUaW1lLl9kaWZmUmVsYXRpdmUoXHJcbiAgICAgICAgICAgIGJhc2UsXHJcbiAgICAgICAgICAgIHRoaXMucGx1cyhwYWRkaW5nKSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcclxuICAgICAgICAgICAgICAgIG51bWVyaWM6IFwiYWx3YXlzXCIsXHJcbiAgICAgICAgICAgICAgICB1bml0cyxcclxuICAgICAgICAgICAgICAgIHVuaXRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgZGF0ZSByZWxhdGl2ZSB0byB0b2RheSwgc3VjaCBhcyBcInllc3RlcmRheVwiIG9yIFwibmV4dCBtb250aFwiLlxyXG4gICAgICogT25seSBpbnRlcm5hdGlvbmFsaXplcyBvbiBwbGF0Zm9ybXMgdGhhdCBzdXBwb3J0cyBJbnRsLlJlbGF0aXZlVGltZUZvcm1hdC5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyB0aGF0IGFmZmVjdCB0aGUgb3V0cHV0XHJcbiAgICAgKiBAcGFyYW0ge0RhdGVUaW1lfSBbb3B0aW9ucy5iYXNlPURhdGVUaW1lLm5vdygpXSAtIHRoZSBEYXRlVGltZSB0byB1c2UgYXMgdGhlIGJhc2lzIHRvIHdoaWNoIHRoaXMgdGltZSBpcyBjb21wYXJlZC4gRGVmYXVsdHMgdG8gbm93LlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmxvY2FsZV0gLSBvdmVycmlkZSB0aGUgbG9jYWxlIG9mIHRoaXMgRGF0ZVRpbWVcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy51bml0XSAtIHVzZSBhIHNwZWNpZmljIHVuaXQ7IGlmIG9taXR0ZWQsIHRoZSBtZXRob2Qgd2lsbCBwaWNrIHRoZSB1bml0LiBVc2Ugb25lIG9mIFwieWVhcnNcIiwgXCJxdWFydGVyc1wiLCBcIm1vbnRoc1wiLCBcIndlZWtzXCIsIG9yIFwiZGF5c1wiXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubnVtYmVyaW5nU3lzdGVtXSAtIG92ZXJyaWRlIHRoZSBudW1iZXJpbmdTeXN0ZW0gb2YgdGhpcyBEYXRlVGltZS4gVGhlIEludGwgc3lzdGVtIG1heSBjaG9vc2Ugbm90IHRvIGhvbm9yIHRoaXNcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLnBsdXMoeyBkYXlzOiAxIH0pLnRvUmVsYXRpdmVDYWxlbmRhcigpIC8vPT4gXCJ0b21vcnJvd1wiXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS5zZXRMb2NhbGUoXCJlc1wiKS5wbHVzKHsgZGF5czogMSB9KS50b1JlbGF0aXZlKCkgLy89PiBcIlwibWHDsWFuYVwiXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS5ub3coKS5wbHVzKHsgZGF5czogMSB9KS50b1JlbGF0aXZlQ2FsZW5kYXIoeyBsb2NhbGU6IFwiZnJcIiB9KSAvLz0+IFwiZGVtYWluXCJcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLm5vdygpLm1pbnVzKHsgZGF5czogMiB9KS50b1JlbGF0aXZlQ2FsZW5kYXIoKSAvLz0+IFwiMiBkYXlzIGFnb1wiXHJcbiAgICAgKi9cclxuICAgIHRvUmVsYXRpdmVDYWxlbmRhcihvcHRpb25zOiBUb1JlbGF0aXZlQ2FsZW5kYXJPcHRpb25zID0ge30pIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIERhdGVUaW1lLl9kaWZmUmVsYXRpdmUoXHJcbiAgICAgICAgICAgIG9wdGlvbnMuYmFzZSB8fCBEYXRlVGltZS5mcm9tT2JqZWN0KHt9LCB7IHpvbmU6IHRoaXMuem9uZSB9KSxcclxuICAgICAgICAgICAgdGhpcyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcclxuICAgICAgICAgICAgICAgIG51bWVyaWM6IFwiYXV0b1wiIGFzIGNvbnN0LFxyXG4gICAgICAgICAgICAgICAgdW5pdHM6IFtcInllYXJzXCIsIFwibW9udGhzXCIsIFwiZGF5c1wiXSBhcyBJbnRsLlJlbGF0aXZlVGltZUZvcm1hdFVuaXRbXSxcclxuICAgICAgICAgICAgICAgIGNhbGVuZGFyeTogdHJ1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIC8vICogKioqKioqKioqKioqKioqKioqKioqKioqKioqICovL1xyXG4gICAgLy8gU3RhdGljIHByaXZhdGUgaGVscGVyIG1ldGhvZHMgLy9cclxuICAgIC8vICogKioqKioqKioqKioqKioqKioqKioqKioqKioqICovL1xyXG4gICAgLy8gd2UgY2FjaGUgd2VlayBkYXRhIG9uIHRoZSBEVCBvYmplY3QgYW5kIHRoaXMgaW50ZXJtZWRpYXRlcyB0aGUgY2FjaGVcclxuICAgIHByaXZhdGUgX3Bvc3NpYmx5Q2FjaGVkV2Vla0RhdGEoZHQ6IERhdGVUaW1lKTogV2Vla0RhdGVUaW1lIHtcclxuICAgICAgICBpZiAoZHQuX3dlZWtEYXRhID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGR0Ll93ZWVrRGF0YSA9IGdyZWdvcmlhblRvV2VlayhkdC5fYyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkdC5fd2Vla0RhdGEgYXMgV2Vla0RhdGVUaW1lO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgLy8gY2xvbmUgcmVhbGx5IG1lYW5zLCBcIm1ha2UgYSBuZXcgb2JqZWN0IHdpdGggdGhlc2UgbW9kaWZpY2F0aW9uc1wiLiBhbGwgXCJzZXR0ZXJzXCIgcmVhbGx5IHVzZSB0aGlzXHJcbiAgICAvLyB0byBjcmVhdGUgYSBuZXcgb2JqZWN0IHdoaWxlIG9ubHkgY2hhbmdpbmcgc29tZSBvZiB0aGUgcHJvcGVydGllc1xyXG4gICAgcHJpdmF0ZSBfY2xvbmUoYWx0czogeyB0cz86IG51bWJlcjsgem9uZT86IFpvbmU7IGxvYz86IExvY2FsZTsgbz86IG51bWJlciB9KTogRGF0ZVRpbWUge1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSB7XHJcbiAgICAgICAgICAgIHRzOiB0aGlzLl90cyxcclxuICAgICAgICAgICAgem9uZTogdGhpcy56b25lLFxyXG4gICAgICAgICAgICBjOiB0aGlzLl9jLFxyXG4gICAgICAgICAgICBvOiB0aGlzLl9vLFxyXG4gICAgICAgICAgICBsb2M6IHRoaXMuX2xvYyxcclxuICAgICAgICAgICAgaW52YWxpZDogdGhpcy5faW52YWxpZCB8fCB2b2lkIDBcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IERhdGVUaW1lKHsgLi4uY3VycmVudCwgLi4uYWx0cywgb2xkOiBjdXJyZW50IH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgLyoqXHJcbiAgICAgKiBjcmVhdGUgYSBuZXcgRFQgaW5zdGFuY2UgYnkgYWRkaW5nIGEgZHVyYXRpb24sIGFkanVzdGluZyBmb3IgRFNUc1xyXG4gICAgICogUmVtZW1iZXIgdGhhdCBjb21wYXJlZCB0byBMdXhvbi5qcyBJIGRvbid0IG5lZWQgdG8gcGFzcyB0aGUgaW5zdGFuY2UgYXMgYXJndW1lbnQgaGVyZSxcclxuICAgICAqIGJlY2F1c2UgaXQncyBhIHByaXZhdGUgbWVtYmVyIG9mIHRoZSBpbnN0YW5jZSBpdHNlbGYuXHJcbiAgICAgKiBIb25lc3RseSBkb24ndCBrbm93IHdoeSBoZSBkaWRuJ3QgZG8gdGhpcyB3YXkhXHJcbiAgICAgKiBAcGFyYW0gZHVyXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9hZGp1c3RUaW1lKGR1cjogRHVyYXRpb24pIHtcclxuICAgICAgICBjb25zdCBwcmV2aW91c09mZnNldCA9IHRoaXMuX28sXHJcbiAgICAgICAgICAgIHllYXIgPSB0aGlzLl9jLnllYXIgKyBNYXRoLnRydW5jKGR1ci55ZWFycyksXHJcbiAgICAgICAgICAgIG1vbnRoID0gdGhpcy5fYy5tb250aCArIE1hdGgudHJ1bmMoZHVyLm1vbnRocykgKyBNYXRoLnRydW5jKGR1ci5xdWFydGVycykgKiAzLFxyXG4gICAgICAgICAgICBjID0ge1xyXG4gICAgICAgICAgICAgICAgLi4udGhpcy5fYyxcclxuICAgICAgICAgICAgICAgIHllYXIsXHJcbiAgICAgICAgICAgICAgICBtb250aCxcclxuICAgICAgICAgICAgICAgIGRheTpcclxuICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbih0aGlzLl9jLmRheSwgZGF5c0luTW9udGgoeWVhciwgbW9udGgpKSArXHJcbiAgICAgICAgICAgICAgICAgICAgTWF0aC50cnVuYyhkdXIuZGF5cykgK1xyXG4gICAgICAgICAgICAgICAgICAgIE1hdGgudHJ1bmMoZHVyLndlZWtzKSAqIDdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbWlsbGlzVG9BZGQgPSBEdXJhdGlvbi5mcm9tT2JqZWN0KHtcclxuICAgICAgICAgICAgICAgIHllYXJzOiBkdXIueWVhcnMgLSBNYXRoLnRydW5jKGR1ci55ZWFycyksXHJcbiAgICAgICAgICAgICAgICBxdWFydGVyczogZHVyLnF1YXJ0ZXJzIC0gTWF0aC50cnVuYyhkdXIucXVhcnRlcnMpLFxyXG4gICAgICAgICAgICAgICAgbW9udGhzOiBkdXIubW9udGhzIC0gTWF0aC50cnVuYyhkdXIubW9udGhzKSxcclxuICAgICAgICAgICAgICAgIHdlZWtzOiBkdXIud2Vla3MgLSBNYXRoLnRydW5jKGR1ci53ZWVrcyksXHJcbiAgICAgICAgICAgICAgICBkYXlzOiBkdXIuZGF5cyAtIE1hdGgudHJ1bmMoZHVyLmRheXMpLFxyXG4gICAgICAgICAgICAgICAgaG91cnM6IGR1ci5ob3VycyxcclxuICAgICAgICAgICAgICAgIG1pbnV0ZXM6IGR1ci5taW51dGVzLFxyXG4gICAgICAgICAgICAgICAgc2Vjb25kczogZHVyLnNlY29uZHMsXHJcbiAgICAgICAgICAgICAgICBtaWxsaXNlY29uZHM6IGR1ci5taWxsaXNlY29uZHNcclxuICAgICAgICAgICAgfSkuYXMoXCJtaWxsaXNlY29uZHNcIiksXHJcbiAgICAgICAgICAgIGxvY2FsVFMgPSBvYmpUb0xvY2FsVFMoYyk7XHJcblxyXG4gICAgICAgIGxldCBbdHMsIG9dID0gZml4T2Zmc2V0KGxvY2FsVFMsIHByZXZpb3VzT2Zmc2V0LCB0aGlzLnpvbmUpO1xyXG5cclxuICAgICAgICBpZiAobWlsbGlzVG9BZGQgIT09IDApIHtcclxuICAgICAgICAgICAgdHMgKz0gbWlsbGlzVG9BZGQ7XHJcbiAgICAgICAgICAgIC8vIHRoYXQgY291bGQgaGF2ZSBjaGFuZ2VkIHRoZSBvZmZzZXQgYnkgZ29pbmcgb3ZlciBhIERTVCwgYnV0IHdlIHdhbnQgdG8ga2VlcCB0aGUgdHMgdGhlIHNhbWVcclxuICAgICAgICAgICAgbyA9IHRoaXMuem9uZS5vZmZzZXQodHMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHsgdHMsIG8gfTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF90b0lTT0RhdGUoZXh0ZW5kZWQ6IGJvb2xlYW4pOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IGxvbmdGb3JtYXQgPSB0aGlzLl9jLnllYXIgPiA5OTk5IHx8IHRoaXMuX2MueWVhciA8IDA7XHJcbiAgICAgICAgbGV0IGMgPSBcIlwiO1xyXG4gICAgICAgIGlmIChsb25nRm9ybWF0ICYmIHRoaXMuX2MueWVhciA+PSAwKSB7XHJcbiAgICAgICAgICAgIGMgKz0gXCIrXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGMgKz0gcGFkU3RhcnQodGhpcy5fYy55ZWFyLCBsb25nRm9ybWF0ID8gNiA6IDQpO1xyXG5cclxuICAgICAgICBpZiAoZXh0ZW5kZWQpIHtcclxuICAgICAgICAgICAgYyArPSBcIi1cIjtcclxuICAgICAgICAgICAgYyArPSBwYWRTdGFydCh0aGlzLl9jLm1vbnRoKTtcclxuICAgICAgICAgICAgYyArPSBcIi1cIjtcclxuICAgICAgICAgICAgYyArPSBwYWRTdGFydCh0aGlzLl9jLmRheSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjICs9IHBhZFN0YXJ0KHRoaXMuX2MubW9udGgpO1xyXG4gICAgICAgICAgICBjICs9IHBhZFN0YXJ0KHRoaXMuX2MuZGF5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGFuIElTTyA4NjAxLWNvbXBsaWFudCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBEYXRlVGltZSdzIHRpbWUgY29tcG9uZW50XHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIG9wdGlvbnNcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuc3VwcHJlc3NNaWxsaXNlY29uZHM9ZmFsc2VdIC0gZXhjbHVkZSBtaWxsaXNlY29uZHMgZnJvbSB0aGUgZm9ybWF0IGlmIHRoZXkncmUgMFxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5zdXBwcmVzc1NlY29uZHM9ZmFsc2VdIC0gZXhjbHVkZSBzZWNvbmRzIGZyb20gdGhlIGZvcm1hdCBpZiB0aGV5J3JlIDBcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuaW5jbHVkZU9mZnNldD10cnVlXSAtIGluY2x1ZGUgdGhlIG9mZnNldCwgc3VjaCBhcyAnWicgb3IgJy0wNDowMCdcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuZXh0ZW5kZWRab25lPXRydWVdIC0gYWRkIHRoZSB0aW1lIHpvbmUgZm9ybWF0IGV4dGVuc2lvblxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5pbmNsdWRlUHJlZml4PWZhbHNlXSAtIGluY2x1ZGUgdGhlIGBUYCBwcmVmaXhcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5mb3JtYXQ9J2V4dGVuZGVkJ10gLSBjaG9vc2UgYmV0d2VlbiB0aGUgYmFzaWMgYW5kIGV4dGVuZGVkIGZvcm1hdFxyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUudXRjKCkuc2V0KHsgaG91cjogNywgbWludXRlOiAzNCB9KS50b0lTT1RpbWUoKSAvLz0+ICcwNzozNDoxOS4zNjFaJ1xyXG4gICAgICogQGV4YW1wbGUgRGF0ZVRpbWUudXRjKCkuc2V0KHsgaG91cjogNywgbWludXRlOiAzNCwgc2Vjb25kczogMCwgbWlsbGlzZWNvbmRzOiAwIH0pLnRvSVNPVGltZSh7IHN1cHByZXNzU2Vjb25kczogdHJ1ZSB9KSAvLz0+ICcwNzozNFonXHJcbiAgICAgKiBAZXhhbXBsZSBEYXRlVGltZS51dGMoKS5zZXQoeyBob3VyOiA3LCBtaW51dGU6IDM0IH0pLnRvSVNPVGltZSh7IGZvcm1hdDogJ2Jhc2ljJyB9KSAvLz0+ICcwNzM0MTkuMzYxWidcclxuICAgICAqIEBleGFtcGxlIERhdGVUaW1lLnV0YygpLnNldCh7IGhvdXI6IDcsIG1pbnV0ZTogMzQgfSkudG9JU09UaW1lKHsgaW5jbHVkZVByZWZpeDogdHJ1ZSB9KSAvLz0+ICdUMDc6MzQ6MTkuMzYxWidcclxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfdG9JU09UaW1lKGV4dGVuZGVkOiBib29sZWFuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgIHN1cHByZXNzU2Vjb25kczogYm9vbGVhbixcclxuICAgICAgICAgICAgICAgICAgICAgICBzdXBwcmVzc01pbGxpc2Vjb25kczogYm9vbGVhbixcclxuICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlT2Zmc2V0OiBib29sZWFuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgIGV4dGVuZGVkWm9uZT86IGJvb2xlYW4pOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBjID0gcGFkU3RhcnQodGhpcy5fYy5ob3VyKTtcclxuICAgICAgICBpZiAoZXh0ZW5kZWQpIHtcclxuICAgICAgICAgICAgYyArPSBcIjpcIjtcclxuICAgICAgICAgICAgYyArPSBwYWRTdGFydCh0aGlzLl9jLm1pbnV0ZSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jLnNlY29uZCAhPT0gMCB8fCAhc3VwcHJlc3NTZWNvbmRzKSB7XHJcbiAgICAgICAgICAgICAgICBjICs9IFwiOlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjICs9IHBhZFN0YXJ0KHRoaXMuX2MubWludXRlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9jLnNlY29uZCAhPT0gMCB8fCAhc3VwcHJlc3NTZWNvbmRzKSB7XHJcbiAgICAgICAgICAgIGMgKz0gcGFkU3RhcnQodGhpcy5fYy5zZWNvbmQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2MubWlsbGlzZWNvbmQgIT09IDAgfHwgIXN1cHByZXNzTWlsbGlzZWNvbmRzKSB7XHJcbiAgICAgICAgICAgICAgICBjICs9IFwiLlwiO1xyXG4gICAgICAgICAgICAgICAgYyArPSBwYWRTdGFydCh0aGlzLl9jLm1pbGxpc2Vjb25kLCAzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGluY2x1ZGVPZmZzZXQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNPZmZzZXRGaXhlZCAmJiB0aGlzLm9mZnNldCA9PT0gMCAmJiAhZXh0ZW5kZWRab25lKSB7XHJcbiAgICAgICAgICAgICAgICBjICs9IFwiWlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX28gPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBjICs9IFwiLVwiO1xyXG4gICAgICAgICAgICAgICAgYyArPSBwYWRTdGFydChNYXRoLnRydW5jKC10aGlzLl9vIC8gNjApKTtcclxuICAgICAgICAgICAgICAgIGMgKz0gXCI6XCI7XHJcbiAgICAgICAgICAgICAgICBjICs9IHBhZFN0YXJ0KE1hdGgudHJ1bmMoLXRoaXMuX28gJSA2MCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYyArPSBcIitcIjtcclxuICAgICAgICAgICAgICAgIGMgKz0gcGFkU3RhcnQoTWF0aC50cnVuYyh0aGlzLl9vIC8gNjApKTtcclxuICAgICAgICAgICAgICAgIGMgKz0gXCI6XCI7XHJcbiAgICAgICAgICAgICAgICBjICs9IHBhZFN0YXJ0KE1hdGgudHJ1bmModGhpcy5fbyAlIDYwKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChleHRlbmRlZFpvbmUpIHtcclxuICAgICAgICAgICAgYyArPSBcIltcIiArIHRoaXMuem9uZS5pYW5hTmFtZSArIFwiXVwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGM7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBEYXRlVGltZUxpa2UgPSBEYXRlVGltZSB8IERhdGUgfCBHZW5lcmljRGF0ZVRpbWU7XHJcbiIsImltcG9ydCB7IERhdGVUaW1lIH0gZnJvbSBcIi4vZGF0ZXRpbWVcIjtcclxuaW1wb3J0IHsgRHVyYXRpb24gfSBmcm9tIFwiLi9kdXJhdGlvblwiO1xyXG5pbXBvcnQgeyBJbnRlcnZhbCB9IGZyb20gXCIuL2ludGVydmFsXCI7XHJcbmltcG9ydCB7IEluZm8gfSBmcm9tIFwiLi9pbmZvXCI7XHJcbmltcG9ydCB7IFpvbmUgfSBmcm9tIFwiLi96b25lXCI7XHJcbmltcG9ydCB7IEZpeGVkT2Zmc2V0Wm9uZSB9IGZyb20gXCIuL3pvbmVzL2ZpeGVkT2Zmc2V0Wm9uZVwiO1xyXG5pbXBvcnQgeyBJQU5BWm9uZSB9IGZyb20gXCIuL3pvbmVzL0lBTkFab25lXCI7XHJcbmltcG9ydCB7IEludmFsaWRab25lIH0gZnJvbSBcIi4vem9uZXMvaW52YWxpZFpvbmVcIjtcclxuaW1wb3J0IHsgU3lzdGVtWm9uZSB9IGZyb20gXCIuL3pvbmVzL3N5c3RlbVpvbmVcIjtcclxuaW1wb3J0IHsgU2V0dGluZ3MgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xyXG5pbXBvcnQgeyBPUkRFUkVEX1VOSVRTLCBSRVZFUlNFX09SREVSRURfVU5JVFMgfSBmcm9tIFwiLi9pbXBsL3V0aWxcIjtcclxuaW1wb3J0IHsgTm9ybWFsaXplZER1cmF0aW9uVW5pdCB9IGZyb20gXCIuL3R5cGVzL2R1cmF0aW9uXCI7XHJcblxyXG5leHBvcnQgKiBmcm9tIFwiLi90eXBlcy9wdWJsaWNcIjtcclxuXHJcbmNvbnN0IFZFUlNJT04gPSBcIjMuNC4wXCI7XHJcblxyXG5leHBvcnQge1xyXG4gICAgRGF0ZVRpbWUsXHJcbiAgICBEdXJhdGlvbixcclxuICAgIEludGVydmFsLFxyXG4gICAgSW5mbyxcclxuICAgIFpvbmUsXHJcbiAgICBGaXhlZE9mZnNldFpvbmUsXHJcbiAgICBJQU5BWm9uZSxcclxuICAgIEludmFsaWRab25lLFxyXG4gICAgU3lzdGVtWm9uZSxcclxuICAgIFNldHRpbmdzLFxyXG4gICAgVkVSU0lPTixcclxuICAgIE9SREVSRURfVU5JVFMsXHJcbiAgICBSRVZFUlNFX09SREVSRURfVU5JVFMsXHJcbiAgICBOb3JtYWxpemVkRHVyYXRpb25Vbml0XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJUc0x1eG9uRXJyb3IiLCJFcnJvciIsIkludmFsaWREYXRlVGltZUVycm9yIiwiY29uc3RydWN0b3IiLCJyZWFzb24iLCJzdXBlciIsInRvTWVzc2FnZSIsIkludmFsaWREdXJhdGlvbkVycm9yIiwiSW52YWxpZEludGVydmFsRXJyb3IiLCJJbnZhbGlkVW5pdEVycm9yIiwidW5pdCIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwidGhpcyIsInByb3RvdHlwZSIsIkludmFsaWRab25lRXJyb3IiLCJ6b25lTmFtZSIsIkNvbmZsaWN0aW5nU3BlY2lmaWNhdGlvbkVycm9yIiwibWVzc2FnZSIsIkludmFsaWRBcmd1bWVudEVycm9yIiwiWm9uZUlzQWJzdHJhY3RFcnJvciIsIkludGwiLCJpc0RlZmluZWQiLCJvIiwiaXNVbmRlZmluZWQiLCJpc051bWJlciIsImlzSW50ZWdlciIsImhhc1JlbGF0aXZlIiwiUmVsYXRpdmVUaW1lRm9ybWF0IiwiZSIsImJlc3RCeSIsImFyciIsImJ5IiwiY29tcGFyZSIsImxlbmd0aCIsInJlZHVjZSIsImJlc3QiLCJuZXh0IiwicGFpciIsImludGVnZXJCZXR3ZWVuIiwidGhpbmciLCJib3R0b20iLCJ0b3AiLCJwYWRTdGFydCIsImlucHV0IiwibiIsIm1pbnVzIiwidGFyZ2V0IiwicmVzdWx0IiwidG9TdHJpbmciLCJyZXBlYXQiLCJzbGljZSIsInBhcnNlSW50ZWdlciIsInRleHQiLCJwYXJzZUludCIsInBhcnNlRmxvYXRpbmciLCJwYXJzZUZsb2F0IiwicGFyc2VNaWxsaXMiLCJmcmFjdGlvbiIsImYiLCJNYXRoIiwiZmxvb3IiLCJyb3VuZFRvIiwidmFsdWUiLCJkaWdpdHMiLCJ0b3dhcmRaZXJvIiwiZmFjdG9yIiwidHJ1bmMiLCJyb3VuZCIsImlzTGVhcFllYXIiLCJ5ZWFyIiwiZGF5c0luWWVhciIsImRheXNJbk1vbnRoIiwibW9udGgiLCJtb2RNb250aCIsIngiLCJmbG9vck1vZCIsIm9ialRvTG9jYWxUUyIsIm9iaiIsInRzIiwiRGF0ZSIsIlVUQyIsImRheSIsImhvdXIiLCJtaW51dGUiLCJzZWNvbmQiLCJtaWxsaXNlY29uZCIsImRhdGUiLCJzZXRVVENGdWxsWWVhciIsImdldFVUQ0Z1bGxZZWFyIiwiZ2V0VGltZSIsIndlZWtzSW5XZWVrWWVhciIsIndlZWtZZWFyIiwicDEiLCJwMiIsImxhc3QiLCJ1bnRydW5jYXRlWWVhciIsInBhcnNlWm9uZUluZm8iLCJvZmZzZXRGb3JtYXQiLCJsb2NhbGUiLCJ0aW1lWm9uZSIsIm1vZGlmaWVkIiwidGltZVpvbmVOYW1lIiwiaG91ckN5Y2xlIiwicGFyc2VkIiwiRGF0ZVRpbWVGb3JtYXQiLCJmb3JtYXRUb1BhcnRzIiwiZmluZCIsIm0iLCJ0eXBlIiwidG9Mb3dlckNhc2UiLCJzaWduZWRPZmZzZXQiLCJvZmZIb3VyU3RyIiwib2ZmTWludXRlU3RyIiwib2ZmSG91ciIsIk51bWJlciIsImlzTmFOIiwib2ZmTWluIiwib2ZmTWluU2lnbmVkIiwiaXMiLCJhc051bWJlciIsIm51bWVyaWNWYWx1ZSIsIm5vcm1hbGl6ZU9iamVjdCIsIm5vcm1hbGl6ZXIiLCJrZXlzIiwiYWNjIiwidSIsImZvcm1hdE9mZnNldCIsIm9mZnNldCIsImZvcm1hdCIsImhvdXJzIiwiYWJzIiwibWludXRlcyIsInNpZ24iLCJSYW5nZUVycm9yIiwidGltZU9iamVjdCIsImEiLCJrIiwicGljayIsIklBTkFfUkVHRVgiLCJPUkRFUkVEX1VOSVRTIiwiUkVWRVJTRV9PUkRFUkVEX1VOSVRTIiwicmV2ZXJzZSIsIkhVTUFOX09SREVSRURfVU5JVFMiLCJzIiwibCIsIkRBVEVfU0hPUlQiLCJEQVRFX01FRCIsIkRBVEVfTUVEX1dJVEhfV0VFS0RBWSIsIndlZWtkYXkiLCJEQVRFX0ZVTEwiLCJEQVRFX0hVR0UiLCJUSU1FX1NJTVBMRSIsIlRJTUVfV0lUSF9TRUNPTkRTIiwiVElNRV9XSVRIX1NIT1JUX09GRlNFVCIsIlRJTUVfV0lUSF9MT05HX09GRlNFVCIsIlRJTUVfMjRfU0lNUExFIiwiVElNRV8yNF9XSVRIX1NFQ09ORFMiLCJUSU1FXzI0X1dJVEhfU0hPUlRfT0ZGU0VUIiwiVElNRV8yNF9XSVRIX0xPTkdfT0ZGU0VUIiwiREFURVRJTUVfU0hPUlQiLCJEQVRFVElNRV9TSE9SVF9XSVRIX1NFQ09ORFMiLCJEQVRFVElNRV9NRUQiLCJEQVRFVElNRV9NRURfV0lUSF9TRUNPTkRTIiwiREFURVRJTUVfTUVEX1dJVEhfV0VFS0RBWSIsIkRBVEVUSU1FX0ZVTEwiLCJEQVRFVElNRV9GVUxMX1dJVEhfU0VDT05EUyIsIkRBVEVUSU1FX0hVR0UiLCJEQVRFVElNRV9IVUdFX1dJVEhfU0VDT05EUyIsIm1vbnRoc0xvbmciLCJtb250aHNTaG9ydCIsIm1vbnRoc05hcnJvdyIsIm1vbnRocyIsIndlZWtkYXlzTG9uZyIsIndlZWtkYXlzU2hvcnQiLCJ3ZWVrZGF5c05hcnJvdyIsIndlZWtkYXlzIiwibWVyaWRpZW1zIiwiZXJhc0xvbmciLCJlcmFzU2hvcnQiLCJlcmFzTmFycm93IiwiZXJhcyIsInNpbGVuY2VVbnVzZWRXYXJuaW5nIiwiYXJncyIsIlpvbmUiLCJuYW1lIiwib2Zmc2V0TmFtZSIsIm9wdGlvbnMiLCJlcXVhbHMiLCJvdGhlciIsImR0ZkNhY2hlIiwidHlwZVRvUG9zIiwiZXJhIiwiaGFja3lPZmZzZXQiLCJkdGYiLCJmb3JtYXR0ZWQiLCJyZXBsYWNlIiwiZk1vbnRoIiwiZkRheSIsImZZZWFyIiwiZmFkT3JCYyIsImZIb3VyIiwiZk1pbnV0ZSIsImZTZWNvbmQiLCJleGVjIiwicGFydHNPZmZzZXQiLCJmaWxsZWQiLCJpIiwicG9zIiwiaWFuYVpvbmVDYWNoZSIsIklBTkFab25lIiwiX3pvbmVOYW1lIiwiX3ZhbGlkIiwiaXNWYWxpZFpvbmUiLCJjcmVhdGUiLCJyZXNldENhY2hlIiwiaXNWYWxpZFNwZWNpZmllciIsInpvbmUiLCJOYU4iLCJob3VyMTIiLCJtYWtlRFRGIiwieWVhckFsdCIsImFkT3JCYyIsIm92ZXIiLCJhc1RTIiwic2luZ2xldG9uIiwiRml4ZWRPZmZzZXRab25lIiwiX2ZpeGVkIiwiaW5zdGFuY2UiLCJ1dGNJbnN0YW5jZSIsInBhcnNlU3BlY2lmaWVyIiwiciIsIm1hdGNoIiwiX3RzXyIsIm90aGVyWm9uZSIsIkludmFsaWRab25lIiwibm9ybWFsaXplWm9uZSIsImRlZmF1bHRab25lIiwiaXNTdHJpbmciLCJsb3dlcmVkIiwiU3lzdGVtWm9uZSIsInJlc29sdmVkT3B0aW9ucyIsImdldFRpbWV6b25lT2Zmc2V0IiwiZGVmYXVsdExvY2FsZSIsImRlZmF1bHROdW1iZXJpbmdTeXN0ZW0iLCJkZWZhdWx0T3V0cHV0Q2FsZW5kYXIiLCJub3ciLCJ0aHJvd09uSW52YWxpZCIsIlNldHRpbmdzIiwibnVtYmVyaW5nU3lzdGVtIiwib3V0cHV0Q2FsZW5kYXIiLCJ0IiwicmVzZXRDYWNoZXMiLCJMb2NhbGUiLCJpbnRsTEZDYWNoZSIsImludGxEVENhY2hlIiwiZ2V0Q2FjaGVkRFRGIiwibG9jU3RyaW5nIiwia2V5IiwiSlNPTiIsInN0cmluZ2lmeSIsImludGxOdW1DYWNoZSIsInN5c0xvY2FsZUNhY2hlIiwiaW50bFJlbENhY2hlIiwibGlzdFN0dWZmIiwibG9jIiwiZW5nbGlzaEZuIiwiaW50bEZuIiwibGlzdGluZ01vZGUiLCJQb2x5TnVtYmVyRm9ybWF0dGVyIiwiaW50bCIsImZvcmNlU2ltcGxlIiwib3B0cyIsIl9wYWRUbyIsInBhZFRvIiwiX2Zsb29yIiwib3RoZXJPcHRzIiwiaW50bE9wdHMiLCJ1c2VHcm91cGluZyIsIm1pbmltdW1JbnRlZ2VyRGlnaXRzIiwiX2luZiIsImluZiIsIk51bWJlckZvcm1hdCIsImdldENhY2hlZElORiIsImZpeGVkIiwiUG9seURhdGVGb3JtYXR0ZXIiLCJkdCIsInoiLCJvZmZzZXRaIiwiX29wdHMiLCJpc1VuaXZlcnNhbCIsImdtdE9mZnNldCIsImlzVmFsaWQiLCJfZHQiLCJEYXRlVGltZSIsImZyb21NaWxsaXMiLCJfZHRmIiwidG9KU0RhdGUiLCJQb2x5UmVsRm9ybWF0dGVyIiwiaXNFbmdsaXNoIiwic3R5bGUiLCJfcnRmIiwiZ2V0Q2FjaGVkUlRGIiwiY291bnQiLCJudW1lcmljIiwibmFycm93Iiwibm9ybWFsaXplZFVuaXQiLCJEdXJhdGlvbiIsIm5vcm1hbGl6ZVVuaXQiLCJ1bml0VGV4dHMiLCJ5ZWFycyIsInF1YXJ0ZXJzIiwid2Vla3MiLCJkYXlzIiwic2Vjb25kcyIsIm1pbGxpc2Vjb25kcyIsImxhc3RhYmxlIiwiaW5kZXhPZiIsImlzRGF5IiwiaXNJblBhc3QiLCJzaW5ndWxhciIsImZvcm1hdFZhbHVlIiwiZm9ybWF0VW5pdCIsIkVuZ2xpc2guZm9ybWF0UmVsYXRpdmVUaW1lIiwic3BlY2lmaWVkTG9jYWxlIiwicGFyc2VkTG9jYWxlIiwicGFyc2VkTnVtYmVyaW5nU3lzdGVtIiwicGFyc2VkT3V0cHV0Q2FsZW5kYXIiLCJsb2NhbGVTdHIiLCJ1SW5kZXgiLCJzbWFsbGVyIiwic3Vic3RyaW5nIiwiY2FsZW5kYXIiLCJwYXJzZUxvY2FsZVN0cmluZyIsIl9pbnRsIiwiaW50bENvbmZpZ1N0cmluZyIsIl93ZWVrZGF5c0NhY2hlIiwic3RhbmRhbG9uZSIsIl9tb250aHNDYWNoZSIsIl9tZXJpZGllbUNhY2hlIiwiX2VyYUNhY2hlIiwiX3NwZWNpZmllZExvY2FsZSIsIl9mYXN0TnVtYmVyc0NhY2hlZCIsIl9zdXBwb3J0c0Zhc3ROdW1iZXJzIiwiZnJvbU9wdHMiLCJkZWZhdWx0VG9FTiIsImxvY2FsZVIiLCJudW1iZXJpbmdTeXN0ZW1SIiwib3V0cHV0Q2FsZW5kYXJSIiwiZnJvbU9iamVjdCIsImlzQWN0dWFsbHlFbiIsImhhc05vV2VpcmRuZXNzIiwiY2xvbmUiLCJhbHRzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsInJlZGVmYXVsdFRvRU4iLCJyZWRlZmF1bHRUb1N5c3RlbSIsIkVuZ2xpc2gubW9udGhzIiwibGVuIiwiZm9ybWF0U3RyIiwibXMiLCJ1dGMiLCJwdXNoIiwibWFwTW9udGhzIiwiZXh0cmFjdCIsIkVuZ2xpc2gud2Vla2RheXMiLCJtYXBXZWVrZGF5cyIsIkVuZ2xpc2gubWVyaWRpZW1zIiwibWFwIiwiRW5nbGlzaC5lcmFzIiwiaW50bE9wdGlvbnMiLCJmaWVsZCIsIm1hdGNoaW5nIiwiZHRGb3JtYXR0ZXIiLCJudW1iZXJGb3JtYXR0ZXIiLCJmYXN0TnVtYmVycyIsInJlbEZvcm1hdHRlciIsImxpc3RGb3JtYXR0ZXIiLCJMaXN0Rm9ybWF0IiwiZ2V0Q2FjaGVkTEYiLCJzdGFydHNXaXRoIiwic3RyaW5naWZ5VG9rZW5zIiwic3BsaXRzIiwidG9rZW5Ub1N0cmluZyIsInRva2VuIiwibGl0ZXJhbCIsInZhbCIsIlRva2VuVG9Gb3JtYXRPcHRzIiwiRCIsIkZvcm1hdHMuREFURV9TSE9SVCIsIkREIiwiRm9ybWF0cy5EQVRFX01FRCIsIkRERCIsIkZvcm1hdHMuREFURV9GVUxMIiwiRERERCIsIkZvcm1hdHMuREFURV9IVUdFIiwiRm9ybWF0cy5USU1FX1NJTVBMRSIsInR0IiwiRm9ybWF0cy5USU1FX1dJVEhfU0VDT05EUyIsInR0dCIsIkZvcm1hdHMuVElNRV9XSVRIX1NIT1JUX09GRlNFVCIsInR0dHQiLCJGb3JtYXRzLlRJTUVfV0lUSF9MT05HX09GRlNFVCIsIlQiLCJGb3JtYXRzLlRJTUVfMjRfU0lNUExFIiwiVFQiLCJGb3JtYXRzLlRJTUVfMjRfV0lUSF9TRUNPTkRTIiwiVFRUIiwiRm9ybWF0cy5USU1FXzI0X1dJVEhfU0hPUlRfT0ZGU0VUIiwiVFRUVCIsIkZvcm1hdHMuVElNRV8yNF9XSVRIX0xPTkdfT0ZGU0VUIiwiRm9ybWF0cy5EQVRFVElNRV9TSE9SVCIsImZmIiwiRm9ybWF0cy5EQVRFVElNRV9NRUQiLCJmZmYiLCJGb3JtYXRzLkRBVEVUSU1FX0ZVTEwiLCJmZmZmIiwiRm9ybWF0cy5EQVRFVElNRV9IVUdFIiwiRiIsIkZvcm1hdHMuREFURVRJTUVfU0hPUlRfV0lUSF9TRUNPTkRTIiwiRkYiLCJGb3JtYXRzLkRBVEVUSU1FX01FRF9XSVRIX1NFQ09ORFMiLCJGRkYiLCJGb3JtYXRzLkRBVEVUSU1FX0ZVTExfV0lUSF9TRUNPTkRTIiwiRkZGRiIsIkZvcm1hdHMuREFURVRJTUVfSFVHRV9XSVRIX1NFQ09ORFMiLCJGb3JtYXR0ZXIiLCJmb3JtYXRPcHRpb25zIiwiX2xvYyIsIl9zeXN0ZW1Mb2MiLCJwYXJzZUZvcm1hdCIsImZtdCIsImN1cnJlbnQiLCJjdXJyZW50RnVsbCIsImJyYWNrZXRlZCIsImMiLCJjaGFyQXQiLCJtYWNyb1Rva2VuVG9Gb3JtYXRPcHRzIiwiZm9ybWF0V2l0aFN5c3RlbURlZmF1bHQiLCJmb3JtYXREYXRlVGltZSIsImZvcm1hdERhdGVUaW1lUGFydHMiLCJudW0iLCJwIiwiZm9ybWF0RGF0ZVRpbWVGcm9tU3RyaW5nIiwia25vd25FbmdsaXNoIiwidXNlRGF0ZVRpbWVGb3JtYXR0ZXIiLCJzdHJpbmciLCJpc09mZnNldEZpeGVkIiwiYWxsb3daIiwibWVyaWRpZW0iLCJFbmdsaXNoLm1lcmlkaWVtRm9yRGF0ZVRpbWUiLCJFbmdsaXNoLm1vbnRoRm9yRGF0ZVRpbWUiLCJFbmdsaXNoLndlZWtkYXlGb3JEYXRlVGltZSIsIm1heWJlTWFjcm8iLCJmb3JtYXRPcHRzIiwiRW5nbGlzaC5lcmFGb3JEYXRlVGltZSIsIndlZWtOdW1iZXIiLCJvcmRpbmFsIiwicXVhcnRlciIsImZvcm1hdER1cmF0aW9uRnJvbVN0cmluZyIsImR1ciIsInRva2VuVG9GaWVsZCIsInRva2VucyIsInJlYWxUb2tlbnMiLCJmb3VuZCIsImNvbmNhdCIsImNvbGxhcHNlZCIsInNoaWZ0VG8iLCJmaWx0ZXIiLCJtYXBwZWQiLCJsaWxkdXIiLCJnZXQiLCJjb21iaW5lUmVnZXhlcyIsInJlZ2V4ZXMiLCJmdWxsIiwic291cmNlIiwiUmVnRXhwIiwiY29tYmluZUV4dHJhY3RvcnMiLCJleHRyYWN0b3JzIiwibWVyZ2VkVmFscyIsIm1lcmdlZFpvbmUiLCJjdXJzb3IiLCJleCIsInBhcnNlIiwicGF0dGVybnMiLCJyZWdleCIsImV4dHJhY3RvciIsInNpbXBsZVBhcnNlIiwicmV0Iiwib2Zmc2V0UmVnZXgiLCJpc29UaW1lQmFzZVJlZ2V4IiwiaXNvVGltZVJlZ2V4IiwiaXNvVGltZUV4dGVuc2lvblJlZ2V4IiwiZXh0cmFjdElTT1dlZWtEYXRhIiwiZXh0cmFjdElTT09yZGluYWxEYXRhIiwic3FsVGltZVJlZ2V4Iiwic3FsVGltZUV4dGVuc2lvblJlZ2V4IiwiaW50IiwiZmFsbGJhY2siLCJleHRyYWN0SVNPVGltZSIsImV4dHJhY3RJU09PZmZzZXQiLCJsb2NhbCIsImZ1bGxPZmZzZXQiLCJleHRyYWN0SUFOQVpvbmUiLCJpc29UaW1lT25seSIsImlzb0R1cmF0aW9uIiwiZXh0cmFjdElTT0R1cmF0aW9uIiwieWVhclN0ciIsIm1vbnRoU3RyIiwid2Vla1N0ciIsImRheVN0ciIsImhvdXJTdHIiLCJtaW51dGVTdHIiLCJzZWNvbmRTdHIiLCJtaWxsaXNlY29uZHNTdHIiLCJoYXNOZWdhdGl2ZVByZWZpeCIsIm5lZ2F0aXZlU2Vjb25kcyIsIm1heWJlTmVnYXRlIiwiZm9yY2UiLCJvYnNPZmZzZXRzIiwiR01UIiwiRURUIiwiRVNUIiwiQ0RUIiwiQ1NUIiwiTURUIiwiTVNUIiwiUERUIiwiUFNUIiwiZnJvbVN0cmluZ3MiLCJ3ZWVrZGF5U3RyIiwiRW5nbGlzaC53ZWVrZGF5c0xvbmciLCJFbmdsaXNoLndlZWtkYXlzU2hvcnQiLCJFbmdsaXNoLm1vbnRoc1Nob3J0IiwicmZjMjgyMiIsImV4dHJhY3RSRkMyODIyIiwib2JzT2Zmc2V0IiwibWlsT2Zmc2V0IiwicmZjMTEyMyIsInJmYzg1MCIsImFzY2lpIiwiZXh0cmFjdFJGQzExMjNPcjg1MCIsImV4dHJhY3RBU0NJSSIsImlzb1ltZFdpdGhUaW1lRXh0ZW5zaW9uUmVnZXgiLCJpc29XZWVrV2l0aFRpbWVFeHRlbnNpb25SZWdleCIsImlzb09yZGluYWxXaXRoVGltZUV4dGVuc2lvblJlZ2V4IiwiaXNvVGltZUNvbWJpbmVkUmVnZXgiLCJleHRyYWN0SVNPWW1kVGltZUFuZE9mZnNldCIsImV4dHJhY3RJU09XZWVrVGltZUFuZE9mZnNldCIsImV4dHJhY3RJU09PcmRpbmFsRGF0ZUFuZFRpbWUiLCJleHRyYWN0SVNPVGltZUFuZE9mZnNldCIsInNxbFltZFdpdGhUaW1lRXh0ZW5zaW9uUmVnZXgiLCJzcWxUaW1lQ29tYmluZWRSZWdleCIsImV4dHJhY3RJU09UaW1lT2Zmc2V0QW5kSUFOQVpvbmUiLCJJbnZhbGlkIiwiZXhwbGFuYXRpb24iLCJfZm9ybWF0dGVkRXhwbGFuYXRpb24iLCJsb3dPcmRlck1hdHJpeCIsImNhc3VhbE1hdHJpeCIsImFjY3VyYXRlTWF0cml4IiwiZGF5c0luWWVhckFjY3VyYXRlIiwiY29udmVydCIsIm1hdHJpeCIsImZyb21NYXAiLCJmcm9tVW5pdCIsInRvTWFwIiwidG9Vbml0IiwiY29udiIsInJhdyIsImFkZGVkIiwiY2VpbCIsImFudGlUcnVuYyIsImVxIiwidjEiLCJ2MiIsImNvbmZpZyIsImFjY3VyYXRlIiwiY29udmVyc2lvbkFjY3VyYWN5IiwiX3ZhbHVlcyIsInZhbHVlcyIsIl9jb252ZXJzaW9uQWNjdXJhY3kiLCJfaW52YWxpZCIsImludmFsaWQiLCJfbWF0cml4IiwiX2lzTHV4b25EdXJhdGlvbiIsImZyb21JU09UaW1lIiwicGFyc2VJU09UaW1lT25seSIsImZyb21EdXJhdGlvbkxpa2UiLCJkdXJhdGlvbkxpa2UiLCJpc0R1cmF0aW9uIiwiZnJvbUlTTyIsInBhcnNlSVNPRHVyYXRpb24iLCJub3JtYWxpemVkIiwid2VlayIsImdldE1heFVuaXQiLCJvbmx5SHVtYW4iLCJyZWZVbml0cyIsInRvT2JqZWN0IiwidG9Gb3JtYXQiLCJmbXRPcHRzIiwidG9IdW1hbiIsIm1heFVuaXQiLCJvbmx5SHVtYW5Vbml0cyIsInNoaWZ0ZWRWYWx1ZXMiLCJ1bml0RGlzcGxheSIsIm1lcmdlZE9wdHMiLCJsaXN0U3R5bGUiLCJ0b0lTTyIsInRvSVNPVGltZSIsIm1pbGxpcyIsInRvTWlsbGlzIiwic3VwcHJlc3NNaWxsaXNlY29uZHMiLCJzdXBwcmVzc1NlY29uZHMiLCJpbmNsdWRlUHJlZml4Iiwic3RyIiwidG9KU09OIiwiYXMiLCJ2YWx1ZU9mIiwicGx1cyIsImR1cmF0aW9uIiwiZm9yRWFjaCIsIl9jbG9uZSIsIm5lZ2F0ZSIsIm1hcFVuaXRzIiwiZm4iLCJzZXQiLCJtaXhlZCIsInJlY29uZmlndXJlIiwiY29uZiIsIm5vcm1hbGl6ZSIsInZhbHMiLCJwcmV2aW91c1VuaXQiLCJub3JtYWxpemVWYWx1ZXMiLCJyZXNjYWxlIiwiZW50cmllcyIsInJlbW92ZVplcm9lcyIsInNoaWZ0VG9BbGwiLCJ1bml0cyIsImJ1aWx0IiwiYWNjdW11bGF0ZWQiLCJsYXN0VW5pdCIsIm93biIsImFrIiwiZG93biIsInYiLCJuZWdhdGVkIiwiY2xlYXIiLCJJTlZBTElEIiwiZnJpZW5kbHlEYXRlVGltZSIsImRhdGVUaW1laXNoIiwiaXNEYXRlVGltZSIsImZyb21KU0RhdGUiLCJJbnRlcnZhbCIsIl9zIiwic3RhcnQiLCJfZSIsImVuZCIsIl9pc0x1eG9uSW50ZXJ2YWwiLCJpbnZhbGlkUmVhc29uIiwiZnJvbURhdGVUaW1lcyIsInZhbGlkYXRlU3RhcnRFbmQiLCJidWlsdFN0YXJ0IiwiYnVpbHRFbmQiLCJhZnRlciIsImJlZm9yZSIsInNwbGl0Iiwic3RhcnRJc1ZhbGlkIiwiZW5kSXNWYWxpZCIsImlzSW50ZXJ2YWwiLCJtZXJnZSIsImludGVydmFscyIsImZpbmFsIiwic29ydCIsImIiLCJzb2ZhciIsIml0ZW0iLCJvdmVybGFwcyIsImFidXRzU3RhcnQiLCJ1bmlvbiIsInhvciIsImN1cnJlbnRDb3VudCIsInJlc3VsdHMiLCJlbmRzIiwidGltZSIsIkFycmF5IiwidG9EdXJhdGlvbiIsInN0YXJ0T2YiLCJkaWZmIiwiaGFzU2FtZSIsImlzRW1wdHkiLCJpc0FmdGVyIiwiZGF0ZVRpbWUiLCJpc0JlZm9yZSIsImNvbnRhaW5zIiwic3BsaXRBdCIsImRhdGVUaW1lcyIsInNvcnRlZCIsImQiLCJzcGxpdEJ5IiwiaWR4IiwiZGl2aWRlRXF1YWxseSIsIm51bWJlck9mUGFydHMiLCJhYnV0c0VuZCIsImVuZ3VsZnMiLCJpbnRlcnNlY3Rpb24iLCJkaWZmZXJlbmNlIiwidG9JU09EYXRlIiwiZGF0ZUZvcm1hdCIsInNlcGFyYXRvciIsIm1hcEVuZHBvaW50cyIsIm1hcEZuIiwiSW5mbyIsImhhc0RTVCIsInByb3RvIiwic2V0Wm9uZSIsImlzVmFsaWRJQU5BWm9uZSIsImxvY09iaiIsIm1vbnRoc0Zvcm1hdCIsIndlZWtkYXlzRm9ybWF0IiwiZmVhdHVyZXMiLCJyZWxhdGl2ZSIsImRheURpZmYiLCJlYXJsaWVyIiwibGF0ZXIiLCJ1dGNEYXlTdGFydCIsInRvVVRDIiwia2VlcExvY2FsVGltZSIsImhpZ2hXYXRlciIsImxvd2VzdE9yZGVyIiwiZGlmZmVyIiwiZGlmZmVycyIsImRlbHRhIiwiaGlnaE9yZGVyRGlmZnMiLCJyZW1haW5pbmdNaWxsaXMiLCJsb3dlck9yZGVyVW5pdHMiLCJudW1iZXJpbmdTeXN0ZW1zIiwiYXJhYiIsImFyYWJleHQiLCJiYWxpIiwiYmVuZyIsImRldmEiLCJmdWxsd2lkZSIsImd1anIiLCJoYW5pZGVjIiwia2htciIsImtuZGEiLCJsYW9vIiwibGltYiIsIm1seW0iLCJtb25nIiwibXltciIsIm9yeWEiLCJ0YW1sZGVjIiwidGVsdSIsInRoYWkiLCJ0aWJ0IiwibGF0biIsIm51bWJlcmluZ1N5c3RlbXNVVEYxNiIsImhhbmlkZWNDaGFycyIsImRpZ2l0UmVnZXgiLCJhcHBlbmQiLCJpbnRVbml0IiwicG9zdCIsImRlc2VyIiwiaW50VmFsdWUiLCJjb2RlIiwiY2hhckNvZGVBdCIsInNlYXJjaCIsIm1pbiIsIm1heCIsInBhcnNlRGlnaXRzIiwic3BhY2VPck5CU1BQYXR0ZXJuIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwic3BhY2VPck5CU1BSZWdFeHAiLCJmaXhMaXN0UmVnZXgiLCJzdHJpcEluc2Vuc2l0aXZpdGllcyIsIm9uZU9mIiwic3RyaW5ncyIsInN0YXJ0SW5kZXgiLCJqb2luIiwiZmluZEluZGV4IiwiZ3JvdXBzIiwiaCIsInNpbXBsZSIsImVzY2FwZVRva2VuIiwicGFydFR5cGVTdHlsZVRvVG9rZW5WYWwiLCIyLWRpZ2l0Iiwic2hvcnQiLCJsb25nIiwiZHVtbXlEYXRlVGltZUNhY2hlIiwibWF5YmVFeHBhbmRNYWNyb1Rva2VuIiwicGFydCIsInRva2VuVmFscyIsInRva2VuRm9yUGFydCIsImlzSW52YWxpZFVuaXRQYXJzZXIiLCJwYXJzZXIiLCJleHBsYWluRnJvbVRva2VucyIsImV4cGFuZE1hY3JvVG9rZW5zIiwib25lIiwidHdvIiwidGhyZWUiLCJmb3VyIiwic2l4Iiwib25lT3JUd28iLCJvbmVUb1RocmVlIiwib25lVG9TaXgiLCJvbmVUb05pbmUiLCJ0d29Ub0ZvdXIiLCJmb3VyVG9TaXgiLCJ1bml0Rm9yVG9rZW4iLCJkaXNxdWFsaWZ5aW5nVW5pdCIsInJlZ2V4U3RyaW5nIiwiYnVpbGRSZWdleCIsInJhd01hdGNoZXMiLCJtYXRjaGVzIiwiaGFuZGxlcnMiLCJhbGwiLCJtYXRjaEluZGV4Iiwic3BlY2lmaWNPZmZzZXQiLCJaIiwicSIsIk0iLCJHIiwieSIsIlMiLCJkYXRlVGltZUZyb21NYXRjaGVzIiwibm9uTGVhcExhZGRlciIsImxlYXBMYWRkZXIiLCJ1bml0T3V0T2ZSYW5nZSIsImRheU9mV2VlayIsImpzIiwiZ2V0VVRDRGF5IiwiY29tcHV0ZU9yZGluYWwiLCJ1bmNvbXB1dGVPcmRpbmFsIiwidGFibGUiLCJtb250aDAiLCJncmVnb3JpYW5Ub1dlZWsiLCJncmVnT2JqIiwid2Vla1RvR3JlZ29yaWFuIiwid2Vla0RhdGEiLCJ3ZWVrZGF5T2ZKYW40IiwieWVhckluRGF5cyIsImdyZWdvcmlhblRvT3JkaW5hbCIsImdyZWdEYXRhIiwib3JkaW5hbFRvR3JlZ29yaWFuIiwib3JkaW5hbERhdGEiLCJoYXNJbnZhbGlkV2Vla0RhdGEiLCJ2YWxpZFllYXIiLCJ2YWxpZFdlZWsiLCJ2YWxpZFdlZWtkYXkiLCJoYXNJbnZhbGlkT3JkaW5hbERhdGEiLCJ2YWxpZE9yZGluYWwiLCJoYXNJbnZhbGlkR3JlZ29yaWFuRGF0YSIsInZhbGlkTW9udGgiLCJ2YWxpZERheSIsImhhc0ludmFsaWRUaW1lRGF0YSIsInZhbGlkSG91ciIsInZhbGlkTWludXRlIiwidmFsaWRTZWNvbmQiLCJ2YWxpZE1pbGxpc2Vjb25kIiwiZml4T2Zmc2V0IiwibG9jYWxUUyIsInR6IiwidXRjR3Vlc3MiLCJvMiIsIm8zIiwidHNUb09iaiIsImdldFVUQ01vbnRoIiwiZ2V0VVRDRGF0ZSIsImdldFVUQ0hvdXJzIiwiZ2V0VVRDTWludXRlcyIsImdldFVUQ1NlY29uZHMiLCJnZXRVVENNaWxsaXNlY29uZHMiLCJvYmpUb1RTIiwicGFyc2VEYXRhVG9EYXRlVGltZSIsInBhcnNlZFpvbmUiLCJpbnRlcnByZXRhdGlvblpvbmUiLCJpbnN0IiwidG9UZWNoRm9ybWF0IiwiZGVmYXVsdFVuaXRWYWx1ZXMiLCJkZWZhdWx0V2Vla1VuaXRWYWx1ZXMiLCJkZWZhdWx0T3JkaW5hbFVuaXRWYWx1ZXMiLCJvcmRlcmVkVW5pdHMiLCJvcmRlcmVkV2Vla1VuaXRzIiwib3JkZXJlZE9yZGluYWxVbml0cyIsIndlZWtudW1iZXIiLCJ3ZWVrc251bWJlciIsIndlZWtudW1iZXJzIiwid2Vla3llYXIiLCJ3ZWVreWVhcnMiLCJfdW5zdXBwb3J0ZWRab25lIiwib3QiLCJfdHMiLCJvbGQiLCJfem9uZSIsIl93ZWVrRGF0YSIsIl9jIiwiX28iLCJfaXNMdXhvbkRhdGVUaW1lIiwiX3Bvc3NpYmx5Q2FjaGVkV2Vla0RhdGEiLCJkYXRlVmFsdWVzIiwiX2xhc3RPcHRzIiwiX3F1aWNrRFQiLCJjYWxsIiwiaXNEYXRlIiwiem9uZVRvVXNlIiwiZnJvbVNlY29uZHMiLCJ0c05vdyIsIm9mZnNldFByb3ZpcyIsImNvbnRhaW5zT3JkaW5hbCIsImNvbnRhaW5zR3JlZ29yWWVhciIsImNvbnRhaW5zR3JlZ29yTUQiLCJjb250YWluc0dyZWdvciIsImRlZmluaXRlV2Vla0RlZiIsInVzZVdlZWtEYXRhIiwidG1wTm93IiwiX2J1aWxkT2JqZWN0IiwicGFyc2VJU09EYXRlIiwiZnJvbVJGQzI4MjIiLCJ0cmltIiwicHJlcHJvY2Vzc1JGQzI4MjIiLCJwYXJzZVJGQzI4MjJEYXRlIiwiZnJvbUhUVFAiLCJwYXJzZUhUVFBEYXRlIiwiZnJvbUZvcm1hdCIsInBhcnNlRnJvbVRva2VucyIsImZyb21TdHJpbmciLCJmcm9tU1FMIiwicGFyc2VTUUwiLCJldmVyeSIsImZyb21Gb3JtYXRFeHBsYWluIiwiZnJvbVN0cmluZ0V4cGxhaW4iLCJkZWZhdWx0VmFsdWVzIiwib2JqTm93IiwiZm91bmRGaXJzdCIsImdyZWdvcmlhbiIsInRzRmluYWwiLCJvZmZzZXRGaW5hbCIsImFyZ0xpc3QiLCJwb3AiLCJmcm9tIiwiX2RpZmZSZWxhdGl2ZSIsImNhbGVuZGFyeSIsInJlc29sdmVkTG9jYWxlT3B0aW9ucyIsInRvTG9jYWwiLCJrZWVwQ2FsZW5kYXJUaW1lIiwibmV3VFMiLCJvZmZzZXRHdWVzcyIsImFzT2JqIiwic2V0TG9jYWxlIiwic2V0dGluZ1dlZWtTdHVmZiIsIl9hZGp1c3RUaW1lIiwiZW5kT2YiLCJ0b0xvY2FsZVN0cmluZyIsInRvTG9jYWxlUGFydHMiLCJpbmNsdWRlT2Zmc2V0IiwiZXh0ZW5kZWRab25lIiwiZXh0IiwiX3RvSVNPRGF0ZSIsIl90b0lTT1RpbWUiLCJ0b0lTT1dlZWtEYXRlIiwidG9SRkMyODIyIiwidG9IVFRQIiwidG9TUUxEYXRlIiwidG9TUUxUaW1lIiwiaW5jbHVkZVpvbmUiLCJpbmNsdWRlT2Zmc2V0U3BhY2UiLCJ0b1NRTCIsInRvU2Vjb25kcyIsInRvVW5peEludGVnZXIiLCJ0b0JTT04iLCJpbmNsdWRlQ29uZmlnIiwiYmFzZSIsImFzc2lnbiIsIm90aGVyRGF0ZVRpbWUiLCJpc0FycmF5IiwibWF5YmVBcnJheSIsIm90aGVySXNMYXRlciIsImRpZmZlZCIsImRpZmZOb3ciLCJ1bnRpbCIsImlucHV0TXMiLCJhZGp1c3RlZFRvWm9uZSIsInRvUmVsYXRpdmUiLCJwYWRkaW5nIiwidG9SZWxhdGl2ZUNhbGVuZGFyIiwicHJldmlvdXNPZmZzZXQiLCJtaWxsaXNUb0FkZCIsImV4dGVuZGVkIiwibG9uZ0Zvcm1hdCIsImlhbmFOYW1lIiwiRm9ybWF0cy5EQVRFX01FRF9XSVRIX1dFRUtEQVkiLCJGb3JtYXRzLkRBVEVUSU1FX01FRF9XSVRIX1dFRUtEQVkiLCJWRVJTSU9OIl0sIm1hcHBpbmdzIjoiTUFNTUEsVUFBcUJDLGFBTWRDLFVBQTZCRixFQUN4Q0csWUFBWUMsR0FDVkMsMkJBQTJCRCxFQUFPRSxzQkFPekJDLFVBQTZCUCxFQUN4Q0csWUFBWUMsR0FDVkMsMkJBQTJCRCxFQUFPRSxzQkFPekJFLFVBQTZCUixFQUN4Q0csWUFBWUMsR0FDVkMsMkJBQTJCRCxFQUFPRSxzQkFPekJHLFVBQXlCVCxFQUNwQ0csWUFBWU8sR0FDVkwsc0JBQXNCSyxLQUN0QkMsT0FBT0MsZUFBZUMsS0FBTUosRUFBaUJLLGtCQU9wQ0MsVUFBeUJmLEVBQ3BDRyxZQUFZYSxHQUNWWCxTQUFTVyw2Q0FDVEwsT0FBT0MsZUFBZUMsS0FBTUUsRUFBaUJELGtCQWlCcENHLFVBQXNDakIsRUFDakRHLFlBQVllLEdBQ1ZiLE1BQU1hLEdBQ05QLE9BQU9DLGVBQWVDLEtBQU1JLEVBQThCSCxrQkFPakRLLFVBQTZCbkIsRUFDeENHLFlBQVllLEdBQ1ZiLE1BQU1hLEdBQ05QLE9BQU9DLGVBQWVDLEtBQU1NLEVBQXFCTCxrQkFPeENNLFVBQTRCcEIsRUFDdkNHLGNBQ0VFLE1BQU0sNkJBQ05NLE9BQU9DLGVBQWVDLEtBQU1PLEVBQW9CTixZQytJcEQsTUFBZU8sY0N6TkNDLEVBQVVDLEdBQ3RCLGdCQUFjQSxXQUdGQyxFQUFZRCxHQUN4QixnQkFBY0EsV0FHRkUsRUFBU0YsR0FDckIsTUFBb0IsaUJBQU5BLFdBR0ZHLEVBQVVILEdBQ3RCLE9BQU9FLEVBQVNGLElBQU1BLEVBQUksR0FBTSxXQWFwQkksSUFDWixJQUNJLGdCQUFjTixLQUEyQkEsRUFBYU8sbUJBQ3hELE1BQU9DLEdBQ0wsbUJBVVFDLEVB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
